<!doctype html><html lang=zh-CN><meta charset=UTF-8><meta content="width=device-width" name=viewport><meta content=#222 name=theme-color><meta content="Hexo 7.3.0" name=generator><link crossorigin href=https://cdnjs.cloudflare.com rel=preconnect><link href=/images/apple-touch-icon-next.png rel=apple-touch-icon sizes=180x180><link href=/images/favicon-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><meta content=_ZS2imU4knMegUWG7C18NQWvwS2icy1O2n7QI13BfDs name=google-site-verification><style>:root{--body-bg-color:#fff;--content-bg-color:#fff;--card-bg-color:#f5f5f5;--text-color:#555;--selection-bg:#262a30;--selection-color:#eee;--blockquote-color:#666;--link-color:#555;--link-hover-color:#222;--brand-color:#fff;--brand-hover-color:#fff;--table-row-odd-bg-color:#f9f9f9;--table-row-hover-bg-color:#f5f5f5;--menu-item-bg-color:#f5f5f5;--theme-color:#222;--btn-default-bg:#222;--btn-default-color:#fff;--btn-default-border-color:#222;--btn-default-hover-bg:#fff;--btn-default-hover-color:#222;--btn-default-hover-border-color:#222;--highlight-background:#f3f3f3;--highlight-foreground:#444;--highlight-gutter-background:#e1e1e1;--highlight-gutter-foreground:#555;color-scheme:light}html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{margin:.67em 0;font-size:2em}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace;font-size:1em}a{background:0 0}abbr[title]{border-bottom:none;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace;font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:100%;line-height:1.15}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted buttontext}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;white-space:normal;max-width:100%;padding:0;display:table}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}details{display:block}summary{display:list-item}template,[hidden]{display:none}::selection{background:var(--selection-bg);color:var(--selection-color)}html,body{height:100%}body{background:var(--body-bg-color);box-sizing:border-box;color:var(--text-color);min-height:100%;font-family:Lato,PingFang SC,Microsoft YaHei,sans-serif;font-size:1em;line-height:2;transition:padding .2s ease-in-out;position:relative}h1,h2,h3,h4,h5,h6{margin:30px 0 15px;font-family:Lato,PingFang SC,Microsoft YaHei,sans-serif;font-weight:700;line-height:1.5}h1{font-size:1.5em}h2{font-size:1.375em}h3{font-size:1.25em}h4{font-size:1.125em}h5{font-size:1em}h6{font-size:.875em}a{color:var(--link-color);cursor:pointer;overflow-wrap:break-word;border-bottom:1px solid #999;outline:0;text-decoration:none}a:hover{border-bottom-color:var(--link-hover-color);color:var(--link-hover-color)}iframe,img,video,embed{max-width:100%;margin-left:auto;margin-right:auto;display:block}hr{background-image:repeating-linear-gradient(-45deg,#ddd,#ddd 4px,#0000 4px 8px);border:0;height:3px;margin:40px 0}blockquote{color:var(--blockquote-color);border-left:4px solid #ddd;margin:0;padding:0 15px}blockquote cite:before{content:"-";padding:0 5px}dt{font-weight:700}dd{margin:0;padding:0}.table-container{overflow:auto}table{border-collapse:collapse;border-spacing:0;width:100%;margin:0 0 20px;font-size:.875em}tbody tr:nth-of-type(odd){background:var(--table-row-odd-bg-color)}tbody tr:hover{background:var(--table-row-hover-bg-color)}caption,th,td{padding:8px}th,td{border:1px solid #ddd;border-bottom-width:3px}th{padding-bottom:10px;font-weight:700}td{border-bottom-width:1px}.btn{background:var(--btn-default-bg);border:2px solid var(--btn-default-border-color);color:var(--btn-default-color);border-radius:0;padding:0 20px;font-size:.875em;line-height:2;transition:background-color .2s ease-in-out;display:inline-block}.btn:hover{background:var(--btn-default-hover-bg);border-color:var(--btn-default-hover-border-color);color:var(--btn-default-hover-color)}.btn+.btn{margin:0 0 8px 8px}.btn .fa-fw{text-align:left;width:1.28571em}.toggle{line-height:0}.toggle .toggle-line{background:#fff;width:100%;height:2px;transition:left .4s,opacity .4s,top .4s,transform .4s,width .4s;display:block;position:relative;top:0;left:0}.toggle .toggle-line:first-child{margin-top:1px}.toggle .toggle-line:not(:first-child){margin-top:4px}.toggle.toggle-arrow :first-child{width:50%;top:2px;transform:rotate(-45deg)}.toggle.toggle-arrow :last-child{width:50%;top:-2px;transform:rotate(45deg)}.toggle.toggle-close :nth-child(2){opacity:0}.toggle.toggle-close :first-child{top:6px;transform:rotate(-45deg)}.toggle.toggle-close :last-child{top:-6px;transform:rotate(45deg)}pre code.hljs{padding:1em;display:block;overflow-x:auto}code.hljs{padding:3px 5px}.hljs{color:#444;background:#f3f3f3}.hljs-comment{color:#697070}.hljs-tag,.hljs-punctuation{color:#444a}.hljs-tag .hljs-name,.hljs-tag .hljs-attr{color:#444}.hljs-keyword,.hljs-attribute,.hljs-selector-tag,.hljs-meta .hljs-keyword,.hljs-doctag,.hljs-name{font-weight:700}.hljs-type,.hljs-string,.hljs-number,.hljs-selector-id,.hljs-selector-class,.hljs-quote,.hljs-template-tag,.hljs-deletion{color:#800}.hljs-title,.hljs-section{color:#800;font-weight:700}.hljs-regexp,.hljs-symbol,.hljs-variable,.hljs-template-variable,.hljs-link,.hljs-selector-attr,.hljs-operator,.hljs-selector-pseudo{color:#ab5656}.hljs-literal{color:#695}.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-addition{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta .hljs-string{color:#38a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.highlight:hover .copy-btn,.code-container:hover .copy-btn{opacity:1}.code-container{position:relative}.copy-btn{color:#333;cursor:pointer;opacity:0;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;padding:2px 6px;font-size:.8125em;line-height:1.6;transition:opacity .2s ease-in-out;position:absolute;top:8px;right:4px}code,kbd,figure.highlight,pre{background:var(--highlight-background);color:var(--highlight-foreground)}figure.highlight,pre{margin:0 auto 20px;line-height:1.6}figure.highlight figcaption,pre .caption{background:var(--highlight-gutter-background);color:var(--highlight-foreground);padding:.5em;font-size:.875em;line-height:1.2;display:flow-root}figure.highlight figcaption a,pre .caption a{color:var(--highlight-foreground);float:right}figure.highlight figcaption a:hover,pre .caption a:hover{border-bottom-color:var(--highlight-foreground)}pre,code{font-family:consolas,Menlo,monospace,PingFang SC,Microsoft YaHei}code{overflow-wrap:break-word;border-radius:3px;padding:2px 4px;font-size:.875em}kbd{white-space:nowrap;border:2px solid #ccc;border-radius:.2em;padding:.1em .3em;font-family:inherit;box-shadow:.1em .1em .2em #0000001a}figure.highlight{position:relative;overflow:auto}figure.highlight pre{border:0;margin:0;padding:10px 0}figure.highlight table{border:0;width:auto;margin:0}figure.highlight td{border:0;padding:0}figure.highlight .gutter{-webkit-user-select:none;user-select:none}figure.highlight .gutter pre{background:var(--highlight-gutter-background);color:var(--highlight-gutter-foreground);text-align:right;padding-left:10px;padding-right:10px}figure.highlight .code pre{width:100%;padding-left:10px}figure.highlight .marked{background:#0000004d}pre .caption{margin-bottom:10px}.gist table{width:auto}.gist table td{border:0}pre{padding:10px;overflow:auto}pre code{text-shadow:none;background:0 0;padding:0}.blockquote-center{text-align:center;border-left:0;margin:40px 0;padding:0;position:relative}.blockquote-center:before,.blockquote-center:after{opacity:.6;width:100%;line-height:1;position:absolute;left:0}.blockquote-center:before{text-align:left;content:"";border-top:1px solid #ccc;font-family:"Font Awesome 6 Free";font-weight:900;top:-20px}.blockquote-center:after{text-align:right;content:"";border-bottom:1px solid #ccc;font-family:"Font Awesome 6 Free";font-weight:900;bottom:-20px}.blockquote-center p,.blockquote-center div{text-align:center}.group-picture{margin-bottom:20px}.group-picture .group-picture-row{gap:3px;margin-bottom:3px;display:flex}.group-picture .group-picture-column{flex:1}.group-picture .group-picture-column img{object-fit:cover;width:100%;height:100%;margin:0}.post-body .label{color:#555;padding:0 2px}.post-body .label.default{background:#f0f0f0}.post-body .label.primary{background:#efe6f7}.post-body .label.info{background:#e5f2f8}.post-body .label.success{background:#e7f4e9}.post-body .label.warning{background:#fcf6e1}.post-body .label.danger{background:#fae8eb}.post-body .link-grid{grid-gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-bottom:20px;padding:1rem;display:grid}.post-body .link-grid .link-grid-container{border:solid #ddd;min-width:0;min-height:5rem;padding:.5rem;transition:background .3s;position:relative;box-shadow:1rem 1rem .5rem #00000080}.post-body .link-grid .link-grid-container:hover{background:var(--card-bg-color);animation:.5s next-shake}.post-body .link-grid .link-grid-container:active{transform:translate(.2rem,.2rem);box-shadow:.5rem .5rem .25rem #00000080}.post-body .link-grid .link-grid-container .link-grid-image{box-sizing:border-box;border:1px solid #ddd;border-radius:50%;width:5rem;height:5rem;padding:3px;position:absolute}.post-body .link-grid .link-grid-container p{margin:0 1rem 0 6rem}.post-body .link-grid .link-grid-container p:first-of-type{font-size:1.2em}.post-body .link-grid .link-grid-container p:last-of-type{opacity:.7;font-size:.8em;line-height:1.3rem}.post-body .link-grid .link-grid-container a{border:0;width:100%;height:100%;position:absolute;top:0;left:0}@keyframes next-shake{0%{transform:translate(1pt,1pt)rotate(0)}10%{transform:translate(-1pt,-2pt)rotate(-1deg)}20%{transform:translate(-3pt)rotate(1deg)}30%{transform:translate(3pt,2pt)rotate(0)}40%{transform:translate(1pt,-1pt)rotate(1deg)}50%{transform:translate(-1pt,2pt)rotate(-1deg)}60%{transform:translate(-3pt,1pt)rotate(0)}70%{transform:translate(3pt,1pt)rotate(-1deg)}80%{transform:translate(-1pt,-1pt)rotate(1deg)}90%{transform:translate(1pt,2pt)rotate(0)}to{transform:translate(1pt,-2pt)rotate(-1deg)}}.post-body .note{border:1px solid #eee;border-left-width:5px;border-radius:3px;margin-bottom:20px;padding:1em;position:relative}.post-body .note summary{cursor:pointer;outline:0}.post-body .note summary p{display:inline}.post-body .note h2,.post-body .note h3,.post-body .note h4,.post-body .note h5,.post-body .note h6{border-bottom:initial;margin:0;padding-top:0}.post-body .note :first-child{margin-top:0}.post-body .note :last-child{margin-bottom:0}.post-body .note.default{border-left-color:#777}.post-body .note.default h2,.post-body .note.default h3,.post-body .note.default h4,.post-body .note.default h5,.post-body .note.default h6{color:#777}.post-body .note.primary{border-left-color:#6f42c1}.post-body .note.primary h2,.post-body .note.primary h3,.post-body .note.primary h4,.post-body .note.primary h5,.post-body .note.primary h6{color:#6f42c1}.post-body .note.info{border-left-color:#428bca}.post-body .note.info h2,.post-body .note.info h3,.post-body .note.info h4,.post-body .note.info h5,.post-body .note.info h6{color:#428bca}.post-body .note.success{border-left-color:#5cb85c}.post-body .note.success h2,.post-body .note.success h3,.post-body .note.success h4,.post-body .note.success h5,.post-body .note.success h6{color:#5cb85c}.post-body .note.warning{border-left-color:#f0ad4e}.post-body .note.warning h2,.post-body .note.warning h3,.post-body .note.warning h4,.post-body .note.warning h5,.post-body .note.warning h6{color:#f0ad4e}.post-body .note.danger{border-left-color:#d9534f}.post-body .note.danger h2,.post-body .note.danger h3,.post-body .note.danger h4,.post-body .note.danger h5,.post-body .note.danger h6{color:#d9534f}.post-body .tabs{margin-bottom:20px}.post-body .tabs,.tabs-comment{padding-top:10px}.post-body .tabs ul.nav-tabs,.tabs-comment ul.nav-tabs{background:var(--body-bg-color);z-index:5;flex-wrap:wrap;justify-content:center;margin:0;padding:0;display:flex;position:sticky;top:0}@media (width<=413px){.post-body .tabs ul.nav-tabs,.tabs-comment ul.nav-tabs{margin-bottom:5px;display:block}}.post-body .tabs ul.nav-tabs li.tab,.tabs-comment ul.nav-tabs li.tab{border:1px solid #0000;border-top-width:3px;border-bottom-color:#ddd;border-radius:0;flex-grow:1;list-style-type:none}@media (width<=413px){.post-body .tabs ul.nav-tabs li.tab,.tabs-comment ul.nav-tabs li.tab{border:1px solid #0000;border-left-width:3px;border-radius:0}}.post-body .tabs ul.nav-tabs li.tab a,.tabs-comment ul.nav-tabs li.tab a{border-bottom:initial;text-align:center;padding:.25em .75em;line-height:1.8;transition:all .2s ease-out;display:block}.post-body .tabs ul.nav-tabs li.tab a i[class^=fa],.tabs-comment ul.nav-tabs li.tab a i[class^=fa]{width:1.28571em}.post-body .tabs ul.nav-tabs li.tab.active,.tabs-comment ul.nav-tabs li.tab.active{border-color:#fc6423 #ddd #0000}@media (width<=413px){.post-body .tabs ul.nav-tabs li.tab.active,.tabs-comment ul.nav-tabs li.tab.active{border-color:#ddd #ddd #ddd #fc6423}}.post-body .tabs ul.nav-tabs li.tab.active a,.tabs-comment ul.nav-tabs li.tab.active a{cursor:default}.post-body .tabs .tab-content,.tabs-comment .tab-content{border:1px solid #ddd;border-top-color:#0000;border-radius:0}@media (width<=413px){.post-body .tabs .tab-content,.tabs-comment .tab-content{border-top-color:#ddd;border-radius:0}}.post-body .tabs .tab-content .tab-pane,.tabs-comment .tab-content .tab-pane{padding:20px 20px 0}.post-body .tabs .tab-content .tab-pane:not(.active),.tabs-comment .tab-content .tab-pane:not(.active){display:none}.pagination .prev,.pagination .next,.pagination .page-number,.pagination .space{margin:-1px 10px 0;padding:0 10px;display:inline-block}@media (width<=767px){.pagination .prev,.pagination .next,.pagination .page-number,.pagination .space{margin:0 5px}}.pagination .page-number.current{color:var(--content-bg-color);background:#ccc;border-color:#ccc}.pagination{text-align:center;border-top:1px solid #eee;margin:120px 0 0}.pagination .prev,.pagination .next,.pagination .page-number{border-top:1px solid #eee;border-bottom:0;transition:border-color .2s ease-in-out}.pagination .prev:hover,.pagination .next:hover,.pagination .page-number:hover{border-top-color:var(--link-hover-color)}@media (width<=767px){.pagination{border-top:0}.pagination .prev,.pagination .next,.pagination .page-number{border-top:0;border-bottom:1px solid #eee}.pagination .prev:hover,.pagination .next:hover,.pagination .page-number:hover{border-bottom-color:var(--link-hover-color)}}.pagination .space{margin:0;padding:0}.comments{margin-top:60px;overflow:hidden}.comment-button-group{flex-wrap:wrap;justify-content:center;margin:1em 0;display:flex}.comment-button-group .comment-button{margin:.1em .2em}.comment-button-group .comment-button.active{background:var(--btn-default-hover-bg);border-color:var(--btn-default-hover-border-color);color:var(--btn-default-hover-color)}.comment-position{display:none}.comment-position.active{display:block}.tabs-comment{margin-top:4em;padding-top:0}.tabs-comment .comments{margin-top:0;padding-top:0}.headband{background:var(--theme-color);height:3px}@media (width<=991px){.headband{display:none}}.site-brand-container{flex-shrink:0;padding:0 10px;display:flex}.use-motion .column,.use-motion .site-brand-container .toggle{opacity:0}.site-meta{text-align:center;flex-grow:1}@media (width<=767px){.site-meta{text-align:center}}.custom-logo-image{margin-top:20px}@media (width<=991px){.custom-logo-image{display:none}}.brand{color:var(--brand-color);border-bottom:0;padding:0 40px;display:inline-block}.brand:hover{color:var(--brand-hover-color)}.site-title{margin:0;font-family:Lato,PingFang SC,Microsoft YaHei,sans-serif;font-size:1.375em;font-weight:400;line-height:1.5}.site-subtitle{color:#999;margin:10px 0;font-size:.8125em}.use-motion .site-title,.use-motion .site-subtitle,.use-motion .custom-logo-image{opacity:0;position:relative;top:-10px}.site-nav-toggle,.site-nav-right{display:none}@media (width<=767px){.site-nav-toggle,.site-nav-right{flex-direction:column;justify-content:center;display:flex}}.site-nav-toggle .toggle,.site-nav-right .toggle{color:var(--text-color);width:22px;padding:10px}.site-nav-toggle .toggle .toggle-line,.site-nav-right .toggle .toggle-line{background:var(--text-color);border-radius:1px}@media (width<=767px){.site-nav{--scroll-height:0;visibility:hidden;height:0;transition:height .2s ease-in-out,visibility .2s ease-in-out;overflow:hidden}body:not(.site-nav-on) .site-nav .animated{animation:none}body.site-nav-on .site-nav{height:var(--scroll-height);visibility:unset}}.menu{text-align:center;margin:0;padding:1em 0}.menu-item{margin:0 10px;list-style:none;display:inline-block}@media (width<=767px){.menu-item{margin-top:10px;display:block}.menu-item.menu-item-search{display:none}}.menu-item a{border-bottom:0;font-size:.8125em;transition:border-color .2s ease-in-out;display:block}.menu-item a:hover,.menu-item a.menu-item-active{background:var(--menu-item-bg-color)}.menu-item i[class^=fa]{margin-right:8px}.menu-item .badge{color:#555;text-shadow:none;background:#eee;border-radius:0;margin-left:.35em;padding:1px 4px;font-weight:700;line-height:1}.use-motion .menu-item{visibility:hidden}.sidebar{right:-320px}.sidebar-active .sidebar{right:0}.sidebar{z-index:20;background:#222;width:320px;max-height:100vh;transition:left .2s ease-out,right .2s ease-out;position:fixed;top:0;bottom:0;overflow-y:auto;box-shadow:inset 0 2px 6px #000}.sidebar a{color:#999;border-bottom-color:#555}.sidebar a:hover{color:#eee;border-bottom-color:#eee}.links-of-author:not(:first-child){margin-top:15px}.links-of-author a{vertical-align:middle;border-bottom-color:#555;margin-bottom:10px;margin-right:10px;transition:all .2s ease-in-out;display:inline-block}.links-of-author a:before{content:" ";background:#3b38ff;border-radius:50%;width:4px;height:4px;margin-right:3px;display:inline-block;transform:translateY(-2px)}.links-of-blogroll-item{padding:0 5px}.popular-posts .popular-posts-item .popular-posts-link:hover{background:0 0}.sidebar-dimmer{opacity:0;visibility:hidden;z-index:10;background:#000;width:100%;height:100%;transition:visibility .4s,opacity .4s;position:fixed;top:0;left:0}.sidebar-active .sidebar-dimmer{opacity:.7;visibility:visible}.sidebar-inner{color:#999;text-align:center;flex-direction:column;justify-content:center;padding:18px 10px;display:flex}.sidebar-toggle{cursor:pointer;opacity:.8;z-index:30;background:#222;width:16px;height:16px;padding:5px;position:fixed;bottom:61px;right:30px}@media (width<=991px){.sidebar-toggle{right:20px}}.sidebar-toggle:hover{opacity:1}@media (width<=991px){.sidebar-toggle{opacity:1}}.sidebar-toggle:hover .toggle-line{background:#87daff}@media (any-hover:hover){body:not(.sidebar-active) .sidebar-toggle:hover :first-child{width:50%;top:2px;transform:rotate(-45deg)}body:not(.sidebar-active) .sidebar-toggle:hover :last-child{width:50%;top:-2px;transform:rotate(45deg)}}.sidebar-active .sidebar-toggle :nth-child(2){opacity:0}.sidebar-active .sidebar-toggle :first-child{top:6px;transform:rotate(-45deg)}.sidebar-active .sidebar-toggle :last-child{top:-6px;transform:rotate(45deg)}.sidebar-nav{pointer-events:none;visibility:hidden;height:0;margin:0;padding-left:0;font-size:.875em;transition:height .2s ease-in-out,visibility .2s ease-in-out;overflow:hidden}.sidebar-nav-active .sidebar-nav{pointer-events:unset;height:calc(2em + 1px);visibility:unset}.sidebar-nav li{color:#666;cursor:pointer;border-bottom:1px solid #0000;transition:border-bottom-color .2s ease-in-out,color .2s ease-in-out;display:inline-block}.sidebar-nav li.sidebar-nav-overview{margin-left:10px}.sidebar-nav li:hover{color:#f5f5f5}.sidebar-toc-active .sidebar-nav-toc,.sidebar-overview-active .sidebar-nav-overview{color:#87daff;border-bottom-color:#87daff;transition-delay:.2s}.sidebar-toc-active .sidebar-nav-toc:hover,.sidebar-overview-active .sidebar-nav-overview:hover{color:#87daff}.sidebar-panel-container{flex:1;align-items:start;padding-top:0;transition:padding-top .2s ease-in-out;display:grid;overflow:hidden auto}.sidebar-nav-active .sidebar-panel-container{padding-top:20px}.sidebar-panel{opacity:0;pointer-events:none;visibility:hidden;grid-area:1/1;height:0;transition:opacity .2s ease-in-out,transform .2s ease-in-out,visibility .2s ease-in-out;animation:.2s ease-in-out deactivate-sidebar-panel;overflow:hidden;transform:translateY(0)}.sidebar-nav-active .sidebar-panel,.sidebar-overview-active .sidebar-panel.post-toc-wrap{transform:translateY(-20px)}.sidebar-overview-active:not(.sidebar-nav-active) .sidebar-panel.post-toc-wrap{transition-delay:0s,.2s,0s}.sidebar-overview-active .sidebar-panel.site-overview-wrap,.sidebar-toc-active .sidebar-panel.post-toc-wrap{opacity:1;pointer-events:unset;height:auto;visibility:unset;transition-delay:.2s,.2s,0s;animation-name:activate-sidebar-panel;transform:translateY(0)}.sidebar-panel.site-overview-wrap{flex-direction:column;justify-content:flex-start;gap:10px;display:flex}@keyframes deactivate-sidebar-panel{0%{height:var(--inactive-panel-height,0)}to{height:var(--active-panel-height,0)}}@keyframes activate-sidebar-panel{0%{height:var(--inactive-panel-height,auto)}to{height:var(--active-panel-height,auto)}}.post-toc{font-size:.875em}.post-toc ol{text-align:left;margin:0;padding:0 2px 0 10px;list-style:none}.post-toc ol>:last-child{margin-bottom:5px}.post-toc ol>ol{padding-left:0}.post-toc ol a{transition:all .2s ease-in-out}.post-toc .nav-item{text-overflow:ellipsis;white-space:nowrap;line-height:1.8;overflow:hidden}.post-toc .nav .nav-child{--height:0;opacity:0;visibility:hidden;height:0;transition:all .2s ease-in-out;overflow:hidden}.post-toc .nav .active>.nav-child{height:var(--height,auto);opacity:1;visibility:unset}.post-toc .nav .active>a{color:#87daff;border-bottom-color:#87daff}.post-toc .nav .active-current>a,.post-toc .nav .active-current>a:hover{color:#87daff}.site-author-image{border:2px solid #333;border-radius:50%;max-width:96px;padding:2px}.site-author-name{color:#f5f5f5;margin:5px 0 0;font-weight:400}.site-description{color:#999;margin-top:5px;font-size:1em}.site-state{flex-wrap:wrap;justify-content:center;line-height:1.4;display:flex}.site-state-item{padding:0 15px}.site-state-item a{border-bottom:0;display:block}.site-state-item-count{font-size:1.25em;font-weight:600;display:block}.site-state-item-name{color:inherit;font-size:.875em}.sidebar .sidebar-button:not(:first-child){margin-top:15px}.sidebar .sidebar-button button{color:#fc6423;cursor:pointer;background:0 0;border:1px solid #fc6423;border-radius:4px;padding:0 15px;line-height:2}.sidebar .sidebar-button button:hover{color:#fff;background:#fc6423}.sidebar .sidebar-button button i[class^=fa]{margin-right:5px}.links-of-author a{font-size:.8125em}.links-of-author i[class^=fa]{margin-right:2px}.cc-license .cc-opacity{opacity:.7;border-bottom:0}.cc-license .cc-opacity:hover{opacity:.9}.cc-license img{display:inline-block}.links-of-blogroll{font-size:.8125em}.links-of-blogroll-title{font-size:.875em;font-weight:600}.links-of-blogroll-list{flex-flow:column wrap;justify-content:center;gap:5px;margin:5px 0 0;padding:0;list-style:none;display:flex}.links-of-blogroll-item{max-width:100%}.links-of-blogroll-item a{box-sizing:border-box;text-overflow:ellipsis;white-space:nowrap;max-width:100%;display:inline-block;overflow:hidden}.footer{color:#999;padding:20px 0;font-size:.875em;transition:left .2s ease-in-out,right .2s ease-in-out}.footer.footer-fixed{position:absolute;bottom:0;left:0;right:0}.footer-inner{box-sizing:border-box;text-align:center;flex-direction:column;justify-content:center;width:700px;margin:0 auto;display:flex}@media (width<=767px){.footer-inner{width:auto}}@media (width>=1200px){.footer-inner{width:800px}}@media (width>=1600px){.footer-inner{width:900px}}.use-motion .footer{opacity:0}.languages{font-size:1.125em;display:inline-block;position:relative}.languages .lang-select-label span{margin:0 .5em}.languages .lang-select{opacity:0;width:100%;height:100%;position:absolute;top:0;left:0}.with-love{color:red;margin:0 5px;animation:1.33s ease-in-out infinite icon-animate;display:inline-block}@keyframes icon-animate{0%,to{transform:scale(1)}10%,30%{transform:scale(.9)}20%,40%,60%,80%{transform:scale(1.1)}50%,70%{transform:scale(1.1)}}.back-to-top{color:#fff;cursor:pointer;opacity:.8;z-index:30;background:#222;align-items:center;height:26px;font-size:12px;transition:bottom .2s ease-in-out;display:flex;position:fixed;bottom:-100px;right:30px}.back-to-top span{margin-right:8px;display:none}.back-to-top .fa{text-align:center;width:26px}@media (width<=991px){.back-to-top{right:20px}}.back-to-top:hover{opacity:1}@media (width<=991px){.back-to-top{opacity:1}}.back-to-top:hover{color:#87daff}.back-to-top.back-to-top-on{bottom:30px}.reading-progress-bar{--progress:0;z-index:50;height:3px;width:var(--progress);background:#37c6c0;position:fixed;top:0;left:0}.rtl.post-body p,.rtl.post-body a,.rtl.post-body h1,.rtl.post-body h2,.rtl.post-body h3,.rtl.post-body h4,.rtl.post-body h5,.rtl.post-body h6,.rtl.post-body li,.rtl.post-body ul,.rtl.post-body ol{direction:rtl;font-family:UKIJ Ekran}.rtl.post-title{font-family:UKIJ Ekran}.post-button{text-align:center;margin-top:40px}.use-motion .post-block,.use-motion .pagination,.use-motion .comments,.use-motion .post-header,.use-motion .post-body,.use-motion .collection-header{visibility:hidden}.posts-collapse .post-content{margin-bottom:35px;margin-left:35px;position:relative}@media (width<=767px){.posts-collapse .post-content{margin-left:0;margin-right:0}}.posts-collapse .post-content .collection-title{font-size:1.125em;position:relative}.posts-collapse .post-content .collection-title:before{content:" ";background:#999;border:1px solid #fff;border-radius:50%;width:10px;height:10px;margin-top:-4px;margin-left:-6px;position:absolute;top:50%}.posts-collapse .post-content .collection-year{margin:60px 0;font-size:1.5em;font-weight:700;position:relative}.posts-collapse .post-content .collection-year .collection-year-count{color:#555;text-shadow:none;background:#eee;border-radius:0;margin-left:.35em;padding:1px 4px;font-size:.75em;font-weight:700;line-height:1}.posts-collapse .post-content .collection-year:before{content:" ";background:#bbb;border-radius:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;position:absolute;top:50%}.posts-collapse .post-content .collection-header{margin-left:20px;display:block}.posts-collapse .post-content .collection-header small{color:#bbb;margin-left:5px}.posts-collapse .post-content .post-header{border-bottom:1px dashed #ccc;margin:30px 2px 0;padding-left:15px;transition:border .2s ease-in-out;position:relative}.posts-collapse .post-content .post-header:before{content:" ";background:#bbb;border:1px solid #fff;border-radius:50%;width:6px;height:6px;transition:background .2s ease-in-out;position:absolute;top:.75em;left:-6px}.posts-collapse .post-content .post-header:hover{border-bottom-color:#666}.posts-collapse .post-content .post-header:hover:before{background:#222}.posts-collapse .post-content .post-meta-container{margin-right:10px;font-size:.75em;display:inline}.posts-collapse .post-content .post-title{display:inline}.posts-collapse .post-content .post-title a{color:var(--link-color);border-bottom:0}.posts-collapse .post-content .post-title .fa{margin-left:5px;font-size:.875em}.posts-collapse .post-content:before{content:" ";background:#f5f5f5;width:4px;height:100%;margin-left:-2px;position:absolute;top:1.25em}.post-body{overflow-wrap:break-word;font-family:Lato,PingFang SC,Microsoft YaHei,sans-serif}@media (width>=1200px){.post-body{font-size:1.125em}}@media (width>=992px){.post-body{text-align:justify}}@media (width<=991px){.post-body{text-align:justify}}.post-body h1 .header-anchor,.post-body h2 .header-anchor,.post-body h3 .header-anchor,.post-body h4 .header-anchor,.post-body h5 .header-anchor,.post-body h6 .header-anchor,.post-body h1 .headerlink,.post-body h2 .headerlink,.post-body h3 .headerlink,.post-body h4 .headerlink,.post-body h5 .headerlink,.post-body h6 .headerlink{color:inherit;float:right;opacity:0;border-bottom-style:none;margin-left:10px;font-size:.875em}.post-body h1 .header-anchor:before,.post-body h2 .header-anchor:before,.post-body h3 .header-anchor:before,.post-body h4 .header-anchor:before,.post-body h5 .header-anchor:before,.post-body h6 .header-anchor:before,.post-body h1 .headerlink:before,.post-body h2 .headerlink:before,.post-body h3 .headerlink:before,.post-body h4 .headerlink:before,.post-body h5 .headerlink:before,.post-body h6 .headerlink:before{content:"";font-family:"Font Awesome 6 Free";font-weight:900}.post-body h1:hover .header-anchor,.post-body h2:hover .header-anchor,.post-body h3:hover .header-anchor,.post-body h4:hover .header-anchor,.post-body h5:hover .header-anchor,.post-body h6:hover .header-anchor,.post-body h1:hover .headerlink,.post-body h2:hover .headerlink,.post-body h3:hover .headerlink,.post-body h4:hover .headerlink,.post-body h5:hover .headerlink,.post-body h6:hover .headerlink{opacity:.5}.post-body h1:hover .header-anchor:hover,.post-body h2:hover .header-anchor:hover,.post-body h3:hover .header-anchor:hover,.post-body h4:hover .header-anchor:hover,.post-body h5:hover .header-anchor:hover,.post-body h6:hover .header-anchor:hover,.post-body h1:hover .headerlink:hover,.post-body h2:hover .headerlink:hover,.post-body h3:hover .headerlink:hover,.post-body h4:hover .headerlink:hover,.post-body h5:hover .headerlink:hover,.post-body h6:hover .headerlink:hover{opacity:1}.post-body .exturl .fa{margin-left:4px;font-size:.875em}.post-body figure:not(.highlight) figcaption{color:#999;text-align:center;margin:-15px auto 15px;font-size:.875em;font-weight:700;line-height:1}.post-body iframe,.post-body img,.post-body video,.post-body embed{margin-bottom:20px}.post-body .video-container{width:100%;height:0;margin-bottom:20px;padding-top:75%;position:relative;overflow:hidden}.post-body .video-container iframe,.post-body .video-container object,.post-body .video-container embed{width:100%;height:100%;margin:0;position:absolute;top:0;left:0}.post-gallery{min-height:200px;display:flex}.post-gallery .post-gallery-image{flex:1}.post-gallery .post-gallery-image:not(:first-child){clip-path:polygon(40px 0,100% 0,100% 100%,0 100%);margin-left:-20px}.post-gallery .post-gallery-image:not(:last-child){margin-right:-20px}.post-gallery .post-gallery-image img{object-fit:cover;opacity:1;width:100%;height:100%}.posts-expand .post-gallery{margin-bottom:60px}.posts-collapse .post-gallery{margin:15px 0}.posts-expand .post-header{text-align:center;margin-bottom:60px;font-size:1.125em}.posts-expand .post-title{margin:initial;overflow-wrap:break-word;font-size:1.5em;font-weight:400}.posts-expand .post-title-link{color:var(--link-color);border-bottom:0;max-width:100%;display:inline-block;position:relative}.posts-expand .post-title-link:before{background:var(--link-color);content:"";width:100%;height:2px;transition:transform .2s ease-in-out;position:absolute;bottom:0;left:0;transform:scaleX(0)}.posts-expand .post-title-link:hover:before{transform:scaleX(1)}.posts-expand .post-title-link .fa{margin-left:5px;font-size:.875em}.post-sticky-flag{margin-right:8px;display:inline-block;transform:rotate(30deg)}.posts-expand .post-meta-container{color:#999;margin-top:3px;font-family:Lato,PingFang SC,Microsoft YaHei,sans-serif;font-size:.75em}.posts-expand .post-meta-container .post-description{margin-top:2px;font-size:.875em}.posts-expand .post-meta-container time{border-bottom:1px dashed #999}.post-meta{flex-wrap:wrap;justify-content:center;display:flex}:not(.post-meta-break)+.post-meta-item:before{content:"|";margin:0 .5em}.post-meta-item-icon{margin-right:3px}@media (width<=991px){.post-meta-item-text{display:none}}.post-meta-break{flex-basis:100%;height:0}.post-nav{border-top:1px solid #eee;justify-content:space-between;gap:30px;margin-top:1em;padding:10px 5px 0;display:flex}.post-nav-item{flex:1}.post-nav-item a{border-bottom:0;font-size:.875em;line-height:1.6;display:block}.post-nav-item a:active{top:2px}.post-nav-item .fa{font-size:.75em}.post-nav-item:first-child .fa{margin-right:5px}.post-nav-item:last-child{text-align:right}.post-nav-item:last-child .fa{margin-left:5px}.post-footer{flex-direction:column;justify-content:center;display:flex}.post-eof{background:#ccc;width:8%;height:1px;margin:80px auto 60px}.post-block:last-of-type .post-eof{display:none}.post-copyright ul{background:var(--card-bg-color);border-left:3px solid #ff2a2a;margin:1em 0 0;padding:.5em 1em;list-style:none;position:relative;overflow:hidden}.post-copyright ul:after{content:"";opacity:.1;font-family:"Font Awesome 6 Brands";font-size:200px;position:absolute;top:-150px;right:-50px}.post-tags{text-align:center;margin-top:40px}.post-tags a{font-size:.8125em;display:inline-block}.post-tags a:not(:last-child){margin-right:10px}.social-like{border-top:1px solid #eee;flex-wrap:wrap;justify-content:center;margin-top:1em;padding-top:1em;font-size:.875em;display:flex}.social-like a{border-bottom:none}.reward-container{text-align:center;margin:1em 0 0;padding:1em 0}.reward-container button{color:#87daff;cursor:pointer;vertical-align:text-top;background:0 0;border:2px solid #87daff;border-radius:2px;outline:0;padding:0 15px;line-height:2}.reward-container button:hover{color:#fff;background:#87daff}.post-reward{padding-top:20px;display:none}.post-reward.active{display:block}.post-reward div{display:inline-block}.post-reward div span{display:block}.post-reward img{width:180px;max-width:100%;margin:.8em 2em 0;display:inline-block}@keyframes next-roll{0%{transform:rotate(30deg)}to{transform:rotate(-30deg)}}.category-all-page .category-all-title{text-align:center}.category-all-page .category-all{margin-top:20px}.category-all-page .category-list{margin:0;padding:0;list-style:none}.category-all-page .category-list-item{margin:5px 10px}.category-all-page .category-list-count{color:#555;text-shadow:none;background:#eee;border-radius:0;margin-left:.35em;padding:1px 4px;font-size:.75em;font-weight:700;line-height:1}.category-all-page .category-list-child{padding-left:10px}.event-list hr{background:#222;margin:20px 0 45px}.event-list hr:after{color:#fff;content:"NOW";background:#222;padding:0 5px;font-weight:700;display:inline-block}.event-list .event{--event-background:#222;--event-foreground:#bbb;--event-title:#fff;background:var(--event-background);padding:15px}.event-list .event .event-summary{color:var(--event-title);border-bottom:0;margin:0;padding:0 0 0 35px;position:relative}.event-list .event .event-summary:before{background:var(--event-title);content:" ";border-radius:50%;width:12px;height:12px;margin-top:-6px;animation:1s ease-in-out infinite alternate dot-flash;position:absolute;top:50%;left:0}.event-list .event:nth-of-type(odd) .event-summary:before{animation-delay:.5s}.event-list .event:not(:last-child){margin-bottom:20px}.event-list .event .event-relative-time{color:var(--event-foreground);padding-left:12px;font-size:12px;font-weight:400;display:inline-block}.event-list .event .event-details{color:var(--event-foreground);padding:6px 0 6px 35px;line-height:18px;display:block}.event-list .event .event-details:before{color:var(--event-foreground);width:14px;margin-right:9px;font-family:"Font Awesome 6 Free";font-weight:900;display:inline-block}.event-list .event .event-details.event-location:before{content:""}.event-list .event .event-details.event-duration:before{content:""}.event-list .event .event-details.event-description:before{content:""}.event-list .event-past{--event-background:#f5f5f5;--event-foreground:#999;--event-title:#222}@keyframes dot-flash{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}ul.breadcrumb{text-align:center;margin:1em 0;padding:0 2em;font-size:.75em;list-style:none}ul.breadcrumb li{display:inline}ul.breadcrumb li:not(:first-child):before{content:"/ ";padding:.5em;font-weight:400}ul.breadcrumb li:last-child{font-weight:700}.tag-cloud{text-align:center}.tag-cloud a{margin:10px;display:inline-block}.tag-cloud-0{color:#aaa;border-bottom-color:#aaa}.tag-cloud-1{color:#9a9a9a;border-bottom-color:#9a9a9a}.tag-cloud-2{color:#8b8b8b;border-bottom-color:#8b8b8b}.tag-cloud-3{color:#7c7c7c;border-bottom-color:#7c7c7c}.tag-cloud-4{color:#6c6c6c;border-bottom-color:#6c6c6c}.tag-cloud-5{color:#5d5d5d;border-bottom-color:#5d5d5d}.tag-cloud-6{color:#4e4e4e;border-bottom-color:#4e4e4e}.tag-cloud-7{color:#3e3e3e;border-bottom-color:#3e3e3e}.tag-cloud-8{color:#2f2f2f;border-bottom-color:#2f2f2f}.tag-cloud-9{color:#202020;border-bottom-color:#202020}.tag-cloud-10{color:#111;border-bottom-color:#111}.search-active{overflow:hidden}.search-pop-overlay{visibility:hidden;z-index:40;background:0 0;width:100%;height:100%;transition:visibility .4s,background .4s;display:flex;position:fixed;top:0;left:0}.search-active .search-pop-overlay{visibility:visible;background:#0000004d}.search-popup{background:var(--card-bg-color);border-radius:5px;width:700px;height:80%;margin:auto;transition:transform .4s;transform:scale(0)}.search-active .search-popup{transform:scale(1)}@media (width<=767px){.search-popup{border-radius:0;width:100%;height:100%}}.search-popup .search-icon,.search-popup .popup-btn-close{color:#999;padding:0 10px;font-size:18px}.search-popup .popup-btn-close{cursor:pointer}.search-popup .popup-btn-close:hover .fa{color:#222}.search-popup .search-header{background:#eee;border-top-left-radius:5px;border-top-right-radius:5px;padding:5px;display:flex}.search-popup input.search-input{background:0 0;border:0;outline:0;width:100%}.search-popup input.search-input::-webkit-search-cancel-button{display:none}.search-popup .search-result-container{flex-direction:column;height:calc(100% - 55px);padding:5px 25px;display:flex;overflow:auto}.search-popup .search-result-container hr{flex-shrink:0;margin:5px 0 10px}.search-popup .search-result-container hr:first-child{display:none}.search-popup .search-result-list{margin:0 5px;padding:0}.search-popup a.search-result-title{font-weight:700}.search-popup p.search-result{border-bottom:1px dashed #ccc;margin:0 0 10px;padding:5px 0}.search-popup .search-input-container{flex-grow:1;padding:2px}.search-popup .search-result-icon{color:#ccc;margin:auto}mark.search-keyword{color:#ff2a2a;background:0 0;border-bottom:1px dashed #ff2a2a;font-weight:700}.use-motion .animated{visibility:inherit;animation-fill-mode:none}.use-motion .sidebar .animated{animation-fill-mode:both}header.header{width:700px;margin:0 auto}@media (width<=767px){header.header{width:auto}}@media (width>=1200px){header.header{width:800px}}@media (width>=1600px){header.header{width:900px}}.main-inner{width:700px;margin:0 auto;padding-bottom:60px}@media (width<=767px){.main-inner{width:auto}}@media (width>=1200px){.main-inner{width:800px}}@media (width>=1600px){.main-inner{width:900px}}@media (width<=767px){.main-inner{padding-left:20px;padding-right:20px}}.post-block:first-of-type{padding-top:70px}@media (width<=767px){.post-block:first-of-type{padding-top:35px}}.custom-logo-image{background:#fff;max-width:150px;margin:0 auto 10px;padding:5px}.brand{background:var(--btn-default-bg)}header.header{padding-top:100px}@media (width<=767px){header.header{padding-top:50px}.site-nav{padding-top:30px}.main-menu{border-top:1px solid #ddd;border-bottom:1px solid #ddd}.menu{text-align:left}.menu .menu-item{margin:0 10px}}.menu .menu-item a{border-bottom:1px solid #0000}@media (width<=767px){.menu .menu-item a{align-items:center;padding:5px 10px;display:flex}.menu .menu-item a .badge{margin-left:auto}}.menu .menu-item a:hover,.menu .menu-item a.menu-item-active{border-bottom:1px solid var(--link-hover-color);background:0 0}@media (width<=767px){.menu .menu-item a:hover,.menu .menu-item a.menu-item-active{border-bottom:1px dotted #ddd}}@media (width>=768px){.menu .menu-item i[class^=fa]{width:100%;margin-right:0;line-height:2;display:block}}.sub-menu{margin:10px 0}.sub-menu .menu-item{display:inline-block}@media (width>=1200px){.sidebar-dimmer{display:none}.sidebar-active{padding-right:320px}.sidebar-active .footer-fixed{right:320px}}</style><link integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css rel=stylesheet><link integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"wangfanggang.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script defer src=/js/config.js></script><meta content=blog property=og:type><meta content="Python 数据科学 学习笔记 - 钢钢更新" property=og:title><meta content=https://wangfanggang.com/Python/python-ai/index.html property=og:url><meta content=钢钢更新 property=og:site_name><meta content=zh_CN property=og:locale><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z2fkoyfdj31t611cwzq.jpg property=og:image><meta content=https://ww1.sinaimg.cn/large/006By2pOgy1g4vzupiyzlj31h40q0djj.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOly1g4x4kbphcaj30ai07b74e.jpg property=og:image><meta content=https://ww1.sinaimg.cn/large/006By2pOly1g4x4l5seidj30ar07bt8t.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xbf218ohj30qd0a1aa2.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhegh6x8j30am070dfu.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhewesccj30am070aa2.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhfz5yuij30am070mx1.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhg8wtfbj30am070q2w.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhghtdabj30a6070a9w.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhh36w0ej30b807q0sy.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yelaitlwj30b807qgm5.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yemenwv3j30as070q33.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yen8mb10j30aq0703ye.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yenrlxtaj30aq070gls.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yf9j3j0cj30au070mxb.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yf9rjb34j30ak07c0sz.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yf9yg5xjj30aq070q2t.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfac4xyyj30ac0700ss.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfqyjs4nj30a6070glg.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfrf92i6j30ac06wjr8.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfro7syej30ac070jrp.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfrzqqjuj30am07074c.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfsb5i54j30a60700tt.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfskyihkj30a60700tt.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfsuskelj30a6070wek.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yikxl7htj30ai070q2r.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yiluvgaij30ai0703yc.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yim7abzrj30az0700sr.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yj5sky9bj318y0tke81.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yj58js8jj30at07ejri.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yj5i67ctj30cg09saa6.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yjod9wg1j30ai070mwz.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yjoonn2mj30az07074b.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yjox92xfj30ai070jr8.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yjp687hwj30al0700sq.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yjpdm24gj30af0703yc.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yk99op3bj30ai07edgs.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yk9i6uhwj30bf07t3zu.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yka6fj9dj30ao07ut8l.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yk9z1uh7j30ao07emx1.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4ylry0uvmj30an070wes.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4ylsdcavnj30aj06z3yv.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4ylsjbypwj30aj06zwet.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4ylstbmjpj30aj06z74n.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4ylt1ak49j30aq0750t3.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yltmhfztj30aq075aaf.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yltsjqshj30b507rmxi.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z452wgvcj30ai07c74i.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z45djxzoj30af07jzkl.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z45jryk7j30ap07cdg0.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z45yq6txj30ac07ct90.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z4670varj30wp07cwgg.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z46dx3crj30aw0700sl.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z46kqcfyj30ac07eweh.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z47buhxzj30ax07cjrw.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z47igumvj30ax07c3z1.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z47qtue7j30c70bsjre.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z47wsaymj30c70bst8q.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z4836s6hj30oz0osdj8.jpg property=og:image><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z48ff3epj30ax07cjrk.jpg property=og:image><meta content=2019-07-12T20:22:35.000Z property=article:published_time><meta content=2019-09-03T12:27:53.000Z property=article:modified_time><meta content="王方钢 / Kenny Wang" property=article:author><meta content=AI property=article:tag><meta content=Python property=article:tag><meta content="Machine Learning" property=article:tag><meta content=BI property=article:tag><meta content="Data Science" property=article:tag><meta content=summary name=twitter:card><meta content=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z2fkoyfdj31t611cwzq.jpg name=twitter:image><link href=https://wangfanggang.com/Python/python-ai/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://wangfanggang.com/Python/python-ai/","path":"Python/python-ai/","title":"Python 数据科学 学习笔记 - 钢钢更新"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>Python 数据科学 学习笔记 - 钢钢更新 | 钢钢更新</title><script integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin defer src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script defer src=/js/utils.js></script><script defer src=/js/motion.js></script><script defer src=/js/sidebar.js></script><script defer src=/js/next-boot.js></script><script integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin defer src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js></script><script defer src=/js/third-party/search/local-search.js></script><script defer src=/js/third-party/addtoany.js></script><noscript><link href=/css/noscript.css rel=stylesheet></noscript><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label=切换导航栏 class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>钢钢更新</p> <i class=logo-line></i> </a><p class=site-subtitle itemprop=description>用行动改变世界，做个有情怀的技术宅</div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=搜索 role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>分类</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-sitemap"><a href=/sitemap.xml rel=section><i class="fa fa-sitemap fa-fw"></i>站点地图</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>搜索 </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=搜索... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#Numpy><span class=nav-number>1.</span> <span class=nav-text>Numpy</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%95%B0%E7%BB%84Array><span class=nav-number>1.1.</span> <span class=nav-text>数组Array</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E7%BB%84><span class=nav-number>1.1.1.</span> <span class=nav-text>初始化数组</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84><span class=nav-number>1.1.1.1.</span> <span class=nav-text>多维数组</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E4%BF%A1%E6%81%AF><span class=nav-number>1.1.1.2.</span> <span class=nav-text>获取数组信息</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B><span class=nav-number>1.1.1.3.</span> <span class=nav-text>获取数组类型</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E5%B0%BA%E5%AF%B8><span class=nav-number>1.1.1.4.</span> <span class=nav-text>获取数组尺寸</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%85%83%E7%B4%A0%E4%B8%BA0%E7%9A%84%E6%95%B0%E7%BB%84><span class=nav-number>1.1.1.5.</span> <span class=nav-text>初始化元素为0的数组</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E7%BB%84-1><span class=nav-number>1.1.1.6.</span> <span class=nav-text>初始化数组</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%95%B0%E7%BB%84%E5%88%87%E7%89%87><span class=nav-number>1.1.1.7.</span> <span class=nav-text>数组切片</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%94%A8%E9%9A%8F%E6%9C%BA-%E5%B0%8F-%E6%95%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E7%BB%84><span class=nav-number>1.1.1.8.</span> <span class=nav-text>用随机(小)数初始化数组</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%94%A8%E9%9A%8F%E6%9C%BA%E6%95%B4%E6%95%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E7%BB%84><span class=nav-number>1.1.1.9.</span> <span class=nav-text>用随机整数初始化数组</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%95%B0%E7%BB%84%E8%BF%90%E7%AE%97><span class=nav-number>1.1.2.</span> <span class=nav-text>数组运算</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%95%B0%E7%BB%84%E7%9B%B8%E5%8A%A0><span class=nav-number>1.1.2.1.</span> <span class=nav-text>数组相加</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%95%B0%E7%BB%84%E7%9B%B8%E5%87%8F><span class=nav-number>1.1.2.2.</span> <span class=nav-text>数组相减</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%95%B0%E7%BB%84%E7%9B%B8%E4%B9%98><span class=nav-number>1.1.2.3.</span> <span class=nav-text>数组相乘</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0><span class=nav-number>1.1.3.</span> <span class=nav-text>数组常用函数</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E4%B8%AD%E6%89%80%E6%9C%89%E5%94%AF%E4%B8%80%E6%95%B0><span class=nav-number>1.1.3.1.</span> <span class=nav-text>获取数组中所有唯一数</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9%E6%95%B0%E7%BB%84%E6%AF%8F%E4%B8%80%E5%88%97%E6%B1%82%E5%92%8C><span class=nav-number>1.1.3.2.</span> <span class=nav-text>对数组每一列求和</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9%E6%95%B0%E7%BB%84%E6%8C%87%E5%AE%9A%E8%A1%8C%E6%B1%82%E5%92%8C><span class=nav-number>1.1.3.3.</span> <span class=nav-text>对数组指定行求和</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9%E6%95%B0%E7%BB%84%E6%8C%87%E5%AE%9A%E5%88%97%E6%B1%82%E5%92%8C><span class=nav-number>1.1.3.4.</span> <span class=nav-text>对数组指定列求和</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E6%9C%80%E5%A4%A7%E5%80%BC><span class=nav-number>1.1.3.5.</span> <span class=nav-text>获取数组最大值</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E6%8C%87%E5%AE%9A%E8%A1%8C%E6%9C%80%E5%A4%A7%E5%80%BC><span class=nav-number>1.1.3.6.</span> <span class=nav-text>获取数组指定行最大值</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E6%8C%87%E5%AE%9A%E5%88%97%E6%9C%80%E5%A4%A7%E5%80%BC><span class=nav-number>1.1.3.7.</span> <span class=nav-text>获取数组指定列最大值</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E4%BD%BF%E7%94%A8pickle%E5%BA%8F%E5%88%97%E5%8C%96array><span class=nav-number>1.1.4.</span> <span class=nav-text>使用pickle序列化array</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%B0%86%E6%95%B0%E7%BB%84%E4%BB%A5%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%9A%84%E6%96%B9%E5%BC%8F%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6><span class=nav-number>1.1.4.1.</span> <span class=nav-text>将数组以二进制的方式写入文件</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6><span class=nav-number>1.1.4.2.</span> <span class=nav-text>写入文件</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95><span class=nav-number>1.1.4.3.</span> <span class=nav-text>查看文件目录</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E4%BB%A5%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%B9%E5%BC%8F%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6><span class=nav-number>1.1.4.4.</span> <span class=nav-text>以二进制方式打开文件</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9><span class=nav-number>1.1.4.5.</span> <span class=nav-text>读取文件内容</span></a></ol></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%9F%A9%E9%98%B5Matrix><span class=nav-number>1.2.</span> <span class=nav-text>矩阵Matrix</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E7%9F%A9%E9%98%B5%E7%9A%84%E8%BF%90%E7%AE%97><span class=nav-number>1.2.1.</span> <span class=nav-text>矩阵的运算</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%9F%A9%E9%98%B5%E7%9B%B8%E5%8A%A0><span class=nav-number>1.2.1.1.</span> <span class=nav-text>矩阵相加</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%9F%A9%E9%98%B5%E7%9B%B8%E5%87%8F><span class=nav-number>1.2.1.2.</span> <span class=nav-text>矩阵相减</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%9F%A9%E9%98%B5%E7%9B%B8%E4%B9%98><span class=nav-number>1.2.1.3.</span> <span class=nav-text>矩阵相乘</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E4%BD%BF%E7%94%A8numpy%E8%BF%9B%E8%A1%8C%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%EF%BC%88%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%EF%BC%89><span class=nav-number>1.2.2.</span> <span class=nav-text>使用numpy进行输入输出（文件操作）</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E4%BD%BF%E7%94%A8np-save%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6><span class=nav-number>1.2.2.1.</span> <span class=nav-text>使用np.save写入文件</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E4%BD%BF%E7%94%A8np-load%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9><span class=nav-number>1.2.2.2.</span> <span class=nav-text>使用np.load读取文件内容</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E4%BD%BF%E7%94%A8np-savez%E5%B0%86%E5%A4%9A%E4%B8%AA%E6%95%B0%E7%BB%84%E4%BF%9D%E5%AD%98%E5%88%B0%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B8%AD><span class=nav-number>1.2.2.3.</span> <span class=nav-text>使用np.savez将多个数组保存到一个文件中</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A9%E7%94%A8np-load%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9><span class=nav-number>1.2.2.4.</span> <span class=nav-text>利用np.load读取文件内容</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A9%E7%94%A8%E7%B4%A2%E5%BC%95%E5%90%8D%E8%AF%BB%E5%8F%96%E5%AF%B9%E5%BA%94%E6%95%B0%E7%BB%84%E5%86%85%E5%AE%B9><span class=nav-number>1.2.2.5.</span> <span class=nav-text>利用索引名读取对应数组内容</span></a></ol></ol></ol><li class="nav-item nav-level-1"><a class=nav-link href=#Pandas><span class=nav-number>2.</span> <span class=nav-text>Pandas</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#Series><span class=nav-number>2.1.</span> <span class=nav-text>Series</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#Series%E5%88%9D%E5%A7%8B%E5%8C%96><span class=nav-number>2.1.1.</span> <span class=nav-text>Series初始化</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#values><span class=nav-number>2.1.1.1.</span> <span class=nav-text>values</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#index><span class=nav-number>2.1.1.2.</span> <span class=nav-text>index</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8C%87%E5%AE%9Aindex><span class=nav-number>2.1.1.3.</span> <span class=nav-text>指定index</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%AE%BF%E9%97%AESeries%E5%85%83%E7%B4%A0><span class=nav-number>2.1.1.4.</span> <span class=nav-text>访问Series元素</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%96%B0%E5%A2%9Eindex><span class=nav-number>2.1.1.5.</span> <span class=nav-text>新增index</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9Series%E5%85%83%E7%B4%A0%E8%BF%9B%E8%A1%8C%E7%A9%BA%E5%80%BC%E5%88%A4%E5%AE%9A><span class=nav-number>2.1.1.6.</span> <span class=nav-text>对Series元素进行空值判定</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9Series%E5%85%83%E7%B4%A0%E8%BF%9B%E8%A1%8C%E9%9D%9E%E7%A9%BA%E5%88%A4%E5%AE%9A><span class=nav-number>2.1.1.7.</span> <span class=nav-text>对Series元素进行非空判定</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8C%87%E5%AE%9ASeries%E5%90%8D%E7%A7%B0><span class=nav-number>2.1.1.8.</span> <span class=nav-text>指定Series名称</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8C%87%E5%AE%9ASeries%E7%B4%A2%E5%BC%95%E5%90%8D%E7%A7%B0><span class=nav-number>2.1.1.9.</span> <span class=nav-text>指定Series索引名称</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Reindex-on-Series><span class=nav-number>2.1.2.</span> <span class=nav-text>Reindex on Series</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%B7%BB%E5%8A%A0index><span class=nav-number>2.1.2.1.</span> <span class=nav-text>添加index</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%94%A8%E5%9B%BA%E5%AE%9A%E6%95%B0%E5%80%BC%E5%A1%AB%E5%85%85%E6%96%B0%E7%9A%84index><span class=nav-number>2.1.2.2.</span> <span class=nav-text>用固定数值填充新的index</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%94%A8-range-%E6%89%A9%E5%85%85index><span class=nav-number>2.1.2.3.</span> <span class=nav-text>用 range() 扩充index</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%94%A8ffill%E5%A1%AB%E5%85%85%E6%96%B0%E5%A2%9Eindex><span class=nav-number>2.1.2.4.</span> <span class=nav-text>用ffill填充新增index</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9Series%E5%88%87%E7%89%87><span class=nav-number>2.1.2.5.</span> <span class=nav-text>对Series切片</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9Series%E8%BF%9B%E8%A1%8Cdrop-index><span class=nav-number>2.1.2.6.</span> <span class=nav-text>对Series进行drop index</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Series%E7%9A%84%E7%AE%80%E5%8D%95%E6%95%B0%E5%AD%A6%E8%AE%A1%E7%AE%97><span class=nav-number>2.1.3.</span> <span class=nav-text>Series的简单数学计算</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Series%E7%9A%84%E6%8E%92%E5%BA%8F><span class=nav-number>2.1.4.</span> <span class=nav-text>Series的排序</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8C%89columns%E6%8E%92%E5%BA%8F><span class=nav-number>2.1.4.1.</span> <span class=nav-text>按columns排序</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8C%89index%E6%8E%92%E5%BA%8F><span class=nav-number>2.1.4.2.</span> <span class=nav-text>按index排序</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Nan-in-Series><span class=nav-number>2.1.5.</span> <span class=nav-text>Nan in Series</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%A9%BA%E5%80%BC%E5%88%A4%E6%96%AD><span class=nav-number>2.1.5.1.</span> <span class=nav-text>空值判断</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A0%E9%99%A4nan%E7%9A%84%E8%A1%8C><span class=nav-number>2.1.5.2.</span> <span class=nav-text>删除nan的行</span></a></ol></ol><li class="nav-item nav-level-2"><a class=nav-link href=#DataFrame><span class=nav-number>2.2.</span> <span class=nav-text>DataFrame</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%AF%BB%E5%8F%96%E5%89%AA%E8%B4%B4%E6%9D%BF%E5%86%85%E5%AE%B9%EF%BC%8C%E5%B9%B6%E7%94%9F%E6%88%90DataFrame><span class=nav-number>2.2.1.</span> <span class=nav-text>读取剪贴板内容，并生成DataFrame</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Type><span class=nav-number>2.2.2.</span> <span class=nav-text>Type</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Columns><span class=nav-number>2.2.3.</span> <span class=nav-text>Columns</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%AE%BF%E9%97%AEDataFrame%E5%88%97><span class=nav-number>2.2.4.</span> <span class=nav-text>访问DataFrame列</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%A4%8D%E5%88%B6DataFrame><span class=nav-number>2.2.5.</span> <span class=nav-text>复制DataFrame</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%90%91DataFrame%E4%B8%AD%E5%A2%9E%E5%8A%A0%E6%96%B0%E5%88%97><span class=nav-number>2.2.6.</span> <span class=nav-text>向DataFrame中增加新列</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%90%91%E6%96%B0%E5%A2%9E%E5%88%97%E5%A1%AB%E5%85%85%E6%95%B0%E6%8D%AE><span class=nav-number>2.2.7.</span> <span class=nav-text>向新增列填充数据</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%96%B9%E6%B3%951%EF%BC%9Arange><span class=nav-number>2.2.7.1.</span> <span class=nav-text>方法1：range()</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%96%B9%E6%B3%952%EF%BC%9Anp-range><span class=nav-number>2.2.7.2.</span> <span class=nav-text>方法2：np.range()</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%96%B9%E6%B3%953%EF%BC%9Anp-arange><span class=nav-number>2.2.7.3.</span> <span class=nav-text>方法3：np.arange()</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%90%91%E6%96%B0%E5%A2%9E%E5%88%97%E4%B8%AD%E5%A1%AB%E5%85%85%E6%95%B0%E5%80%BC><span class=nav-number>2.2.8.</span> <span class=nav-text>向新增列中填充数值</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%AE%BF%E9%97%AEDataFrame%E6%9F%90%E4%B8%80%E5%88%97><span class=nav-number>2.2.9.</span> <span class=nav-text>访问DataFrame某一列</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E9%81%8D%E5%8E%86DataFrame><span class=nav-number>2.2.10.</span> <span class=nav-text>遍历DataFrame</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Series-DataFrame><span class=nav-number>2.2.11.</span> <span class=nav-text>Series => DataFrame</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%A1%8C%E8%BD%AC%E5%88%97><span class=nav-number>2.2.12.</span> <span class=nav-text>行转列</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Nan-in-DataFrame><span class=nav-number>2.2.13.</span> <span class=nav-text>Nan in DataFrame</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%A9%BA%E5%80%BC%E5%88%A4%E6%96%AD-1><span class=nav-number>2.2.13.1.</span> <span class=nav-text>空值判断</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E9%9D%9E%E7%A9%BA%E5%88%A4%E6%96%AD><span class=nav-number>2.2.13.2.</span> <span class=nav-text>非空判断</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A0%E9%99%A4%E5%AD%98%E5%9C%A8nan%E7%9A%84%E8%A1%8C><span class=nav-number>2.2.13.3.</span> <span class=nav-text>删除存在nan的行</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A0%E9%99%A4%E5%AD%98%E5%9C%A8nan%E7%9A%84%E5%88%97><span class=nav-number>2.2.13.4.</span> <span class=nav-text>删除存在nan的列</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E4%BB%85%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E5%80%BC%E9%83%BD%E4%B8%BAnan%E7%9A%84%E8%A1%8C><span class=nav-number>2.2.13.5.</span> <span class=nav-text>仅删除所有值都为nan的行</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A0%E9%99%A4%E5%A4%A7%E4%BA%8Ethresh%E9%98%88%E5%80%BC%E7%9A%84%E8%A1%8C><span class=nav-number>2.2.13.6.</span> <span class=nav-text>删除大于thresh阈值的行</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A9%E7%94%A8fillna%E5%AF%B9%E7%A9%BA%E5%80%BC%E8%BF%9B%E8%A1%8C%E5%A1%AB%E5%85%85><span class=nav-number>2.2.13.7.</span> <span class=nav-text>利用fillna对空值进行填充</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A9%E7%94%A8fillna%E6%8C%89%E5%88%97%E7%BA%A7%E5%88%AB%E5%A1%AB%E5%85%85%E4%B8%8D%E5%90%8C%E6%95%B0%E5%80%BC><span class=nav-number>2.2.13.8.</span> <span class=nav-text>利用fillna按列级别填充不同数值</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#DataFrame-I-O%E6%93%8D%E4%BD%9C><span class=nav-number>2.2.14.</span> <span class=nav-text>DataFrame I/O操作</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%89%93%E5%BC%80%E7%BD%91%E9%A1%B5><span class=nav-number>2.2.14.1.</span> <span class=nav-text>打开网页</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%AF%BB%E5%8F%96%E5%89%AA%E8%B4%B4%E6%9D%BF%E5%86%85%E5%AE%B9><span class=nav-number>2.2.14.2.</span> <span class=nav-text>读取剪贴板内容</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%B0%86%E5%86%85%E5%AE%B9%E7%B2%98%E8%B4%B4%E5%88%B0%E5%89%AA%E8%B4%B4%E6%9D%BF><span class=nav-number>2.2.14.3.</span> <span class=nav-text>将内容粘贴到剪贴板</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%86%99%E5%85%A5CSV-%E4%B8%8D%E5%86%99%E5%85%A5%E7%B4%A2%E5%BC%95%E5%80%BC><span class=nav-number>2.2.14.4.</span> <span class=nav-text>写入CSV (不写入索引值)</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E9%A2%84%E8%A7%88CSV%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9><span class=nav-number>2.2.14.5.</span> <span class=nav-text>预览CSV文件内容</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Selecting-Indexing><span class=nav-number>2.2.15.</span> <span class=nav-text>Selecting & Indexing</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%9F%A5%E7%9C%8BDataFrame%E5%89%8D5%E8%A1%8C%E5%86%85%E5%AE%B9><span class=nav-number>2.2.15.1.</span> <span class=nav-text>查看DataFrame前5行内容</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%9F%A5%E7%9C%8BDataFrame%E5%90%8E5%E8%A1%8C%E5%86%85%E5%AE%B9><span class=nav-number>2.2.15.2.</span> <span class=nav-text>查看DataFrame后5行内容</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%A0%B9%E6%8D%AE%E6%8C%87%E5%AE%9A%E5%88%97%E7%94%9F%E6%88%90%E6%96%B0%E7%9A%84DataFrame><span class=nav-number>2.2.15.3.</span> <span class=nav-text>根据指定列生成新的DataFrame</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%A0%B9%E6%8D%AEindex%E5%AE%9A%E4%BD%8D%E5%86%85%E5%AE%B9%EF%BC%88iloc%EF%BC%89><span class=nav-number>2.2.15.4.</span> <span class=nav-text>根据index定位内容（iloc）</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%A0%B9%E6%8D%AElabel%E5%AE%9A%E4%BD%8D%E5%86%85%E5%AE%B9%EF%BC%88loc%EF%BC%89><span class=nav-number>2.2.15.5.</span> <span class=nav-text>根据label定位内容（loc）</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Reindex-on-DataFrame><span class=nav-number>2.2.16.</span> <span class=nav-text>Reindex on DataFrame</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8F%92%E5%85%A5%E6%96%B0%E7%9A%84%E8%A1%8C-index><span class=nav-number>2.2.16.1.</span> <span class=nav-text>插入新的行(index)</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8F%92%E5%85%A5%E6%96%B0%E7%9A%84%E5%88%97-columns><span class=nav-number>2.2.16.2.</span> <span class=nav-text>插入新的列 (columns)</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%90%8C%E6%97%B6%E6%96%B0%E5%A2%9Eindex%E5%92%8Ccolumns><span class=nav-number>2.2.16.3.</span> <span class=nav-text>同时新增index和columns</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9DataFrame%E5%88%87%E7%89%87><span class=nav-number>2.2.16.4.</span> <span class=nav-text>对DataFrame切片</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9DataFrame%E8%BF%9B%E8%A1%8Cdrop-index><span class=nav-number>2.2.16.5.</span> <span class=nav-text>对DataFrame进行drop index</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9DataFrame%E8%BF%9B%E8%A1%8Cdrop-columns><span class=nav-number>2.2.16.6.</span> <span class=nav-text>对DataFrame进行drop columns</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%A4%9A%E7%BA%A7index><span class=nav-number>2.2.17.</span> <span class=nav-text>多级index</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%A4%9A%E7%BA%A7index-Series-DataFrame><span class=nav-number>2.2.17.1.</span> <span class=nav-text>多级index Series => DataFrame</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#DataFrame-%E5%A4%9A%E7%BA%A7index-Series><span class=nav-number>2.2.17.2.</span> <span class=nav-text>DataFrame => 多级index Series</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%9D%E5%A7%8B%E5%8C%96DataFrame-%E5%A4%9A%E7%BA%A7index-columns><span class=nav-number>2.2.17.3.</span> <span class=nav-text>初始化DataFrame (多级index & columns)</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%AE%BF%E9%97%AE%E5%A4%9A%E7%BA%A7DataFrame%E5%85%83%E7%B4%A0><span class=nav-number>2.2.17.4.</span> <span class=nav-text>访问多级DataFrame元素</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%BA%A7%E7%B4%A2%E5%BC%95><span class=nav-number>2.2.17.5.</span> <span class=nav-text>创建多级索引</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%A3%80%E7%B4%A2%E5%A4%9A%E7%BA%A7%E7%B4%A2%E5%BC%95><span class=nav-number>2.2.17.6.</span> <span class=nav-text>检索多级索引</span></a><ol class=nav-child><li class="nav-item nav-level-5"><a class=nav-link href=#%E9%80%89%E5%8F%96%E5%A4%96%E5%B1%82%E7%B4%A2%E5%BC%95><span class=nav-number>2.2.17.6.1.</span> <span class=nav-text>选取外层索引</span></a><li class="nav-item nav-level-5"><a class=nav-link href=#%E9%80%89%E5%8F%96%E5%86%85%E5%B1%82%E7%B4%A2%E5%BC%95><span class=nav-number>2.2.17.6.2.</span> <span class=nav-text>选取内层索引</span></a></ol><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%A7%A3%E9%99%A4%E5%A4%9A%E7%BA%A7%E7%B4%A2%E5%BC%95><span class=nav-number>2.2.17.7.</span> <span class=nav-text>解除多级索引</span></a><ol class=nav-child><li class="nav-item nav-level-5"><a class=nav-link href=#%E9%BB%98%E8%AE%A4%E8%A7%A3%E9%99%A4%E6%9C%80%E5%86%85%E5%B1%82%E7%B4%A2%E5%BC%95%EF%BC%8C%E5%8D%B3level-1><span class=nav-number>2.2.17.7.1.</span> <span class=nav-text>默认解除最内层索引，即level=-1</span></a><li class="nav-item nav-level-5"><a class=nav-link href=#%E8%A7%A3%E9%99%A4%E5%85%B6%E4%BB%96%E5%B1%82%E7%B4%A2%E5%BC%95><span class=nav-number>2.2.17.7.2.</span> <span class=nav-text>解除其他层索引</span></a></ol><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%BD%AC%E5%8C%96%E4%B8%BA%E5%A4%9A%E7%BA%A7%E7%B4%A2%E5%BC%95><span class=nav-number>2.2.17.8.</span> <span class=nav-text>转化为多级索引</span></a><ol class=nav-child><li class="nav-item nav-level-5"><a class=nav-link href=#%E5%B0%86%E4%B8%AD%E9%97%B4%E5%B1%82%E7%B4%A2%E5%BC%95%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%86%85%E5%B1%82%E7%B4%A2%E5%BC%95><span class=nav-number>2.2.17.8.1.</span> <span class=nav-text>将中间层索引转换为内层索引</span></a></ol><li class="nav-item nav-level-4"><a class=nav-link href=#%E4%B8%BA%E4%B8%8D%E5%90%8C%E5%B1%82%E7%B4%A2%E5%BC%95%E6%8C%87%E5%AE%9A%E5%90%8D%E7%A7%B0-name><span class=nav-number>2.2.17.9.</span> <span class=nav-text>为不同层索引指定名称(name)</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Mapping><span class=nav-number>2.2.18.</span> <span class=nav-text>Mapping</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E9%80%9A%E8%BF%87Series%E4%B8%BADataFrame%E6%96%B0%E5%A2%9E%E5%88%97><span class=nav-number>2.2.18.1.</span> <span class=nav-text>通过Series为DataFrame新增列</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E9%80%9A%E8%BF%87Map%E4%B8%BADataFrame%E6%96%B0%E5%A2%9E%E5%88%97><span class=nav-number>2.2.18.2.</span> <span class=nav-text>通过Map为DataFrame新增列</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Replace><span class=nav-number>2.2.19.</span> <span class=nav-text>Replace</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#DataFrame%E7%9A%84%E7%AE%80%E5%8D%95%E6%95%B0%E5%AD%A6%E8%AE%A1%E7%AE%97><span class=nav-number>2.2.20.</span> <span class=nav-text>DataFrame的简单数学计算</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9%E5%88%97%E8%BF%9B%E8%A1%8C%E6%B1%82%E5%92%8C><span class=nav-number>2.2.20.1.</span> <span class=nav-text>对列进行求和</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9%E8%A1%8C%E8%BF%9B%E8%A1%8C%E6%B1%82%E5%92%8C><span class=nav-number>2.2.20.2.</span> <span class=nav-text>对行进行求和</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%B1%82%E6%9C%80%E5%B0%8F%E5%80%BC><span class=nav-number>2.2.20.3.</span> <span class=nav-text>求最小值</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%B1%82%E6%9C%80%E5%A4%A7%E5%80%BC><span class=nav-number>2.2.20.4.</span> <span class=nav-text>求最大值</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#DataFrame%E6%8E%92%E5%BA%8F><span class=nav-number>2.2.21.</span> <span class=nav-text>DataFrame排序</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8C%89column%E6%8E%92%E5%BA%8F><span class=nav-number>2.2.21.1.</span> <span class=nav-text>按column排序</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8C%89index%E6%8E%92%E5%BA%8F-1><span class=nav-number>2.2.21.2.</span> <span class=nav-text>按index排序</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Rename-index><span class=nav-number>2.2.22.</span> <span class=nav-text>Rename index</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%95%B0%E5%AD%97%E5%88%97%E8%A1%A8-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%97%E8%A1%A8><span class=nav-number>2.2.22.1.</span> <span class=nav-text>数字列表 => 字符串列表</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A9%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89map%E5%87%BD%E6%95%B0%E9%87%8D%E5%91%BD%E5%90%8Dindex><span class=nav-number>2.2.22.2.</span> <span class=nav-text>利用自定义map函数重命名index</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#DataFrame%E5%90%88%E5%B9%B6-merge-%E6%93%8D%E4%BD%9C><span class=nav-number>2.2.23.</span> <span class=nav-text>DataFrame合并 (merge) 操作</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8C%87%E5%AE%9A%E5%85%B3%E8%81%94%E5%88%97%EF%BC%88%E9%BB%98%E8%AE%A4inner%E8%BF%9E%E6%8E%A5%EF%BC%89><span class=nav-number>2.2.23.1.</span> <span class=nav-text>指定关联列（默认inner连接）</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%B7%A6%E8%BF%9E%E6%8E%A5><span class=nav-number>2.2.23.2.</span> <span class=nav-text>左连接</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%8F%B3%E8%BF%9E%E6%8E%A5><span class=nav-number>2.2.23.3.</span> <span class=nav-text>右连接</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Concatenate><span class=nav-number>2.2.24.</span> <span class=nav-text>Concatenate</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#Array-Concatenate><span class=nav-number>2.2.24.1.</span> <span class=nav-text>Array Concatenate</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#Series-Concatenate><span class=nav-number>2.2.24.2.</span> <span class=nav-text>Series Concatenate</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#DataFrame-Concatenate><span class=nav-number>2.2.24.3.</span> <span class=nav-text>DataFrame Concatenate</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Combine><span class=nav-number>2.2.25.</span> <span class=nav-text>Combine</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#Series-Combine><span class=nav-number>2.2.25.1.</span> <span class=nav-text>Series Combine</span></a><ol class=nav-child><li class="nav-item nav-level-5"><a class=nav-link href=#combine-first-%E7%94%A8%E5%90%8E%E8%80%85%E5%A1%AB%E5%85%85%E5%89%8D%E8%80%85%E4%B8%AD%E7%9A%84%E7%A9%BA%E5%80%BC-%E5%A6%82%E6%9C%89><span class=nav-number>2.2.25.1.1.</span> <span class=nav-text>combine_first - 用后者填充前者中的空值 (如有)</span></a></ol><li class="nav-item nav-level-4"><a class=nav-link href=#DataFrame-Combine><span class=nav-number>2.2.25.2.</span> <span class=nav-text>DataFrame Combine</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%88%A9%E7%94%A8apply%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86><span class=nav-number>2.2.26.</span> <span class=nav-text>利用apply对数据进行处理</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A9%E7%94%A8apply%E6%89%B9%E9%87%8F%E5%A4%84%E7%90%86%E6%9F%90%E4%B8%80%E5%88%97%E6%95%B0%E6%8D%AE><span class=nav-number>2.2.26.1.</span> <span class=nav-text>利用apply批量处理某一列数据</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%BC%96%E5%86%99%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0%EF%BC%8C%E5%AF%B9%E5%88%97%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9B%E8%A1%8C%E6%8F%90%E5%8F%96><span class=nav-number>2.2.26.2.</span> <span class=nav-text>编写自定义函数，对列中的字符串进行提取</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%88%A9%E7%94%A8drop-duplicates%E5%8E%BB%E9%87%8D><span class=nav-number>2.2.27.</span> <span class=nav-text>利用drop_duplicates去重</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E6%93%8D%E4%BD%9C><span class=nav-number>2.2.28.</span> <span class=nav-text>时间序列操作</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%A0%B9%E6%8D%AE%E7%B4%A2%E5%BC%95%E4%BD%8D%E7%BD%AE%E8%AE%BF%E9%97%AE><span class=nav-number>2.2.28.1.</span> <span class=nav-text>根据索引位置访问</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%A0%B9%E6%8D%AE%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E8%AE%BF%E9%97%AE><span class=nav-number>2.2.28.2.</span> <span class=nav-text>根据时间序列访问</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%A0%B9%E6%8D%AE%E6%97%B6%E9%97%B4%E8%AE%BF%E9%97%AE><span class=nav-number>2.2.28.3.</span> <span class=nav-text>根据时间访问</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%BF%94%E5%9B%9E%E6%95%B4%E6%9C%88%E6%95%B0%E6%8D%AE><span class=nav-number>2.2.28.4.</span> <span class=nav-text>返回整月数据</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%BF%94%E5%9B%9E%E6%95%B4%E5%B9%B4%E6%95%B0%E6%8D%AE><span class=nav-number>2.2.28.5.</span> <span class=nav-text>返回整年数据</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A9%E7%94%A8pd-date-range-%E7%94%9F%E6%88%90%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97><span class=nav-number>2.2.28.6.</span> <span class=nav-text>利用pd.date_range() 生成时间序列</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E4%BB%8E%E6%8C%87%E5%AE%9A%E6%97%B6%E9%97%B4%E7%9A%84%EF%BC%88%E5%91%A8%E4%B8%80%EF%BC%89%E5%BC%80%E5%A7%8B%E7%94%9F%E6%88%90%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97><span class=nav-number>2.2.28.7.</span> <span class=nav-text>从指定时间的（周一）开始生成时间序列</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E6%95%B0%E6%8D%AE%E7%9A%84%E9%87%87%E6%A0%B7%E5%92%8C%E7%94%BB%E5%9B%BE><span class=nav-number>2.2.29.</span> <span class=nav-text>时间序列数据的采样和画图</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8C%89%E6%9C%88%E4%BB%BD%E9%87%87%E6%A0%B7%EF%BC%8C%E8%AE%A1%E7%AE%97%E5%B9%B3%E5%9D%87%E5%80%BC><span class=nav-number>2.2.29.1.</span> <span class=nav-text>按月份采样，计算平均值</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%8C%89%E5%B0%8F%E6%97%B6%E9%87%87%E6%A0%B7%EF%BC%8C%E5%B9%B6-%E5%90%91%E5%90%8E-%E5%A1%AB%E5%85%85%E6%95%B0%E6%8D%AE><span class=nav-number>2.2.29.2.</span> <span class=nav-text>按小时采样，并(向后)填充数据</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%9F%BA%E4%BA%8E%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%94%BB%E5%9B%BE><span class=nav-number>2.2.29.3.</span> <span class=nav-text>基于时间序列画图</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%95%B0%E6%8D%AE%E5%88%86%E7%AE%B1Binning><span class=nav-number>2.2.30.</span> <span class=nav-text>数据分箱Binning</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9list%E8%BF%9B%E8%A1%8C%E5%88%86%E7%AE%B1><span class=nav-number>2.2.30.1.</span> <span class=nav-text>对list进行分箱</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9DataFrame%E8%BF%9B%E8%A1%8C%E5%88%86%E7%AE%B1><span class=nav-number>2.2.30.2.</span> <span class=nav-text>对DataFrame进行分箱</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%A9%E7%94%A8-pd-util-testing-rands-%E9%9A%8F%E6%9C%BA%E7%94%9F%E6%88%90%E6%8C%87%E5%AE%9A%E4%BD%8D%E6%95%B0%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2><span class=nav-number>2.2.30.3.</span> <span class=nav-text>利用 pd.util.testing.rands() 随机生成指定位数的字符串</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E9%80%9A%E8%BF%87-pd-cut-%E7%9A%84-labels-%E5%8F%82%E6%95%B0%EF%BC%8C%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E5%88%86%E7%B1%BB%E6%89%93%E6%A0%87%E7%AD%BE><span class=nav-number>2.2.30.4.</span> <span class=nav-text>通过 pd.cut() 的 labels 参数，对数据进行分类打标签</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%95%B0%E6%8D%AE%E5%88%86%E7%BB%84%E6%8A%80%E6%9C%AFGroupBy><span class=nav-number>2.2.31.</span> <span class=nav-text>数据分组技术GroupBy</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E5%88%86%E7%BB%84%E5%86%85%E5%AE%B9><span class=nav-number>2.2.31.1.</span> <span class=nav-text>获取分组内容</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9%E5%88%86%E7%BB%84%E5%8F%96%E5%B9%B3%E5%9D%87%E5%80%BC><span class=nav-number>2.2.31.2.</span> <span class=nav-text>对分组取平均值</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9%E5%88%86%E7%BB%84%E5%8F%96%E6%9C%80%E5%B0%8F%E5%80%BC><span class=nav-number>2.2.31.3.</span> <span class=nav-text>对分组取最小值</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#groupby%E5%AF%B9%E8%B1%A1-list-dict><span class=nav-number>2.2.31.4.</span> <span class=nav-text>groupby对象 => list => dict</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#for%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86groupby%E5%8F%98%E9%87%8F><span class=nav-number>2.2.31.5.</span> <span class=nav-text>for循环遍历groupby变量</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%95%B0%E6%8D%AE%E8%81%9A%E5%90%88%E6%8A%80%E6%9C%AFAggregation><span class=nav-number>2.2.32.</span> <span class=nav-text>数据聚合技术Aggregation</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0><span class=nav-number>2.2.32.1.</span> <span class=nav-text>自定义聚合函数</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%AF%B9%E5%A4%9A%E4%B8%AA%E5%88%97%E8%BF%9B%E8%A1%8Cgroupby><span class=nav-number>2.2.32.2.</span> <span class=nav-text>对多个列进行groupby</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#for%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86%E5%A4%9A%E5%88%97groupby%E5%8F%98%E9%87%8F><span class=nav-number>2.2.32.3.</span> <span class=nav-text>for循环遍历多列groupby变量</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E9%80%8F%E8%A7%86%E8%A1%A8><span class=nav-number>2.2.33.</span> <span class=nav-text>透视表</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%88%86%E7%BB%84%E5%92%8C%E9%80%8F%E8%A7%86%E5%8A%9F%E8%83%BD><span class=nav-number>2.2.34.</span> <span class=nav-text>分组和透视功能</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E5%BB%B6%E8%AF%AF%E6%97%B6%E9%97%B4Top-10%E7%9A%84%E8%88%AA%E7%8F%AD><span class=nav-number>2.2.34.1.</span> <span class=nav-text>获取延误时间Top 10的航班</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E8%AE%A1%E7%AE%97%E5%BB%B6%E8%AF%AF%E5%92%8C%E6%B2%A1%E6%9C%89%E5%BB%B6%E8%AF%AF%E6%89%80%E5%8D%A0%E6%AF%94%E4%BE%8B><span class=nav-number>2.2.34.2.</span> <span class=nav-text>计算延误和没有延误所占比例</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%AF%8F%E4%B8%AA%E8%88%AA%E7%A9%BA%E5%85%AC%E5%8F%B8%E5%BB%B6%E8%AF%AF%E6%83%85%E5%86%B5><span class=nav-number>2.2.34.3.</span> <span class=nav-text>每个航空公司延误情况</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E9%80%8F%E8%A7%86%E8%A1%A8-1><span class=nav-number>2.2.34.4.</span> <span class=nav-text>透视表</span></a></ol></ol></ol><li class="nav-item nav-level-1"><a class=nav-link href=#Matplotlib><span class=nav-number>3.</span> <span class=nav-text>Matplotlib</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%AE%80%E5%8D%95%E7%BB%98%E5%9B%BE%E4%B9%8Bplot><span class=nav-number>3.1.</span> <span class=nav-text>简单绘图之plot</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#plt-show-%E5%BC%80%E5%A7%8B%E7%BB%98%E5%9B%BE><span class=nav-number>3.1.1.</span> <span class=nav-text>plt.show() 开始绘图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E9%AD%94%E6%B3%95%E5%91%BD%E4%BB%A4%EF%BC%8C%E5%8F%AF%E7%9B%B4%E6%8E%A5%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%83%8F><span class=nav-number>3.1.2.</span> <span class=nav-text>魔法命令，可直接显示图像</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%98%BE%E7%A4%BA%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4><span class=nav-number>3.1.3.</span> <span class=nav-text>显示运行时间</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E4%B8%80%E5%BC%A0%E5%9B%BE%E4%B8%AD%E7%94%BB%E5%A4%9A%E6%9D%A1%E7%BA%BF><span class=nav-number>3.1.4.</span> <span class=nav-text>一张图中画多条线</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E7%94%BB%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0%EF%BC%8C%E5%B9%B6%E8%AE%BE%E7%BD%AElabel%EF%BC%8Clabel%EF%BC%8Ctitle><span class=nav-number>3.1.5.</span> <span class=nav-text>画三角函数，并设置label，label，title</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%AE%80%E5%8D%95%E7%BB%98%E5%9B%BE%E4%B9%8Bsubplot><span class=nav-number>3.2.</span> <span class=nav-text>简单绘图之subplot</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#subplots><span class=nav-number>3.2.1.</span> <span class=nav-text>subplots</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#Series-1><span class=nav-number>3.3.</span> <span class=nav-text>Series</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#DataFrame-1><span class=nav-number>3.4.</span> <span class=nav-text>DataFrame</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%A8%AA%E5%90%91%E6%9F%B1%E7%8A%B6%E5%9B%BE><span class=nav-number>3.4.1.</span> <span class=nav-text>横向柱状图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Stacked%E6%9F%B1%E7%8A%B6%E5%9B%BE><span class=nav-number>3.4.2.</span> <span class=nav-text>Stacked柱状图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%8C%BA%E5%9F%9F%E5%A1%AB%E5%85%85><span class=nav-number>3.4.3.</span> <span class=nav-text>区域填充</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%8C%87%E5%AE%9Aindex%E7%94%BB%E5%9B%BE><span class=nav-number>3.4.4.</span> <span class=nav-text>指定index画图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%8C%89index%E7%94%BB%E5%9B%BE%EF%BC%88%E6%96%B9%E6%B3%951%EF%BC%89><span class=nav-number>3.4.5.</span> <span class=nav-text>按index画图（方法1）</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%8C%89index%E7%94%BB%E5%9B%BE%EF%BC%88%E6%96%B9%E6%B3%952%EF%BC%89><span class=nav-number>3.4.6.</span> <span class=nav-text>按index画图（方法2）</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%8C%89column%E7%94%BB%E5%9B%BE><span class=nav-number>3.4.7.</span> <span class=nav-text>按column画图</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%9B%B4%E6%96%B9%E5%9B%BE><span class=nav-number>3.5.</span> <span class=nav-text>直方图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%AF%86%E5%BA%A6%E5%9B%BE><span class=nav-number>3.6.</span> <span class=nav-text>密度图</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#Seaborn><span class=nav-number>4.</span> <span class=nav-text>Seaborn</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%95%A3%E7%82%B9%E5%9B%BE><span class=nav-number>4.1.</span> <span class=nav-text>散点图</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%96%B9%E6%B3%951%EF%BC%9Amatplotlib><span class=nav-number>4.1.1.</span> <span class=nav-text>方法1：matplotlib</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%96%B9%E6%B3%952%EF%BC%9ASeaborn><span class=nav-number>4.1.2.</span> <span class=nav-text>方法2：Seaborn</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%9B%B4%E6%96%B9%E5%9B%BE%EF%BC%88matplotlib%EF%BC%89><span class=nav-number>4.2.</span> <span class=nav-text>直方图（matplotlib）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%AF%86%E5%BA%A6%E5%9B%BE%EF%BC%88matplotlib%EF%BC%89><span class=nav-number>4.3.</span> <span class=nav-text>密度图（matplotlib）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%9B%B4%E6%96%B9%E5%9B%BE%EF%BC%88Seaborn%EF%BC%89><span class=nav-number>4.4.</span> <span class=nav-text>直方图（Seaborn）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%AF%86%E5%BA%A6%E5%9B%BE%EF%BC%88Seaborn%EF%BC%89><span class=nav-number>4.5.</span> <span class=nav-text>密度图（Seaborn）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E8%BD%B4%E9%A1%BB%E5%9B%BE%EF%BC%88Seaborn%EF%BC%89><span class=nav-number>4.6.</span> <span class=nav-text>轴须图（Seaborn）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%83%AD%E5%8A%9B%E5%9B%BE%EF%BC%88Seaborn%EF%BC%89><span class=nav-number>4.7.</span> <span class=nav-text>热力图（Seaborn）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%94%9F%E6%88%90%E9%80%8F%E8%A7%86%E8%A1%A8><span class=nav-number>4.8.</span> <span class=nav-text>生成透视表</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%BA%BF%E5%BD%A2%E5%9B%BE%EF%BC%88Matplotlib%EF%BC%89><span class=nav-number>4.9.</span> <span class=nav-text>线形图（Matplotlib）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%83%AD%E5%8A%9B%E5%9B%BE%EF%BC%88Seaborn%EF%BC%89-1><span class=nav-number>4.10.</span> <span class=nav-text>热力图（Seaborn）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9F%B1%E7%8A%B6%E5%9B%BE%EF%BC%88Matplotlib%EF%BC%89><span class=nav-number>4.11.</span> <span class=nav-text>柱状图（Matplotlib）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9F%B1%E7%8A%B6%E5%9B%BE%EF%BC%88Seaborn%EF%BC%89><span class=nav-number>4.12.</span> <span class=nav-text>柱状图（Seaborn）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Seaborn%E8%AE%BE%E7%BD%AE%E5%9B%BE%E5%BD%A2%E6%95%88%E6%9E%9C><span class=nav-number>4.13.</span> <span class=nav-text>Seaborn设置图形效果</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%AE%BE%E7%BD%AESeaborn%E6%98%BE%E7%A4%BA%E9%A3%8E%E6%A0%BC><span class=nav-number>4.13.1.</span> <span class=nav-text>设置Seaborn显示风格</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE><span class=nav-number>4.13.2.</span> <span class=nav-text>自定义配置</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%B8%85%E7%A9%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AE%BE%E7%BD%AE><span class=nav-number>4.13.3.</span> <span class=nav-text>清空自定义设置</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#plotting-context-set-context><span class=nav-number>4.13.4.</span> <span class=nav-text>plotting_context() & set_context()</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%98%BE%E7%A4%BAcontext%E8%AF%A6%E7%BB%86%E8%AE%BE%E7%BD%AE><span class=nav-number>4.13.5.</span> <span class=nav-text>显示context详细设置</span></a></ol></ol><li class="nav-item nav-level-1"><a class=nav-link href=#%E8%82%A1%E7%A5%A8%E5%88%86%E6%9E%90><span class=nav-number>5.</span> <span class=nav-text>股票分析</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%95%A3%E7%82%B9%E5%9B%BE-1><span class=nav-number>5.1.</span> <span class=nav-text>散点图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%86%E4%BD%8D%E6%95%B0><span class=nav-number>5.2.</span> <span class=nav-text>分位数</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#95-%E7%9A%84%E4%BF%A1%E5%BF%83daily-return%E4%B8%BA-2><span class=nav-number>5.3.</span> <span class=nav-text>95%的信心daily-return为-2%</span></a></ol></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><img alt="王方钢 / Kenny Wang" class=site-author-image itemprop=image src=/uploads/kwang.jpg><p class=site-author-name itemprop=name>王方钢 / Kenny Wang<div class=site-description itemprop=description></div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>182</span> <span class=site-state-item-name>日志</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>19</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>64</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub → https://github.com/wfg2513148" href=https://github.com/wfg2513148 target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="E-Mail → mailto:wfgdlut@gmail.com" href=mailto:wfgdlut@gmail.com target=_blank><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span><span class=links-of-author-item> <a rel="noopener me" title="Twitter → https://x.com/wfgdlut" href=https://x.com/wfgdlut target=_blank><i class="fab fa-twitter fa-fw"></i>Twitter</a> </span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=zh-CN><link href=https://wangfanggang.com/Python/python-ai/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=/uploads/kwang.jpg itemprop=image> <meta content="王方钢 / Kenny Wang" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content=钢钢更新 itemprop=name> <meta itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="Python 数据科学 学习笔记 - 钢钢更新 | 钢钢更新" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>Python 数据科学 学习笔记 - 钢钢更新</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2019-07-12 20:22:35" datetime=2019-07-12T20:22:35+00:00>2019-07-12</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2019-09-03 12:27:53" datetime=2019-09-03T12:27:53+00:00 itemprop=dateModified>2019-09-03</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Python/ itemprop=url rel=index><span itemprop=name>Python</span></a> </span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>27k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>1:40</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z2fkoyfdj31t611cwzq.jpg></p><span id=more></span><h1 id=Numpy><a class=headerlink href=#Numpy title=Numpy></a>Numpy</h1><h2 id=数组Array><a class=headerlink href=#数组Array title=数组Array></a>数组Array</h2><h3 id=初始化数组><a class=headerlink href=#初始化数组 title=初始化数组></a>初始化数组</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line>list_1 = [<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>,<span class=number>4</span>]</span><br><span class=line>array_1 = np.array(list_1)</span><br></pre></table></figure><blockquote><p>array([1, 2, 3, 4])</blockquote><h4 id=多维数组><a class=headerlink href=#多维数组 title=多维数组></a>多维数组</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>list_2 = [<span class=number>5</span>,<span class=number>6</span>,<span class=number>7</span>,<span class=number>8</span>]</span><br><span class=line>array_2 = np.array([list_1, list_2])</span><br></pre></table></figure><blockquote><p>array([[1, 2, 3, 4],<br> [5, 6, 7, 8]])</blockquote><h4 id=获取数组信息><a class=headerlink href=#获取数组信息 title=获取数组信息></a>获取数组信息</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>array_2.shape</span><br></pre></table></figure><blockquote><p>(2, 4)</blockquote><h4 id=获取数组类型><a class=headerlink href=#获取数组类型 title=获取数组类型></a>获取数组类型</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>array_2.dtype</span><br></pre></table></figure><blockquote><p>dtype(‘int64’)</blockquote><h4 id=获取数组尺寸><a class=headerlink href=#获取数组尺寸 title=获取数组尺寸></a>获取数组尺寸</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>array_2.size</span><br></pre></table></figure><blockquote><p>8</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>array_4 = np.array([[<span class=number>1.0</span>,<span class=number>2</span>,<span class=number>3</span>],[<span class=number>4.0</span>,<span class=number>5</span>,<span class=number>6</span>]])</span><br></pre></table></figure><blockquote><p>array([[1., 2., 3.],<br> [4., 5., 6.]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>array_4.dtype</span><br></pre></table></figure><blockquote><p>dtype(‘float64’)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>array_5 = np.arange(<span class=number>1</span>,<span class=number>10</span>,<span class=number>2</span>)</span><br></pre></table></figure><blockquote><p>array([1, 3, 5, 7, 9])</blockquote><h4 id=初始化元素为0的数组><a class=headerlink href=#初始化元素为0的数组 title=初始化元素为0的数组></a>初始化元素为0的数组</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.zeros(<span class=number>5</span>)</span><br></pre></table></figure><blockquote><p>array([0., 0., 0., 0., 0.])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.zeros([<span class=number>2</span>,<span class=number>3</span>])</span><br></pre></table></figure><blockquote><p>array([[0., 0., 0.],<br> [0., 0., 0.]])</blockquote><h4 id=初始化数组-1><a class=headerlink href=#初始化数组-1 title=初始化数组></a>初始化数组</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>a = np.arange(<span class=number>1</span>,<span class=number>10</span>)</span><br></pre></table></figure><blockquote><p>array([1, 2, 3, 4, 5, 6, 7, 8, 9])</blockquote><h4 id=数组切片><a class=headerlink href=#数组切片 title=数组切片></a>数组切片</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>a[<span class=number>1</span>]</span><br></pre></table></figure><blockquote><p>2</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>a[<span class=number>1</span>:<span class=number>5</span>]</span><br></pre></table></figure><blockquote><p>array([2, 3, 4, 5])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>b = np.array([[<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>],[<span class=number>4</span>,<span class=number>5</span>,<span class=number>6</span>]])</span><br></pre></table></figure><blockquote><p>array([[1, 2, 3],<br> [4, 5, 6]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>b[<span class=number>1</span>][<span class=number>0</span>]</span><br></pre></table></figure><blockquote><p>4</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>b[<span class=number>1</span>,<span class=number>0</span>]</span><br></pre></table></figure><blockquote><p>4</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c = np.array([[<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>],[<span class=number>4</span>,<span class=number>5</span>,<span class=number>6</span>],[<span class=number>7</span>,<span class=number>8</span>,<span class=number>9</span>]])</span><br></pre></table></figure><blockquote><p>array([[1, 2, 3],<br> [4, 5, 6],<br> [7, 8, 9]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[:<span class=number>2</span>,<span class=number>1</span>:]</span><br></pre></table></figure><blockquote><p>array([[2, 3],<br> [5, 6]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=number>1</span>:]</span><br></pre></table></figure><blockquote><p>array([[4, 5, 6],<br> [7, 8, 9]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=number>0</span>:,<span class=number>1</span>:]</span><br></pre></table></figure><blockquote><p>array([[2, 3],<br> [5, 6],<br> [8, 9]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=number>0</span>:,:<span class=number>1</span>]</span><br></pre></table></figure><blockquote><p>array([[1],<br> [4],<br> [7]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=number>0</span>:,:<span class=number>2</span>]</span><br></pre></table></figure><blockquote><p>array([[1, 2],<br> [4, 5],<br> [7, 8]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=number>0</span>:<span class=number>1</span>]</span><br></pre></table></figure><blockquote><p>array([[1, 2, 3]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=number>1</span>:]</span><br></pre></table></figure><blockquote><p>array([[4, 5, 6],<br> [7, 8, 9]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=number>1</span>:,<span class=number>1</span>:]</span><br></pre></table></figure><blockquote><p>array([[5, 6],<br> [8, 9]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=number>0</span>:,<span class=number>1</span>:<span class=number>2</span>]</span><br></pre></table></figure><blockquote><p>array([[2],<br> [5],<br> [8]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=number>0</span>:,<span class=number>1</span>:]</span><br></pre></table></figure><blockquote><p>array([[2, 3],<br> [5, 6],<br> [8, 9]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=number>0</span>:,<span class=number>1</span>:<span class=number>3</span>]</span><br></pre></table></figure><blockquote><p>array([[2, 3],<br> [5, 6],<br> [8, 9]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=number>0</span>:<span class=number>2</span>,<span class=number>1</span>:<span class=number>3</span>]</span><br></pre></table></figure><blockquote><p>array([[2, 3],<br> [5, 6]])</blockquote><h4 id=用随机-小-数初始化数组><a class=headerlink href=#用随机-小-数初始化数组 title=用随机(小)数初始化数组></a>用随机(小)数初始化数组</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line>np.random.randn(<span class=number>10</span>)</span><br></pre></table></figure><blockquote><p>array([-2.98186555, 0.51843113, -0.74563428, -1.84832264, -0.54354513,<br> 1.23002927, 0.99527109, -0.49284623, 0.20869479, -0.46934356])</blockquote><h4 id=用随机整数初始化数组><a class=headerlink href=#用随机整数初始化数组 title=用随机整数初始化数组></a>用随机整数初始化数组</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.random.randint(<span class=number>10</span>)</span><br></pre></table></figure><blockquote><p>2</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.random.randint(<span class=number>10</span>, size=<span class=number>20</span>).reshape(<span class=number>4</span>,<span class=number>5</span>)</span><br></pre></table></figure><blockquote><p>array([[3, 2, 5, 1, 3],<br> [1, 6, 2, 8, 4],<br> [0, 4, 8, 7, 0],<br> [4, 4, 8, 5, 3]])</blockquote><h3 id=数组运算><a class=headerlink href=#数组运算 title=数组运算></a>数组运算</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>a = np.random.randint(<span class=number>10</span>, size=<span class=number>20</span>).reshape(<span class=number>4</span>,<span class=number>5</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>b = np.random.randint(<span class=number>10</span>, size=<span class=number>20</span>).reshape(<span class=number>4</span>,<span class=number>5</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>a</span><br></pre></table></figure><blockquote><p>array([[7, 5, 8, 9, 8],<br> [0, 9, 5, 4, 0],<br> [4, 7, 3, 7, 6],<br> [3, 7, 9, 1, 6]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>b</span><br></pre></table></figure><blockquote><p>array([[0, 9, 9, 5, 4],<br> [7, 3, 1, 5, 7],<br> [3, 6, 5, 5, 9],<br> [3, 7, 3, 6, 9]])</blockquote><h4 id=数组相加><a class=headerlink href=#数组相加 title=数组相加></a>数组相加</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>a + b</span><br></pre></table></figure><blockquote><p>array([[ 7, 14, 17, 14, 12],<br> [ 7, 12, 6, 9, 7],<br> [ 7, 13, 8, 12, 15],<br> [ 6, 14, 12, 7, 15]])</blockquote><h4 id=数组相减><a class=headerlink href=#数组相减 title=数组相减></a>数组相减</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>a - b</span><br></pre></table></figure><blockquote><p>array([[ 7, -4, -1, 4, 4],<br> [-7, 6, 4, -1, -7],<br> [ 1, 1, -2, 2, -3],<br> [ 0, 0, 6, -5, -3]])</blockquote><h4 id=数组相乘><a class=headerlink href=#数组相乘 title=数组相乘></a>数组相乘</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>a * b</span><br></pre></table></figure><blockquote><p>array([[ 0, 45, 72, 45, 32],<br> [ 0, 27, 5, 20, 0],<br> [12, 42, 15, 35, 54],<br> [ 9, 49, 27, 6, 54]])</blockquote><h3 id=数组常用函数><a class=headerlink href=#数组常用函数 title=数组常用函数></a>数组常用函数</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>a</span><br></pre></table></figure><blockquote><p>array([[7, 5, 8, 9, 8],<br> [0, 9, 5, 4, 0],<br> [4, 7, 3, 7, 6],<br> [3, 7, 9, 1, 6]])</blockquote><h4 id=获取数组中所有唯一数><a class=headerlink href=#获取数组中所有唯一数 title=获取数组中所有唯一数></a>获取数组中所有唯一数</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.unique(a)</span><br></pre></table></figure><blockquote><p>array([0, 1, 3, 4, 5, 6, 7, 8, 9])</blockquote><h4 id=对数组每一列求和><a class=headerlink href=#对数组每一列求和 title=对数组每一列求和></a>对数组每一列求和</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>sum</span>(a)</span><br></pre></table></figure><blockquote><p>array([14, 28, 25, 21, 20])</blockquote><h4 id=对数组指定行求和><a class=headerlink href=#对数组指定行求和 title=对数组指定行求和></a>对数组指定行求和</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>sum</span>(a[<span class=number>0</span>])</span><br></pre></table></figure><blockquote><p>37</blockquote><h4 id=对数组指定列求和><a class=headerlink href=#对数组指定列求和 title=对数组指定列求和></a>对数组指定列求和</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>sum</span>(a[:,<span class=number>0</span>])</span><br></pre></table></figure><blockquote><p>14</blockquote><h4 id=获取数组最大值><a class=headerlink href=#获取数组最大值 title=获取数组最大值></a>获取数组最大值</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>a.<span class=built_in>max</span>()</span><br></pre></table></figure><blockquote><p>9</blockquote><h4 id=获取数组指定行最大值><a class=headerlink href=#获取数组指定行最大值 title=获取数组指定行最大值></a>获取数组指定行最大值</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>max</span>(a[<span class=number>0</span>])</span><br></pre></table></figure><blockquote><p>9</blockquote><h4 id=获取数组指定列最大值><a class=headerlink href=#获取数组指定列最大值 title=获取数组指定列最大值></a>获取数组指定列最大值</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>max</span>(a[:,<span class=number>0</span>])</span><br></pre></table></figure><blockquote><p>7</blockquote><h3 id=使用pickle序列化array><a class=headerlink href=#使用pickle序列化array title=使用pickle序列化array></a>使用pickle序列化array</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> pickle</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line>x = np.arange(<span class=number>10</span>)</span><br></pre></table></figure><blockquote><p>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</blockquote><h4 id=将数组以二进制的方式写入文件><a class=headerlink href=#将数组以二进制的方式写入文件 title=将数组以二进制的方式写入文件></a>将数组以二进制的方式写入文件</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>f = <span class=built_in>open</span>(<span class=string>'x.pkl'</span>,<span class=string>'wb'</span>)</span><br></pre></table></figure><h4 id=写入文件><a class=headerlink href=#写入文件 title=写入文件></a>写入文件</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pickle.dump(x, f)</span><br></pre></table></figure><h4 id=查看文件目录><a class=headerlink href=#查看文件目录 title=查看文件目录></a>查看文件目录</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>!ls</span><br></pre></table></figure><blockquote><p>Array的input和output.ipynb x.pkl<br>array.ipynb 数组与矩阵运算.ipynb</blockquote><h4 id=以二进制方式打开文件><a class=headerlink href=#以二进制方式打开文件 title=以二进制方式打开文件></a>以二进制方式打开文件</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>f = <span class=built_in>open</span>(<span class=string>'x.pkl'</span>, <span class=string>'rb'</span>)</span><br></pre></table></figure><h4 id=读取文件内容><a class=headerlink href=#读取文件内容 title=读取文件内容></a>读取文件内容</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pickle.load(f)</span><br></pre></table></figure><blockquote><pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
</code></pre></blockquote><h2 id=矩阵Matrix><a class=headerlink href=#矩阵Matrix title=矩阵Matrix></a>矩阵Matrix</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.mat([[<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>],[<span class=number>4</span>,<span class=number>5</span>,<span class=number>6</span>]])</span><br></pre></table></figure><blockquote><p>matrix([[1, 2, 3],<br> [4, 5, 6]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.mat(a)</span><br></pre></table></figure><blockquote><p>matrix([[7, 5, 8, 9, 8],<br> [0, 9, 5, 4, 0],<br> [4, 7, 3, 7, 6],<br> [3, 7, 9, 1, 6]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>a</span><br></pre></table></figure><blockquote><p>array([[7, 5, 8, 9, 8],<br> [0, 9, 5, 4, 0],<br> [4, 7, 3, 7, 6],<br> [3, 7, 9, 1, 6]])</blockquote><h3 id=矩阵的运算><a class=headerlink href=#矩阵的运算 title=矩阵的运算></a>矩阵的运算</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>A = np.mat(a)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>B = np.mat(b)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>A</span><br></pre></table></figure><blockquote><p>matrix([[7, 5, 8, 9, 8],<br> [0, 9, 5, 4, 0],<br> [4, 7, 3, 7, 6],<br> [3, 7, 9, 1, 6]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>B</span><br></pre></table></figure><blockquote><p>matrix([[0, 9, 9, 5, 4],<br> [7, 3, 1, 5, 7],<br> [3, 6, 5, 5, 9],<br> [3, 7, 3, 6, 9]])</blockquote><h4 id=矩阵相加><a class=headerlink href=#矩阵相加 title=矩阵相加></a>矩阵相加</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>A + B</span><br></pre></table></figure><blockquote><p>matrix([[ 7, 14, 17, 14, 12],<br> [ 7, 12, 6, 9, 7],<br> [ 7, 13, 8, 12, 15],<br> [ 6, 14, 12, 7, 15]])</blockquote><h4 id=矩阵相减><a class=headerlink href=#矩阵相减 title=矩阵相减></a>矩阵相减</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>A - B</span><br></pre></table></figure><blockquote><p>matrix([[ 7, -4, -1, 4, 4],<br> [-7, 6, 4, -1, -7],<br> [ 1, 1, -2, 2, -3],<br> [ 0, 0, 6, -5, -3]])</blockquote><h4 id=矩阵相乘><a class=headerlink href=#矩阵相乘 title=矩阵相乘></a>矩阵相乘</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>c = np.mat(np.random.randint(<span class=number>10</span>, size=<span class=number>20</span>).reshape(<span class=number>4</span>,<span class=number>5</span>))</span><br><span class=line>d = np.mat(np.random.randint(<span class=number>10</span>, size=<span class=number>20</span>).reshape(<span class=number>5</span>,<span class=number>4</span>))</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c</span><br></pre></table></figure><blockquote><p>matrix([[8, 5, 2, 1, 8],<br> [9, 5, 8, 5, 4],<br> [5, 0, 6, 9, 8],<br> [3, 9, 7, 9, 6]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>d</span><br></pre></table></figure><blockquote><p>matrix([[1, 8, 8, 5],<br> [3, 4, 5, 3],<br> [9, 3, 5, 2],<br> [8, 6, 9, 2],<br> [4, 9, 8, 1]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c * d</span><br></pre></table></figure><blockquote><p>matrix([[ 81, 168, 172, 69],<br> [152, 182, 214, 90],<br> [163, 184, 215, 63],<br> [189, 189, 233, 80]])</blockquote><h3 id=使用numpy进行输入输出（文件操作）><a class=headerlink href=#使用numpy进行输入输出（文件操作） title=使用numpy进行输入输出（文件操作）></a>使用numpy进行输入输出（文件操作）</h3><h4 id=使用np-save写入文件><a class=headerlink href=#使用np-save写入文件 title=使用np.save写入文件></a>使用np.save写入文件</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.save(<span class=string>'one_array'</span>, x)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>!ls</span><br></pre></table></figure><blockquote><pre><code>Array的input和output.ipynb   x.pkl
</code></pre></blockquote><pre><code>array.ipynb                  数组与矩阵运算.ipynb
one_array.npy
</code></pre><h4 id=使用np-load读取文件内容><a class=headerlink href=#使用np-load读取文件内容 title=使用np.load读取文件内容></a>使用np.load读取文件内容</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.load(<span class=string>'one_array.npy'</span>)</span><br></pre></table></figure><blockquote><p>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>y = np.arange(<span class=number>20</span>)</span><br></pre></table></figure><blockquote><p>array([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19])</blockquote><h4 id=使用np-savez将多个数组保存到一个文件中><a class=headerlink href=#使用np-savez将多个数组保存到一个文件中 title=使用np.savez将多个数组保存到一个文件中></a>使用np.savez将多个数组保存到一个文件中</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.savez(<span class=string>'two_array.npz'</span>, a=x, b=y)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>!ls</span><br></pre></table></figure><blockquote><p>Array的input和output.ipynb two_array.npz<br>array.ipynb x.pkl<br>one_array.npy 数组与矩阵运算.ipynb</blockquote><h4 id=利用np-load读取文件内容><a class=headerlink href=#利用np-load读取文件内容 title=利用np.load读取文件内容></a>利用np.load读取文件内容</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c = np.load(<span class=string>'two_array.npz'</span>)</span><br></pre></table></figure><h4 id=利用索引名读取对应数组内容><a class=headerlink href=#利用索引名读取对应数组内容 title=利用索引名读取对应数组内容></a>利用索引名读取对应数组内容</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=string>'a'</span>]</span><br></pre></table></figure><blockquote><p>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>c[<span class=string>'b'</span>]</span><br></pre></table></figure><blockquote><p>array([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,<br> 17, 18, 19])</blockquote><h1 id=Pandas><a class=headerlink href=#Pandas title=Pandas></a>Pandas</h1><h2 id=Series><a class=headerlink href=#Series title=Series></a>Series</h2><h3 id=Series初始化><a class=headerlink href=#Series初始化 title=Series初始化></a>Series初始化</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line></span><br><span class=line>s1 = pd.Series([<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>,<span class=number>4</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1</span><br></pre></table></figure><blockquote><p>0 1<br>1 2<br>2 3<br>3 4<br>dtype: int64</blockquote><h4 id=values><a class=headerlink href=#values title=values></a>values</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.values</span><br></pre></table></figure><blockquote><p>array([1, 2, 3, 4])</blockquote><h4 id=index><a class=headerlink href=#index title=index></a>index</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.index</span><br></pre></table></figure><blockquote><p>RangeIndex(start=0, stop=4, step=1)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s2 = pd.Series(np.arange(<span class=number>10</span>))</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s2</span><br></pre></table></figure><blockquote><p>0 0<br>1 1<br>2 2<br>3 3<br>4 4<br>5 5<br>6 6<br>7 7<br>8 8<br>9 9<br>dtype: int64</blockquote><h4 id=指定index><a class=headerlink href=#指定index title=指定index></a>指定index</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s3 = pd.Series({<span class=string>'1'</span>:<span class=number>1</span>,<span class=string>'2'</span>:<span class=number>2</span>,<span class=string>'3'</span>:<span class=number>3</span>})</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s3</span><br></pre></table></figure><blockquote><p>1 1<br>2 2<br>3 3<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s3.index</span><br></pre></table></figure><blockquote><p>Index([‘1’, ‘2’, ‘3’], dtype=’object’)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s3.values</span><br></pre></table></figure><blockquote><p>array([1, 2, 3])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s4 = pd.Series([<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>,<span class=number>4</span>], index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s4</span><br></pre></table></figure><blockquote><p>A 1<br>B 2<br>C 3<br>D 4<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s4.values</span><br></pre></table></figure><blockquote><p>array([1, 2, 3, 4])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s4.index</span><br></pre></table></figure><blockquote><p>Index([‘A’, ‘B’, ‘C’, ‘D’], dtype=’object’)</blockquote><h4 id=访问Series元素><a class=headerlink href=#访问Series元素 title=访问Series元素></a>访问Series元素</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s4[<span class=string>'A'</span>]</span><br></pre></table></figure><blockquote><p>1</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s4[s4><span class=number>2</span>]</span><br></pre></table></figure><blockquote><p>C 3<br>D 4<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s4</span><br></pre></table></figure><blockquote><p>A 1<br>B 2<br>C 3<br>D 4<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s4.to_dict()</span><br></pre></table></figure><blockquote><p>{‘A’: 1, ‘B’: 2, ‘C’: 3, ‘D’: 4}</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s5 = pd.Series(s4.to_dict())</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s5</span><br></pre></table></figure><blockquote><p>A 1<br>B 2<br>C 3<br>D 4<br>dtype: int64</blockquote><h4 id=新增index><a class=headerlink href=#新增index title=新增index></a>新增index</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>index_1=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>,<span class=string>'E'</span>]</span><br><span class=line>s6 = pd.Series(s5, index=index_1)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s6</span><br></pre></table></figure><blockquote><p>A 1.0<br>B 2.0<br>C 3.0<br>D 4.0<br>E NaN<br>dtype: float64</blockquote><h4 id=对Series元素进行空值判定><a class=headerlink href=#对Series元素进行空值判定 title=对Series元素进行空值判定></a>对Series元素进行空值判定</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.isnull(s6)</span><br></pre></table></figure><blockquote><p>A False<br>B False<br>C False<br>D False<br>E True<br>dtype: bool</blockquote><h4 id=对Series元素进行非空判定><a class=headerlink href=#对Series元素进行非空判定 title=对Series元素进行非空判定></a>对Series元素进行非空判定</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.notnull(s6)</span><br></pre></table></figure><blockquote><p>A True<br>B True<br>C True<br>D True<br>E False<br>dtype: bool</blockquote><h4 id=指定Series名称><a class=headerlink href=#指定Series名称 title=指定Series名称></a>指定Series名称</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s6.name = <span class=string>'demo'</span></span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s6</span><br></pre></table></figure><blockquote><p>A 1.0<br>B 2.0<br>C 3.0<br>D 4.0<br>E NaN<br>Name: demo, dtype: float64</blockquote><h4 id=指定Series索引名称><a class=headerlink href=#指定Series索引名称 title=指定Series索引名称></a>指定Series索引名称</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s6.index.name = <span class=string>'index demo'</span></span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s6</span><br></pre></table></figure><blockquote><p>index demo<br>A 1.0<br>B 2.0<br>C 3.0<br>D 4.0<br>E NaN<br>Name: demo, dtype: float64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s6.index</span><br></pre></table></figure><blockquote><p>Index([‘A’, ‘B’, ‘C’, ‘D’, ‘E’], dtype=’object’, name=’index demo’)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s6.values</span><br></pre></table></figure><blockquote><p>array([ 1., 2., 3., 4., nan])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1 = pd.Series(data[<span class=string>'Country'</span>], index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1</span><br></pre></table></figure><blockquote><p>0 Belgium<br>1 India<br>2 Brazil<br>dtype: object</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.values</span><br></pre></table></figure><blockquote><p>array([‘Belgium’, ‘India’, ‘Brazil’], dtype=object)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.index</span><br></pre></table></figure><blockquote><p>Index([‘A’, ‘B’, ‘C’], dtype=’object’)</blockquote><h3 id=Reindex-on-Series><a title="Reindex on Series" class=headerlink href=#Reindex-on-Series></a>Reindex on Series</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>s1 = pd.Series([<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>,<span class=number>4</span>], index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1</span><br></pre></table></figure><blockquote><p>A 1<br>B 2<br>C 3<br>D 4<br>dtype: int64</blockquote><h4 id=添加index><a class=headerlink href=#添加index title=添加index></a>添加index</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.reindex([<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>,<span class=string>'E'</span>])</span><br></pre></table></figure><blockquote><p>A 1.0<br>B 2.0<br>C 3.0<br>D 4.0<br>E NaN<br>dtype: float64</blockquote><h4 id=用固定数值填充新的index><a class=headerlink href=#用固定数值填充新的index title=用固定数值填充新的index></a>用固定数值填充新的index</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.reindex([<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>,<span class=string>'E'</span>], fill_value=<span class=number>10</span>)</span><br></pre></table></figure><blockquote><p>A 1<br>B 2<br>C 3<br>D 4<br>E 10<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s2 = pd.Series([<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>], index=[<span class=number>1</span>,<span class=number>5</span>,<span class=number>10</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s2</span><br></pre></table></figure><blockquote><p>1 A<br>5 B<br>10 C<br>dtype: object</blockquote><h4 id=用-range-扩充index><a title="用 range() 扩充index" class=headerlink href=#用-range-扩充index></a>用 range() 扩充index</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s2.reindex(index=<span class=built_in>range</span>(<span class=number>15</span>))</span><br></pre></table></figure><blockquote><p>0 NaN<br>1 A<br>2 NaN<br>3 NaN<br>4 NaN<br>5 B<br>6 NaN<br>7 NaN<br>8 NaN<br>9 NaN<br>10 C<br>11 NaN<br>12 NaN<br>13 NaN<br>14 NaN<br>dtype: object</blockquote><h4 id=用ffill填充新增index><a class=headerlink href=#用ffill填充新增index title=用ffill填充新增index></a>用ffill填充新增index</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s2.reindex(index=<span class=built_in>range</span>(<span class=number>15</span>), method=<span class=string>'ffill'</span>)</span><br></pre></table></figure><blockquote><p>0 NaN<br>1 A<br>2 A<br>3 A<br>4 A<br>5 B<br>6 B<br>7 B<br>8 B<br>9 B<br>10 C<br>11 C<br>12 C<br>13 C<br>14 C<br>dtype: object</blockquote><h4 id=对Series切片><a class=headerlink href=#对Series切片 title=对Series切片></a>对Series切片</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1</span><br></pre></table></figure><blockquote><p>A 1<br>B 2<br>C 3<br>D 4<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.reindex(index=[<span class=string>'A'</span>,<span class=string>'B'</span>])</span><br></pre></table></figure><blockquote><p>A 1<br>B> 2<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1</span><br></pre></table></figure><pre><code>A    1
B    2
C    3
D    4
dtype: int64
</code></pre><h4 id=对Series进行drop-index><a title="对Series进行drop index" class=headerlink href=#对Series进行drop-index></a>对Series进行drop index</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.drop(<span class=string>'A'</span>)</span><br></pre></table></figure><blockquote><p>B 2<br>C 3<br>D 4<br>dtype: int64</blockquote><h3 id=Series的简单数学计算><a class=headerlink href=#Series的简单数学计算 title=Series的简单数学计算></a>Series的简单数学计算</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>s1 = Series([<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>], index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>])</span><br><span class=line></span><br><span class=line>s1</span><br></pre></table></figure><blockquote><p>A 1<br>B 2<br>C 3<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>s2 = Series([<span class=number>4</span>,<span class=number>5</span>,<span class=number>6</span>,<span class=number>7</span>], index=[<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>,<span class=string>'E'</span>])</span><br><span class=line>s2</span><br></pre></table></figure><blockquote><p>B 4<br>C 5<br>D 6<br>E 7<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1 + s2</span><br></pre></table></figure><blockquote><p>A NaN<br>B 6.0<br>C 8.0<br>D NaN<br>E NaN<br>dtype: float64</blockquote><h3 id=Series的排序><a class=headerlink href=#Series的排序 title=Series的排序></a>Series的排序</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>s1 = Series(np.random.randn(<span class=number>10</span>))</span><br><span class=line></span><br><span class=line>s1</span><br></pre></table></figure><blockquote><p>0 0.035039<br>1 1.087393<br>2 -0.342811<br>3 -0.557990<br>4 0.548988<br>5 0.051965<br>6 2.983233<br>7 0.757732<br>8 -0.391369<br>9 0.850908<br>dtype: float64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.values</span><br></pre></table></figure><blockquote><p>array([ 0.03503903, 1.08739272, -0.34281109, -0.5579896 , 0.54898768,<br> 0.05196506, 2.98323291, 0.75773189, -0.39136856, 0.85090778])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.index</span><br></pre></table></figure><blockquote><p>RangeIndex(start=0, stop=10, step=1)</blockquote><h4 id=按columns排序><a class=headerlink href=#按columns排序 title=按columns排序></a>按columns排序</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>s2 = s1.sort_values(ascending=<span class=literal>False</span>)</span><br><span class=line>s2</span><br></pre></table></figure><pre><code>6    2.983233
1    1.087393
9    0.850908
7    0.757732
4    0.548988
5    0.051965
0    0.035039
2   -0.342811
8   -0.391369
3   -0.557990
dtype: float64
</code></pre><h4 id=按index排序><a class=headerlink href=#按index排序 title=按index排序></a>按index排序</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s2.sort_index()</span><br></pre></table></figure><blockquote><p>0 0.035039<br>1 1.087393<br>2 -0.342811<br>3 -0.557990<br>4 0.548988<br>5 0.051965<br>6 2.983233<br>7 0.757732<br>8 -0.391369<br>9 0.850908<br>dtype: float64</blockquote><h3 id=Nan-in-Series><a title="Nan in Series" class=headerlink href=#Nan-in-Series></a>Nan in Series</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>n = np.nan</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>n</span><br></pre></table></figure><blockquote><p>nan</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>type</span>(n)</span><br></pre></table></figure><blockquote><p>float</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>m = <span class=number>1</span></span><br><span class=line>m + n</span><br></pre></table></figure><blockquote><p>nan</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1 = Series([<span class=number>1</span>,<span class=number>2</span>,np.nan,<span class=number>3</span>,<span class=number>4</span>],index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>,<span class=string>'E'</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1</span><br></pre></table></figure><blockquote><p>A 1.0<br>B 2.0<br>C NaN<br>D 3.0<br>E 4.0<br>dtype: float64</blockquote><h4 id=空值判断><a class=headerlink href=#空值判断 title=空值判断></a>空值判断</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.isnull()</span><br></pre></table></figure><blockquote><p>A False<br>B False<br>C True<br>D False<br>E False<br>dtype: bool</blockquote><h4 id=删除nan的行><a class=headerlink href=#删除nan的行 title=删除nan的行></a>删除nan的行</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.dropna()</span><br></pre></table></figure><blockquote><p>A 1.0<br>B 2.0<br>D 3.0<br>E 4.0<br>dtype: float64</blockquote><h2 id=DataFrame><a class=headerlink href=#DataFrame title=DataFrame></a>DataFrame</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> webbrowser</span><br><span class=line>link = <span class=string>'https://www.tiobe.com/tiobe-index/'</span></span><br><span class=line>webbrowser.<span class=built_in>open</span>(link)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/large/006By2pOgy1g4vzupiyzlj31h40q0djj.jpg><h3 id=读取剪贴板内容，并生成DataFrame><a class=headerlink href=#读取剪贴板内容，并生成DataFrame title=读取剪贴板内容，并生成DataFrame></a>读取剪贴板内容，并生成DataFrame</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df = pd.read_clipboard()</span><br><span class=line></span><br><span class=line>df</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Jul 2019<th>Jul 2018<th>Change<th>Programming Language<th>Ratings<th>Change.1<tbody><tr><th>0<td>1<td>1<td>NaN<td>Java<td>15.058%<td>-1.08%<tr><th>1<td>2<td>2<td>NaN<td>C<td>14.211%<td>-0.45%<tr><th>2<td>3<td>4<td>change<td>Python<td>9.260%<td>+2.90%<tr><th>3<td>4<td>3<td>change<td>C++<td>6.705%<td>-0.91%<tr><th>4<td>5<td>6<td>change<td>C#<td>4.365%<td>+0.57%<tr><th>5<td>6<td>5<td>change<td>Visual Basic .NET<td>4.208%<td>-0.04%<tr><th>6<td>7<td>8<td>change<td>JavaScript<td>2.304%<td>-0.53%<tr><th>7<td>8<td>7<td>change<td>PHP<td>2.167%<td>-0.67%<tr><th>8<td>9<td>9<td>NaN<td>SQL<td>1.977%<td>-0.36%<tr><th>9<td>10<td>10<td>NaN<td>Objective-C<td>1.686%<td>+0.23%</table><h3 id=Type><a class=headerlink href=#Type title=Type></a>Type</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>type</span>(df)</span><br></pre></table></figure><blockquote><p>pandas.core.frame.DataFrame</blockquote><h3 id=Columns><a class=headerlink href=#Columns title=Columns></a>Columns</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.columns</span><br></pre></table></figure><blockquote><pre><code>Index(['Jul 2019', 'Jul 2018', 'Change', 'Programming Language', 'Ratings',
</code></pre></blockquote><pre><code>       'Change.1'],
      dtype='object')
</code></pre><h3 id=访问DataFrame列><a class=headerlink href=#访问DataFrame列 title=访问DataFrame列></a>访问DataFrame列</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.Ratings</span><br></pre></table></figure><blockquote><p>0 15.058%<br>1 14.211%<br>2 9.260%<br>3 6.705%<br>4 4.365%<br>5 4.208%<br>6 2.304%<br>7 2.167%<br>8 1.977%<br>9 1.686%<br>Name: Ratings, dtype: object</blockquote><h3 id=复制DataFrame><a class=headerlink href=#复制DataFrame title=复制DataFrame></a>复制DataFrame</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new = DataFrame(df, columns=[<span class=string>'Programming Language'</span>,<span class=string>'Jul 2018'</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Programming Language<th>Jul 2018<tbody><tr><th>0<td>Java<td>1<tr><th>1<td>C<td>2<tr><th>2<td>Python<td>4<tr><th>3<td>C++<td>3<tr><th>4<td>C#<td>6<tr><th>5<td>Visual Basic .NET<td>5<tr><th>6<td>JavaScript<td>8<tr><th>7<td>PHP<td>7<tr><th>8<td>SQL<td>9<tr><th>9<td>Objective-C<td>10</table><h3 id=向DataFrame中增加新列><a class=headerlink href=#向DataFrame中增加新列 title=向DataFrame中增加新列></a>向DataFrame中增加新列</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new = DataFrame(df, columns=[<span class=string>'Programming Language'</span>,<span class=string>'Jul 2018'</span>, <span class=string>'Sep 2018'</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Programming Language<th>Jul 2018<th>Sep 2018<tbody><tr><th>0<td>Java<td>1<td>NaN<tr><th>1<td>C<td>2<td>NaN<tr><th>2<td>Python<td>4<td>NaN<tr><th>3<td>C++<td>3<td>NaN<tr><th>4<td>C#<td>6<td>NaN<tr><th>5<td>Visual Basic .NET<td>5<td>NaN<tr><th>6<td>JavaScript<td>8<td>NaN<tr><th>7<td>PHP<td>7<td>NaN<tr><th>8<td>SQL<td>9<td>NaN<tr><th>9<td>Objective-C<td>10<td>NaN</table><h3 id=向新增列填充数据><a class=headerlink href=#向新增列填充数据 title=向新增列填充数据></a>向新增列填充数据</h3><h4 id=方法1：range><a class=headerlink href=#方法1：range title=方法1：range()></a>方法1：range()</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new[<span class=string>'Sep 2018'</span>] = <span class=built_in>range</span>(<span class=number>0</span>,<span class=number>10</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Programming Language<th>Jul 2018<th>Sep 2018<tbody><tr><th>0<td>Java<td>1<td>0<tr><th>1<td>C<td>2<td>1<tr><th>2<td>Python<td>4<td>2<tr><th>3<td>C++<td>3<td>3<tr><th>4<td>C#<td>6<td>4<tr><th>5<td>Visual Basic .NET<td>5<td>5<tr><th>6<td>JavaScript<td>8<td>6<tr><th>7<td>PHP<td>7<td>7<tr><th>8<td>SQL<td>9<td>8<tr><th>9<td>Objective-C<td>10<td>9</table><h4 id=方法2：np-range><a class=headerlink href=#方法2：np-range title=方法2：np.range()></a>方法2：np.range()</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new[<span class=string>'Sep 2018'</span>] = np.arange(<span class=number>0</span>,<span class=number>10</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Programming Language<th>Jul 2018<th>Sep 2018<tbody><tr><th>0<td>Java<td>1<td>0<tr><th>1<td>C<td>2<td>1<tr><th>2<td>Python<td>4<td>2<tr><th>3<td>C++<td>3<td>3<tr><th>4<td>C#<td>6<td>4<tr><th>5<td>Visual Basic .NET<td>5<td>5<tr><th>6<td>JavaScript<td>8<td>6<tr><th>7<td>PHP<td>7<td>7<tr><th>8<td>SQL<td>9<td>8<tr><th>9<td>Objective-C<td>10<td>9</table><h4 id=方法3：np-arange><a class=headerlink href=#方法3：np-arange title=方法3：np.arange()></a>方法3：np.arange()</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new[<span class=string>'Sep 2018'</span>] = pd.Series(np.arange(<span class=number>0</span>,<span class=number>10</span>))</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Programming Language<th>Jul 2018<th>Sep 2018<tbody><tr><th>0<td>Java<td>1<td>0<tr><th>1<td>C<td>2<td>1<tr><th>2<td>Python<td>4<td>2<tr><th>3<td>C++<td>3<td>3<tr><th>4<td>C#<td>6<td>4<tr><th>5<td>Visual Basic .NET<td>5<td>5<tr><th>6<td>JavaScript<td>8<td>6<tr><th>7<td>PHP<td>7<td>7<tr><th>8<td>SQL<td>9<td>8<tr><th>9<td>Objective-C<td>10<td>9</table><h3 id=向新增列中填充数值><a class=headerlink href=#向新增列中填充数值 title=向新增列中填充数值></a>向新增列中填充数值</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new[<span class=string>'Sep 2018'</span>] = pd.Series([<span class=number>100</span>,<span class=number>200</span>],index=[<span class=number>1</span>,<span class=number>2</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Programming Language<th>Jul 2018<th>Sep 2018<tbody><tr><th>0<td>Java<td>1<td>NaN<tr><th>1<td>C<td>2<td>100.0<tr><th>2<td>Python<td>4<td>200.0<tr><th>3<td>C++<td>3<td>NaN<tr><th>4<td>C#<td>6<td>NaN<tr><th>5<td>Visual Basic .NET<td>5<td>NaN<tr><th>6<td>JavaScript<td>8<td>NaN<tr><th>7<td>PHP<td>7<td>NaN<tr><th>8<td>SQL<td>9<td>NaN<tr><th>9<td>Objective-C<td>10<td>NaN</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>data = {<span class=string>'Country'</span>: [<span class=string>'Belgium'</span>,<span class=string>'India'</span>, <span class=string>'Brazil'</span>], </span><br><span class=line>       <span class=string>'Capital'</span>:[<span class=string>'Brussels'</span>, <span class=string>'New Delhi'</span>, <span class=string>'Brasilia'</span>],</span><br><span class=line>       <span class=string>'Population'</span>:[<span class=number>11190846</span>, <span class=number>1303171035</span>, <span class=number>207847528</span>]}</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1 = pd.DataFrame(data)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Country<th>Capital<th>Population<tbody><tr><th>0<td>Belgium<td>Brussels<td>11190846<tr><th>1<td>India<td>New Delhi<td>1303171035<tr><th>2<td>Brazil<td>Brasilia<td>207847528</table><h3 id=访问DataFrame某一列><a class=headerlink href=#访问DataFrame某一列 title=访问DataFrame某一列></a>访问DataFrame某一列</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1[<span class=string>'Country'</span>]</span><br></pre></table></figure><blockquote><p>0 Belgium<br>1 India<br>2 Brazil<br>Name: Country, dtype: object</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>cou = df1[<span class=string>'Country'</span>]</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>type</span>(cou)</span><br></pre></table></figure><blockquote><p>pandas.core.series.Series</blockquote><h3 id=遍历DataFrame><a class=headerlink href=#遍历DataFrame title=遍历DataFrame></a>遍历DataFrame</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.iterrows()</span><br></pre></table></figure><blockquote><p>&lt;generator object DataFrame.iterrows at 0x118d895e8></blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>for</span> row <span class=keyword>in</span> df1.iterrows():</span><br><span class=line>    <span class=built_in>print</span>(row[<span class=number>0</span>]), <span class=built_in>print</span>(row[<span class=number>1</span>])</span><br><span class=line>    <span class=keyword>break</span></span><br></pre></table></figure><blockquote><p>0<br>Country Belgium<br>Capital Brussels<br>Population 11190846<br>Name: 0, dtype: object</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Country<th>Capital<th>Population<tbody><tr><th>0<td>Belgium<td>Brussels<td>11190846<tr><th>1<td>India<td>New Delhi<td>1303171035<tr><th>2<td>Brazil<td>Brasilia<td>207847528</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>data</span><br></pre></table></figure><blockquote><p>{‘Country’: [‘Belgium’, ‘India’, ‘Brazil’],<br> ‘Capital’: [‘Brussels’, ‘New Delhi’, ‘Brasilia’],<br> ‘Population’: [11190846, 1303171035, 207847528]}</blockquote><h3 id=Series-DataFrame><a title="Series => DataFrame" class=headerlink href=#Series-DataFrame></a>Series => DataFrame</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1 = pd.Series(data[<span class=string>'Capital'</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s2 = pd.Series(data[<span class=string>'Country'</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s3 = pd.Series(data[<span class=string>'Population'</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new = pd.DataFrame([s2,s1,s3],index=[<span class=string>'Country'</span>,<span class=string>'Capital'</span>,<span class=string>'Population'</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>0<th>1<th>2<tbody><tr><th>Country<td>Belgium<td>India<td>Brazil<tr><th>Capital<td>Brussels<td>New Delhi<td>Brasilia<tr><th>Population<td>11190846<td>1303171035<td>207847528</table><h3 id=行转列><a class=headerlink href=#行转列 title=行转列></a>行转列</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new2 = df_new.T</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new2</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Country<th>Capital<th>Population<tbody><tr><th>0<td>Belgium<td>Brussels<td>11190846<tr><th>1<td>India<td>New Delhi<td>1303171035<tr><th>2<td>Brazil<td>Brasilia<td>207847528</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Country<th>Capital<th>Population<tbody><tr><th>0<td>Belgium<td>Brussels<td>11190846<tr><th>1<td>India<td>New Delhi<td>1303171035<tr><th>2<td>Brazil<td>Brasilia<td>207847528</table><h3 id=Nan-in-DataFrame><a title="Nan in DataFrame" class=headerlink href=#Nan-in-DataFrame></a>Nan in DataFrame</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>dframe = DataFrame([[<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>],[np.nan,<span class=number>5</span>,<span class=number>6</span>],[<span class=number>7</span>,np.nan,<span class=number>9</span>],[np.nan,np.nan,np.nan]])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>dframe</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>0<th>1<th>2<tbody><tr><th>0<td>1.0<td>2.0<td>3.0<tr><th>1<td>NaN<td>5.0<td>6.0<tr><th>2<td>7.0<td>NaN<td>9.0<tr><th>3<td>NaN<td>NaN<td>NaN</table><h4 id=空值判断-1><a class=headerlink href=#空值判断-1 title=空值判断></a>空值判断</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>dframe.isnull()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>0<th>1<th>2<tbody><tr><th>0<td>False<td>False<td>False<tr><th>1<td>True<td>False<td>False<tr><th>2<td>False<td>True<td>False<tr><th>3<td>True<td>True<td>True</table><h4 id=非空判断><a class=headerlink href=#非空判断 title=非空判断></a>非空判断</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>dframe.notnull()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>0<th>1<th>2<tbody><tr><th>0<td>True<td>True<td>True<tr><th>1<td>False<td>True<td>True<tr><th>2<td>True<td>False<td>True<tr><th>3<td>False<td>False<td>False</table><h4 id=删除存在nan的行><a class=headerlink href=#删除存在nan的行 title=删除存在nan的行></a>删除存在nan的行</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1 = dframe.dropna(axis=<span class=number>0</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>0<th>1<th>2<tbody><tr><th>0<td>1.0<td>2.0<td>3.0</table><h4 id=删除存在nan的列><a class=headerlink href=#删除存在nan的列 title=删除存在nan的列></a>删除存在nan的列</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df2 = dframe.dropna(axis=<span class=number>1</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df2</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><tbody><tr><th>0<tr><th>1<tr><th>2<tr><th>3</table><h4 id=仅删除所有值都为nan的行><a class=headerlink href=#仅删除所有值都为nan的行 title=仅删除所有值都为nan的行></a>仅删除所有值都为nan的行</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df3 = dframe.dropna(axis=<span class=number>0</span>, how=<span class=string>'all'</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df3</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>0<th>1<th>2<tbody><tr><th>0<td>1.0<td>2.0<td>3.0<tr><th>1<td>NaN<td>5.0<td>6.0<tr><th>2<td>7.0<td>NaN<td>9.0</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>dframe2 = DataFrame([[<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>,np.nan],[<span class=number>2</span>,np.nan,<span class=number>5</span>,<span class=number>6</span>],[np.nan,<span class=number>7</span>,np.nan,<span class=number>9</span>],[<span class=number>1</span>,np.nan,np.nan,np.nan]])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>dframe2</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>0<th>1<th>2<th>3<tbody><tr><th>0<td>1.0<td>2.0<td>3.0<td>NaN<tr><th>1<td>2.0<td>NaN<td>5.0<td>6.0<tr><th>2<td>NaN<td>7.0<td>NaN<td>9.0<tr><th>3<td>1.0<td>NaN<td>NaN<td>NaN</table><h4 id=删除大于thresh阈值的行><a class=headerlink href=#删除大于thresh阈值的行 title=删除大于thresh阈值的行></a>删除大于thresh阈值的行</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df4 = dframe2.dropna(thresh=<span class=number>2</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df4</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>0<th>1<th>2<th>3<tbody><tr><th>0<td>1.0<td>2.0<td>3.0<td>NaN<tr><th>1<td>2.0<td>NaN<td>5.0<td>6.0<tr><th>2<td>NaN<td>7.0<td>NaN<td>9.0</table><h4 id=利用fillna对空值进行填充><a class=headerlink href=#利用fillna对空值进行填充 title=利用fillna对空值进行填充></a>利用fillna对空值进行填充</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>dframe2.fillna(value=<span class=number>1</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>0<th>1<th>2<th>3<tbody><tr><th>0<td>1.0<td>2.0<td>3.0<td>1.0<tr><th>1<td>2.0<td>1.0<td>5.0<td>6.0<tr><th>2<td>1.0<td>7.0<td>1.0<td>9.0<tr><th>3<td>1.0<td>1.0<td>1.0<td>1.0</table><h4 id=利用fillna按列级别填充不同数值><a class=headerlink href=#利用fillna按列级别填充不同数值 title=利用fillna按列级别填充不同数值></a>利用fillna按列级别填充不同数值</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>dframe2.fillna(value={<span class=number>0</span>:<span class=number>0</span>,<span class=number>1</span>:<span class=number>1</span>,<span class=number>2</span>:<span class=number>2</span>,<span class=number>3</span>:<span class=number>5</span>})</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>0<th>1<th>2<th>3<tbody><tr><th>0<td>1.0<td>2.0<td>3.0<td>5.0<tr><th>1<td>2.0<td>1.0<td>5.0<td>6.0<tr><th>2<td>0.0<td>7.0<td>2.0<td>9.0<tr><th>3<td>1.0<td>1.0<td>2.0<td>5.0</table><h3 id=DataFrame-I-O操作><a title="DataFrame I/O操作" class=headerlink href=#DataFrame-I-O操作></a>DataFrame I/O操作</h3><h4 id=打开网页><a class=headerlink href=#打开网页 title=打开网页></a>打开网页</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> webbrowser</span><br><span class=line></span><br><span class=line>link = <span class=string>'http://pandas.pydata.org/pandas-docs/version/0.20/io.html'</span></span><br><span class=line>webbrowser.<span class=built_in>open</span>(link)</span><br></pre></table></figure><blockquote><p>True</blockquote><h4 id=读取剪贴板内容><a class=headerlink href=#读取剪贴板内容 title=读取剪贴板内容></a>读取剪贴板内容</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1 = pd.read_clipboard()</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Format Type<th>Data Description<th>Reader<th>Writer<tbody><tr><th>0<td>text<td>CSV<td>read_csv<td>to_csv<tr><th>1<td>text<td>JSON<td>read_json<td>to_json<tr><th>2<td>text<td>HTML<td>read_html<td>to_html<tr><th>3<td>text<td>Local clipboard<td>read_clipboard<td>to_clipboard<tr><th>4<td>binary<td>MS Excel<td>read_excel<td>to_excel<tr><th>5<td>binary<td>HDF5 Format<td>read_hdf<td>to_hdf<tr><th>6<td>binary<td>Feather Format<td>read_feather<td>to_feather<tr><th>7<td>binary<td>Msgpack<td>read_msgpack<td>to_msgpack<tr><th>8<td>binary<td>Stata<td>read_stata<td>to_stata<tr><th>9<td>binary<td>SAS<td>read_sas<td><tr><th>10<td>binary<td>Python Pickle Format<td>read_pickle<td>to_pickle<tr><th>11<td>SQL<td>SQL<td>read_sql<td>to_sql<tr><th>12<td>SQL<td>Google Big Query<td>read_gbq<td>to_gbq</table><h4 id=将内容粘贴到剪贴板><a class=headerlink href=#将内容粘贴到剪贴板 title=将内容粘贴到剪贴板></a>将内容粘贴到剪贴板</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.to_clipboard()</span><br></pre></table></figure><h4 id=写入CSV-不写入索引值><a title="写入CSV (不写入索引值)" class=headerlink href=#写入CSV-不写入索引值></a>写入CSV (不写入索引值)</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.to_csv(<span class=string>'df1.csv'</span>, index=<span class=literal>False</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>!ls</span><br></pre></table></figure><blockquote><p>2-3 Array的创建及访问.ipynb<br>2-4 数组与矩阵运算.ipynb<br>2-5 Array的input和output.ipynb<br>3-1 Pandas Series.ipynb<br>3-2 Pandas DataFrame.ipynb<br>3-3 深入理解Series和Dataframe.ipynb<br>3-4 Pandas-Dataframe-IO操作.ipynb<br>df1.csv<br>one_array.npy<br>two_array.npz<br>x.pkl</blockquote><h4 id=预览CSV文件内容><a class=headerlink href=#预览CSV文件内容 title=预览CSV文件内容></a>预览CSV文件内容</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>!more df1.csv</span><br></pre></table></figure><blockquote><p>Format Type,Data Description,Reader,Writer<br>text,CSV,read_csv,to_csv<br>text,JSON,read_json,to_json<br>text,HTML,read_html,to_html<br>text,Local clipboard,read_clipboard,to_clipboard<br>binary,MS Excel,read_excel,to_excel<br>binary,HDF5 Format,read_hdf,to_hdf<br>binary,Feather Format,read_feather,to_feather<br>binary,Msgpack,read_msgpack,to_msgpack<br>binary,Stata,read_stata,to_stata<br>binary,SAS,read_sas,<br>binary,Python Pickle Format,read_pickle,to_pickle<br>SQL,SQL,read_sql,to_sql<br>SQL,Google Big Query,read_gbq,to_gbq<br>[7mdf1.csv (END)[m[K</blockquote><h3 id=Selecting-Indexing><a title="Selecting & Indexing" class=headerlink href=#Selecting-Indexing></a>Selecting & Indexing</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>imdb = pd.read_csv(<span class=string>'/Users/kwang/jupyter-projects/movie_metadata.csv'</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>imdb.shape</span><br></pre></table></figure><blockquote><p>(5043, 28)</blockquote><h4 id=查看DataFrame前5行内容><a class=headerlink href=#查看DataFrame前5行内容 title=查看DataFrame前5行内容></a>查看DataFrame前5行内容</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>imdb.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>color<th>director_name<th>num_critic_for_reviews<th>duration<th>director_facebook_likes<th>actor_3_facebook_likes<th>actor_2_name<th>actor_1_facebook_likes<th>gross<th>genres<th>...<th>num_user_for_reviews<th>language<th>country<th>content_rating<th>budget<th>title_year<th>actor_2_facebook_likes<th>imdb_score<th>aspect_ratio<th>movie_facebook_likes<tbody><tr><th>0<td>Color<td>James Cameron<td>723.0<td>178.0<td>0.0<td>855.0<td>Joel David Moore<td>1000.0<td>760505847.0<td>Action|Adventure|Fantasy|Sci-Fi<td>...<td>3054.0<td>English<td>USA<td>PG-13<td>237000000.0<td>2009.0<td>936.0<td>7.9<td>1.78<td>33000<tr><th>1<td>Color<td>Gore Verbinski<td>302.0<td>169.0<td>563.0<td>1000.0<td>Orlando Bloom<td>40000.0<td>309404152.0<td>Action|Adventure|Fantasy<td>...<td>1238.0<td>English<td>USA<td>PG-13<td>300000000.0<td>2007.0<td>5000.0<td>7.1<td>2.35<td>0<tr><th>2<td>Color<td>Sam Mendes<td>602.0<td>148.0<td>0.0<td>161.0<td>Rory Kinnear<td>11000.0<td>200074175.0<td>Action|Adventure|Thriller<td>...<td>994.0<td>English<td>UK<td>PG-13<td>245000000.0<td>2015.0<td>393.0<td>6.8<td>2.35<td>85000<tr><th>3<td>Color<td>Christopher Nolan<td>813.0<td>164.0<td>22000.0<td>23000.0<td>Christian Bale<td>27000.0<td>448130642.0<td>Action|Thriller<td>...<td>2701.0<td>English<td>USA<td>PG-13<td>250000000.0<td>2012.0<td>23000.0<td>8.5<td>2.35<td>164000<tr><th>4<td>NaN<td>Doug Walker<td>NaN<td>NaN<td>131.0<td>NaN<td>Rob Walker<td>131.0<td>NaN<td>Documentary<td>...<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>12.0<td>7.1<td>NaN<td>0</table><p>5 rows × 28 columns<h4 id=查看DataFrame后5行内容><a class=headerlink href=#查看DataFrame后5行内容 title=查看DataFrame后5行内容></a>查看DataFrame后5行内容</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>imdb.tail()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>color<th>director_name<th>num_critic_for_reviews<th>duration<th>director_facebook_likes<th>actor_3_facebook_likes<th>actor_2_name<th>actor_1_facebook_likes<th>gross<th>genres<th>...<th>num_user_for_reviews<th>language<th>country<th>content_rating<th>budget<th>title_year<th>actor_2_facebook_likes<th>imdb_score<th>aspect_ratio<th>movie_facebook_likes<tbody><tr><th>5038<td>Color<td>Scott Smith<td>1.0<td>87.0<td>2.0<td>318.0<td>Daphne Zuniga<td>637.0<td>NaN<td>Comedy|Drama<td>...<td>6.0<td>English<td>Canada<td>NaN<td>NaN<td>2013.0<td>470.0<td>7.7<td>NaN<td>84<tr><th>5039<td>Color<td>NaN<td>43.0<td>43.0<td>NaN<td>319.0<td>Valorie Curry<td>841.0<td>NaN<td>Crime|Drama|Mystery|Thriller<td>...<td>359.0<td>English<td>USA<td>TV-14<td>NaN<td>NaN<td>593.0<td>7.5<td>16.00<td>32000<tr><th>5040<td>Color<td>Benjamin Roberds<td>13.0<td>76.0<td>0.0<td>0.0<td>Maxwell Moody<td>0.0<td>NaN<td>Drama|Horror|Thriller<td>...<td>3.0<td>English<td>USA<td>NaN<td>1400.0<td>2013.0<td>0.0<td>6.3<td>NaN<td>16<tr><th>5041<td>Color<td>Daniel Hsia<td>14.0<td>100.0<td>0.0<td>489.0<td>Daniel Henney<td>946.0<td>10443.0<td>Comedy|Drama|Romance<td>...<td>9.0<td>English<td>USA<td>PG-13<td>NaN<td>2012.0<td>719.0<td>6.3<td>2.35<td>660<tr><th>5042<td>Color<td>Jon Gunn<td>43.0<td>90.0<td>16.0<td>16.0<td>Brian Herzlinger<td>86.0<td>85222.0<td>Documentary<td>...<td>84.0<td>English<td>USA<td>PG<td>1100.0<td>2004.0<td>23.0<td>6.6<td>1.85<td>456</table><p>5 rows × 28 columns<h4 id=根据指定列生成新的DataFrame><a class=headerlink href=#根据指定列生成新的DataFrame title=根据指定列生成新的DataFrame></a>根据指定列生成新的DataFrame</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sub_df = imdb[[<span class=string>'director_name'</span>, <span class=string>'movie_title'</span>, <span class=string>'imdb_score'</span>]]</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sub_df.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>director_name<th>movie_title<th>imdb_score<tbody><tr><th>0<td>James Cameron<td>Avatar<td>7.9<tr><th>1<td>Gore Verbinski<td>Pirates of the Caribbean: At World's End<td>7.1<tr><th>2<td>Sam Mendes<td>Spectre<td>6.8<tr><th>3<td>Christopher Nolan<td>The Dark Knight Rises<td>8.5<tr><th>4<td>Doug Walker<td>Star Wars: Episode VII - The Force Awakens ...<td>7.1</table><h4 id=根据index定位内容（iloc）><a class=headerlink href=#根据index定位内容（iloc） title=根据index定位内容（iloc）></a>根据index定位内容（iloc）</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>temp_df = sub_df.iloc[<span class=number>10</span>:<span class=number>20</span>,<span class=number>0</span>:<span class=number>2</span>]</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>temp_df</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>director_name<th>movie_title<tbody><tr><th>10<td>Zack Snyder<td>Batman v Superman: Dawn of Justice<tr><th>11<td>Bryan Singer<td>Superman Returns<tr><th>12<td>Marc Forster<td>Quantum of Solace<tr><th>13<td>Gore Verbinski<td>Pirates of the Caribbean: Dead Man's Chest<tr><th>14<td>Gore Verbinski<td>The Lone Ranger<tr><th>15<td>Zack Snyder<td>Man of Steel<tr><th>16<td>Andrew Adamson<td>The Chronicles of Narnia: Prince Caspian<tr><th>17<td>Joss Whedon<td>The Avengers<tr><th>18<td>Rob Marshall<td>Pirates of the Caribbean: On Stranger Tides<tr><th>19<td>Barry Sonnenfeld<td>Men in Black 3</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>temp_df.iloc[<span class=number>2</span>:<span class=number>4</span>,:]</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>director_name<th>movie_title<tbody><tr><th>12<td>Marc Forster<td>Quantum of Solace<tr><th>13<td>Gore Verbinski<td>Pirates of the Caribbean: Dead Man's Chest</table><h4 id=根据label定位内容（loc）><a class=headerlink href=#根据label定位内容（loc） title=根据label定位内容（loc）></a>根据label定位内容（loc）</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>temp_df.loc[<span class=number>15</span>:<span class=number>17</span>,:<span class=string>'director_name'</span>]</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>director_name<tbody><tr><th>15<td>Zack Snyder<tr><th>16<td>Andrew Adamson<tr><th>17<td>Joss Whedon</table><h3 id=Reindex-on-DataFrame><a title="Reindex on DataFrame" class=headerlink href=#Reindex-on-DataFrame></a>Reindex on DataFrame</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1 = DataFrame(np.random.rand(<span class=number>25</span>).reshape([<span class=number>5</span>,<span class=number>5</span>]), index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'D'</span>,<span class=string>'E'</span>,<span class=string>'F'</span>], columns=[<span class=string>'c1'</span>,<span class=string>'c2'</span>,<span class=string>'c3'</span>,<span class=string>'c4'</span>,<span class=string>'c5'</span>])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>c1<th>c2<th>c3<th>c4<th>c5<tbody><tr><th>A<td>0.659369<td>0.096724<td>0.880128<td>0.403168<td>0.282619<tr><th>B<td>0.003070<td>0.661747<td>0.121026<td>0.262881<td>0.557213<tr><th>D<td>0.972693<td>0.962149<td>0.411036<td>0.849216<td>0.704441<tr><th>E<td>0.969716<td>0.425415<td>0.943507<td>0.589344<td>0.670303<tr><th>F<td>0.315732<td>0.371235<td>0.943880<td>0.649541<td>0.495330</table><h4 id=插入新的行-index><a class=headerlink href=#插入新的行-index title=插入新的行(index)></a>插入新的行(index)</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.reindex(index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>,<span class=string>'E'</span>,<span class=string>'F'</span>])</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>c1<th>c2<th>c3<th>c4<th>c5<tbody><tr><th>A<td>0.659369<td>0.096724<td>0.880128<td>0.403168<td>0.282619<tr><th>B<td>0.003070<td>0.661747<td>0.121026<td>0.262881<td>0.557213<tr><th>C<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<tr><th>D<td>0.972693<td>0.962149<td>0.411036<td>0.849216<td>0.704441<tr><th>E<td>0.969716<td>0.425415<td>0.943507<td>0.589344<td>0.670303<tr><th>F<td>0.315732<td>0.371235<td>0.943880<td>0.649541<td>0.495330</table><h4 id=插入新的列-columns><a title="插入新的列 (columns)" class=headerlink href=#插入新的列-columns></a>插入新的列 (columns)</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.reindex(columns=[<span class=string>'c1'</span>,<span class=string>'c2'</span>,<span class=string>'c3'</span>,<span class=string>'c4'</span>,<span class=string>'c5'</span>,<span class=string>'c6'</span>])</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>c1<th>c2<th>c3<th>c4<th>c5<th>c6<tbody><tr><th>A<td>0.659369<td>0.096724<td>0.880128<td>0.403168<td>0.282619<td>NaN<tr><th>B<td>0.003070<td>0.661747<td>0.121026<td>0.262881<td>0.557213<td>NaN<tr><th>D<td>0.972693<td>0.962149<td>0.411036<td>0.849216<td>0.704441<td>NaN<tr><th>E<td>0.969716<td>0.425415<td>0.943507<td>0.589344<td>0.670303<td>NaN<tr><th>F<td>0.315732<td>0.371235<td>0.943880<td>0.649541<td>0.495330<td>NaN</table><h4 id=同时新增index和columns><a class=headerlink href=#同时新增index和columns title=同时新增index和columns></a>同时新增index和columns</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.reindex(index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>,<span class=string>'E'</span>,<span class=string>'F'</span>], columns=[<span class=string>'c1'</span>,<span class=string>'c2'</span>,<span class=string>'c3'</span>,<span class=string>'c4'</span>,<span class=string>'c5'</span>,<span class=string>'c6'</span>])</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>c1<th>c2<th>c3<th>c4<th>c5<th>c6<tbody><tr><th>A<td>0.659369<td>0.096724<td>0.880128<td>0.403168<td>0.282619<td>NaN<tr><th>B<td>0.003070<td>0.661747<td>0.121026<td>0.262881<td>0.557213<td>NaN<tr><th>C<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<tr><th>D<td>0.972693<td>0.962149<td>0.411036<td>0.849216<td>0.704441<td>NaN<tr><th>E<td>0.969716<td>0.425415<td>0.943507<td>0.589344<td>0.670303<td>NaN<tr><th>F<td>0.315732<td>0.371235<td>0.943880<td>0.649541<td>0.495330<td>NaN</table><h4 id=对DataFrame切片><a class=headerlink href=#对DataFrame切片 title=对DataFrame切片></a>对DataFrame切片</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.reindex(index=[<span class=string>'A'</span>,<span class=string>'B'</span>])</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>c1<th>c2<th>c3<th>c4<th>c5<tbody><tr><th>A<td>0.659369<td>0.096724<td>0.880128<td>0.403168<td>0.282619<tr><th>B<td>0.003070<td>0.661747<td>0.121026<td>0.262881<td>0.557213</table><h4 id=对DataFrame进行drop-index><a title="对DataFrame进行drop index" class=headerlink href=#对DataFrame进行drop-index></a>对DataFrame进行drop index</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.drop(<span class=string>'A'</span>,axis=<span class=number>0</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>c1<th>c2<th>c3<th>c4<th>c5<tbody><tr><th>B<td>0.003070<td>0.661747<td>0.121026<td>0.262881<td>0.557213<tr><th>D<td>0.972693<td>0.962149<td>0.411036<td>0.849216<td>0.704441<tr><th>E<td>0.969716<td>0.425415<td>0.943507<td>0.589344<td>0.670303<tr><th>F<td>0.315732<td>0.371235<td>0.943880<td>0.649541<td>0.495330</table><h4 id=对DataFrame进行drop-columns><a title="对DataFrame进行drop columns" class=headerlink href=#对DataFrame进行drop-columns></a>对DataFrame进行drop columns</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.drop(<span class=string>'c2'</span>,axis=<span class=number>1</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>c1<th>c3<th>c4<th>c5<tbody><tr><th>A<td>0.659369<td>0.880128<td>0.403168<td>0.282619<tr><th>B<td>0.003070<td>0.121026<td>0.262881<td>0.557213<tr><th>D<td>0.972693<td>0.411036<td>0.849216<td>0.704441<tr><th>E<td>0.969716<td>0.943507<td>0.589344<td>0.670303<tr><th>F<td>0.315732<td>0.943880<td>0.649541<td>0.495330</table><h3 id=多级index><a class=headerlink href=#多级index title=多级index></a>多级index</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line> </span><br><span class=line>s1 = Series(np.random.randn(<span class=number>6</span>),index=[[<span class=number>1</span>,<span class=number>1</span>,<span class=number>1</span>,<span class=number>2</span>,<span class=number>2</span>,<span class=number>2</span>],[<span class=string>'a'</span>,<span class=string>'b'</span>,<span class=string>'c'</span>,<span class=string>'a'</span>,<span class=string>'b'</span>,<span class=string>'c'</span>]])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1</span><br></pre></table></figure><blockquote><p>1 a -0.828759<br> b 1.100893<br> c 0.705300<br>2 a 0.801019<br> b 0.676878<br> c -0.585011<br>dtype: float64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1[<span class=number>1</span>][<span class=string>'a'</span>]</span><br></pre></table></figure><blockquote><p>-0.8287592467933553</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1[:,<span class=string>'a'</span>]</span><br></pre></table></figure><blockquote><p>1 -0.828759<br>2 0.801019<br>dtype: float64</blockquote><h4 id=多级index-Series-DataFrame><a title="多级index Series => DataFrame" class=headerlink href=#多级index-Series-DataFrame></a>多级index Series => DataFrame</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df1 = s1.unstack()</span><br><span class=line></span><br><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>a<th>b<th>c<tbody><tr><th>1<td>-0.828759<td>1.100893<td>0.705300<tr><th>2<td>0.801019<td>0.676878<td>-0.585011</table><h4 id=DataFrame-多级index-Series><a title="DataFrame => 多级index Series" class=headerlink href=#DataFrame-多级index-Series></a>DataFrame => 多级index Series</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.unstack()</span><br></pre></table></figure><blockquote><p>a 1 -0.828759<br> 2 0.801019<br>b 1 1.100893<br> 2 0.676878<br>c 1 0.705300<br> 2 -0.585011<br>dtype: float64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.T</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>1<th>2<tbody><tr><th>a<td>-0.828759<td>0.801019<tr><th>b<td>1.100893<td>0.676878<tr><th>c<td>0.705300<td>-0.585011</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.T.unstack()</span><br></pre></table></figure><blockquote><p>1 a -0.828759<br> b 1.100893<br> c 0.705300<br>2 a 0.801019<br> b 0.676878<br> c -0.585011<br>dtype: float64</blockquote><h4 id=初始化DataFrame-多级index-columns><a title="初始化DataFrame (多级index & columns)" class=headerlink href=#初始化DataFrame-多级index-columns></a>初始化DataFrame (多级index & columns)</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df = DataFrame(np.arange(<span class=number>16</span>).reshape(<span class=number>4</span>,<span class=number>4</span>), index=[[<span class=string>'a'</span>,<span class=string>'a'</span>,<span class=string>'b'</span>,<span class=string>'b'</span>],[<span class=number>1</span>,<span class=number>2</span>,<span class=number>1</span>,<span class=number>2</span>]], columns=[[<span class=string>'BJ'</span>,<span class=string>'BJ'</span>,<span class=string>'SH'</span>,<span class=string>'GZ'</span>],[<span class=number>8</span>,<span class=number>9</span>,<span class=number>8</span>,<span class=number>8</span>]])</span><br><span class=line></span><br><span class=line>df</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr><th><th><th colspan=2 halign=left>BJ<th>SH<th>GZ<tr><th><th><th>8<th>9<th>8<th>8<tbody><tr><th rowspan=2 valign=top>a<th>1<td>0<td>1<td>2<td>3<tr><th>2<td>4<td>5<td>6<td>7<tr><th rowspan=2 valign=top>b<th>1<td>8<td>9<td>10<td>11<tr><th>2<td>12<td>13<td>14<td>15</table><h4 id=访问多级DataFrame元素><a class=headerlink href=#访问多级DataFrame元素 title=访问多级DataFrame元素></a>访问多级DataFrame元素</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df[<span class=string>'BJ'</span>]</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th><th>8<th>9<tbody><tr><th rowspan=2 valign=top>a<th>1<td>0<td>1<tr><th>2<td>4<td>5<tr><th rowspan=2 valign=top>b<th>1<td>8<td>9<tr><th>2<td>12<td>13</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df[<span class=string>'BJ'</span>][<span class=number>8</span>]</span><br></pre></table></figure><blockquote><p>a 1 0<br> 2 4<br>b 1 8<br> 2 12<br>Name: 8, dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.columns</span><br></pre></table></figure><blockquote><p>MultiIndex(levels=[[‘BJ’, ‘GZ’, ‘SH’], [8, 9]],<br> codes=[[0, 0, 2, 1], [0, 1, 0, 0]])</blockquote><h4 id=创建多级索引><a class=headerlink href=#创建多级索引 title=创建多级索引></a>创建多级索引</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>data = Series(np.random.randn(<span class=number>10</span>),index=[[<span class=string>'x'</span>,<span class=string>'x'</span>,<span class=string>'x'</span>,<span class=string>'x'</span>,<span class=string>'x'</span>,<span class=string>'x'</span>,<span class=string>'y'</span>,<span class=string>'y'</span>,<span class=string>'y'</span>,<span class=string>'y'</span>],</span><br><span class=line>                                         [<span class=string>'a'</span>,<span class=string>'a'</span>,<span class=string>'a'</span>,<span class=string>'b'</span>,<span class=string>'b'</span>,<span class=string>'b'</span>,<span class=string>'c'</span>,<span class=string>'c'</span>,<span class=string>'d'</span>,<span class=string>'d'</span>],</span><br><span class=line>                                         [<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>,<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>,<span class=number>1</span>,<span class=number>2</span>,<span class=number>2</span>,<span class=number>3</span>]])</span><br><span class=line>data</span><br></pre></table></figure><blockquote><p>x a 1 0.673769<br> 2 -1.781723<br> 3 -2.232971<br> b 1 -0.832687<br> 2 -0.141850<br> 3 0.704339<br>y c 1 1.186975<br> 2 -1.106244<br> d 2 -0.166537<br> 3 0.695451<br>dtype: float64</blockquote><h4 id=检索多级索引><a class=headerlink href=#检索多级索引 title=检索多级索引></a>检索多级索引</h4><h5 id=选取外层索引><a class=headerlink href=#选取外层索引 title=选取外层索引></a>选取外层索引</h5><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>data[<span class=string>'x'</span>]</span><br></pre></table></figure><blockquote><p>a 1 0.673769<br> 2 -1.781723<br> 3 -2.232971<br>b 1 -0.832687<br> 2 -0.141850<br> 3 0.704339<br>dtype: float64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>data[<span class=string>'x'</span>:<span class=string>'y'</span>]</span><br></pre></table></figure><blockquote><p>x a 1 0.673769<br> 2 -1.781723<br> 3 -2.232971<br> b 1 -0.832687<br> 2 -0.141850<br> 3 0.704339<br>y c 1 1.186975<br> 2 -1.106244<br> d 2 -0.166537<br> 3 0.695451<br>dtype: float64</blockquote><h5 id=选取内层索引><a class=headerlink href=#选取内层索引 title=选取内层索引></a>选取内层索引</h5><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>data[<span class=string>'x'</span>,<span class=string>'a'</span>,<span class=number>1</span>]</span><br></pre></table></figure><blockquote><p>0.6737686360875892</blockquote><h4 id=解除多级索引><a class=headerlink href=#解除多级索引 title=解除多级索引></a>解除多级索引</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>data</span><br></pre></table></figure><blockquote><p>x a 1 0.673769<br> 2 -1.781723<br> 3 -2.232971<br> b 1 -0.832687<br> 2 -0.141850<br> 3 0.704339<br>y c 1 1.186975<br> 2 -1.106244<br> d 2 -0.166537<br> 3 0.695451<br>dtype: float64</blockquote><h5 id=默认解除最内层索引，即level-1><a title="默认解除最内层索引，即level=-1" class=headerlink href=#默认解除最内层索引，即level-1></a>默认解除最内层索引，即level=-1</h5><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>data.unstack()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th><th>1<th>2<th>3<tbody><tr><th rowspan=2 valign=top>x<th>a<td>0.673769<td>-1.781723<td>-2.232971<tr><th>b<td>-0.832687<td>-0.141850<td>0.704339<tr><th rowspan=2 valign=top>y<th>c<td>1.186975<td>-1.106244<td>NaN<tr><th>d<td>NaN<td>-0.166537<td>0.695451</table><h5 id=解除其他层索引><a class=headerlink href=#解除其他层索引 title=解除其他层索引></a>解除其他层索引</h5><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>data.unstack(level=-<span class=number>2</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th><th>a<th>b<th>c<th>d<tbody><tr><th rowspan=3 valign=top>x<th>1<td>0.673769<td>-0.832687<td>NaN<td>NaN<tr><th>2<td>-1.781723<td>-0.141850<td>NaN<td>NaN<tr><th>3<td>-2.232971<td>0.704339<td>NaN<td>NaN<tr><th rowspan=3 valign=top>y<th>1<td>NaN<td>NaN<td>1.186975<td>NaN<tr><th>2<td>NaN<td>NaN<td>-1.106244<td>-0.166537<tr><th>3<td>NaN<td>NaN<td>NaN<td>0.695451</table><h4 id=转化为多级索引><a class=headerlink href=#转化为多级索引 title=转化为多级索引></a>转化为多级索引</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>data</span><br></pre></table></figure><blockquote><p>x a 1 0.673769<br> 2 -1.781723<br> 3 -2.232971<br> b 1 -0.832687<br> 2 -0.141850<br> 3 0.704339<br>y c 1 1.186975<br> 2 -1.106244<br> d 2 -0.166537<br> 3 0.695451<br>dtype: float64</blockquote><h5 id=将中间层索引转换为内层索引><a class=headerlink href=#将中间层索引转换为内层索引 title=将中间层索引转换为内层索引></a>将中间层索引转换为内层索引</h5><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>data.unstack(level=-<span class=number>2</span>).stack()</span><br></pre></table></figure><blockquote><p>x 1 a 0.673769<br> b -0.832687<br> 2 a -1.781723<br> b -0.141850<br> 3 a -2.232971<br> b 0.704339<br>y 1 c 1.186975<br> 2 c -1.106244<br> d -0.166537<br> 3 d 0.695451<br>dtype: float64</blockquote><h4 id=为不同层索引指定名称-name><a class=headerlink href=#为不同层索引指定名称-name title=为不同层索引指定名称(name)></a>为不同层索引指定名称(name)</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>data</span><br></pre></table></figure><blockquote><p>x a 1 0.673769<br> 2 -1.781723<br> 3 -2.232971<br> b 1 -0.832687<br> 2 -0.141850<br> 3 0.704339<br>y c 1 1.186975<br> 2 -1.106244<br> d 2 -0.166537<br> 3 0.695451<br>dtype: float64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df = data.unstack()</span><br><span class=line></span><br><span class=line>df</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th><th>1<th>2<th>3<tbody><tr><th rowspan=2 valign=top>x<th>a<td>0.673769<td>-1.781723<td>-2.232971<tr><th>b<td>-0.832687<td>-0.141850<td>0.704339<tr><th rowspan=2 valign=top>y<th>c<td>1.186975<td>-1.106244<td>NaN<tr><th>d<td>NaN<td>-0.166537<td>0.695451</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>df.index.names = [<span class=string>'outer'</span>,<span class=string>'inner'</span>] <span class=comment># 指定两层索引的名称</span></span><br><span class=line>df.columns.name = <span class=string>'hello'</span></span><br><span class=line></span><br><span class=line>df</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>hello<th>1<th>2<th>3<tr><th>outer<th>inner<th><th><th><tbody><tr><th rowspan=2 valign=top>x<th>a<td>0.673769<td>-1.781723<td>-2.232971<tr><th>b<td>-0.832687<td>-0.141850<td>0.704339<tr><th rowspan=2 valign=top>y<th>c<td>1.186975<td>-1.106244<td>NaN<tr><th>d<td>NaN<td>-0.166537<td>0.695451</table><h3 id=Mapping><a class=headerlink href=#Mapping title=Mapping></a>Mapping</h3><h4 id=通过Series为DataFrame新增列><a class=headerlink href=#通过Series为DataFrame新增列 title=通过Series为DataFrame新增列></a>通过Series为DataFrame新增列</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>df1 = DataFrame({<span class=string>"城市"</span>:[<span class=string>"北京"</span>,<span class=string>"上海"</span>,<span class=string>"广州"</span>],<span class=string>"人口"</span>:[<span class=number>1000</span>,<span class=number>2000</span>,<span class=number>1500</span>]})</span><br><span class=line></span><br><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>城市<th>人口<tbody><tr><th>0<td>北京<td>1000<tr><th>1<td>上海<td>2000<tr><th>2<td>广州<td>1500</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df1[<span class=string>"GDP"</span>] = Series([<span class=number>1200</span>,<span class=number>1800</span>,<span class=number>1600</span>])</span><br><span class=line></span><br><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>城市<th>人口<th>GDP<tbody><tr><th>0<td>北京<td>1000<td>1200<tr><th>1<td>上海<td>2000<td>1800<tr><th>2<td>广州<td>1500<td>1600</table><h4 id=通过Map为DataFrame新增列><a class=headerlink href=#通过Map为DataFrame新增列 title=通过Map为DataFrame新增列></a>通过Map为DataFrame新增列</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df2 = DataFrame({<span class=string>"城市"</span>:[<span class=string>"北京"</span>,<span class=string>"上海"</span>,<span class=string>"广州"</span>],<span class=string>"人口"</span>:[<span class=number>1000</span>,<span class=number>2000</span>,<span class=number>1500</span>]})</span><br><span class=line></span><br><span class=line>df2</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>城市<th>人口<tbody><tr><th>0<td>北京<td>1000<tr><th>1<td>上海<td>2000<tr><th>2<td>广州<td>1500</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>gdp_map = {<span class=string>"北京"</span>: <span class=number>1200</span>, <span class=string>"广州"</span>: <span class=number>1400</span>, <span class=string>"上海"</span>: <span class=number>1800</span>}</span><br><span class=line></span><br><span class=line>df2[<span class=string>'GDP'</span>] = df2[<span class=string>'城市'</span>].<span class=built_in>map</span>(gdp_map)</span><br><span class=line></span><br><span class=line>df2</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>城市<th>人口<th>GDP<tbody><tr><th>0<td>北京<td>1000<td>1200<tr><th>1<td>上海<td>2000<td>1800<tr><th>2<td>广州<td>1500<td>1400</table><h3 id=Replace><a class=headerlink href=#Replace title=Replace></a>Replace</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>s1 = Series(np.arange(<span class=number>10</span>))</span><br><span class=line></span><br><span class=line>s1</span><br></pre></table></figure><blockquote><p>0 0<br>1 1<br>2 2<br>3 3<br>4 4<br>5 5<br>6 6<br>7 7<br>8 8<br>9 9<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.replace(<span class=number>1</span>, np.nan)</span><br></pre></table></figure><blockquote><p>0 0.0<br>1 NaN<br>2 2.0<br>3 3.0<br>4 4.0<br>5 5.0<br>6 6.0<br>7 7.0<br>8 8.0<br>9 9.0<br>dtype: float64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.replace([<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>],[<span class=number>10</span>,<span class=number>20</span>,<span class=number>30</span>])</span><br></pre></table></figure><blockquote><p>0 0<br>1 10<br>2 20<br>3 30<br>4 4<br>5 5<br>6 6<br>7 7<br>8 8<br>9 9<br>dtype: int64</blockquote><h3 id=DataFrame的简单数学计算><a class=headerlink href=#DataFrame的简单数学计算 title=DataFrame的简单数学计算></a>DataFrame的简单数学计算</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>df1 = DataFrame(np.arange(<span class=number>4</span>).reshape(<span class=number>2</span>,<span class=number>2</span>), index=[<span class=string>'A'</span>,<span class=string>'B'</span>], columns=[<span class=string>'BJ'</span>,<span class=string>'SH'</span>])</span><br><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>BJ<th>SH<tbody><tr><th>A<td>0<td>1<tr><th>B<td>2<td>3</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df2 = DataFrame(np.arange(<span class=number>9</span>).reshape(<span class=number>3</span>,<span class=number>3</span>), index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>], columns=[<span class=string>'BJ'</span>,<span class=string>'SH'</span>,<span class=string>'GZ'</span>])</span><br><span class=line></span><br><span class=line>df2</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>BJ<th>SH<th>GZ<tbody><tr><th>A<td>0<td>1<td>2<tr><th>B<td>3<td>4<td>5<tr><th>C<td>6<td>7<td>8</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1 + df2</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>BJ<th>GZ<th>SH<tbody><tr><th>A<td>0.0<td>NaN<td>2.0<tr><th>B<td>5.0<td>NaN<td>7.0<tr><th>C<td>NaN<td>NaN<td>NaN</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>df3 = DataFrame([[<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>],[<span class=number>4</span>,<span class=number>5</span>,np.nan],[<span class=number>7</span>,<span class=number>8</span>,<span class=number>9</span>]], index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>], columns=[<span class=string>'c1'</span>,<span class=string>'c2'</span>,<span class=string>'c3'</span>])</span><br><span class=line>df3</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>c1<th>c2<th>c3<tbody><tr><th>A<td>1<td>2<td>3.0<tr><th>B<td>4<td>5<td>NaN<tr><th>C<td>7<td>8<td>9.0</table><h4 id=对列进行求和><a class=headerlink href=#对列进行求和 title=对列进行求和></a>对列进行求和</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df3.<span class=built_in>sum</span>()</span><br></pre></table></figure><blockquote><p>c1 12.0<br>c2 15.0<br>c3 12.0<br>dtype: float64</blockquote><h4 id=对行进行求和><a class=headerlink href=#对行进行求和 title=对行进行求和></a>对行进行求和</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df3.<span class=built_in>sum</span>(axis=<span class=number>1</span>)</span><br></pre></table></figure><blockquote><p>A 6.0<br>B 9.0<br>C 24.0<br>dtype: float64</blockquote><h4 id=求最小值><a class=headerlink href=#求最小值 title=求最小值></a>求最小值</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df3.<span class=built_in>min</span>()</span><br></pre></table></figure><blockquote><p>c1 1.0<br>c2 2.0<br>c3 3.0<br>dtype: float64</blockquote><h4 id=求最大值><a class=headerlink href=#求最大值 title=求最大值></a>求最大值</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df3.<span class=built_in>max</span>()</span><br></pre></table></figure><blockquote><p>c1 7.0<br>c2 8.0<br>c3 9.0<br>dtype: float64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df3</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>c1<th>c2<th>c3<tbody><tr><th>A<td>1<td>2<td>3.0<tr><th>B<td>4<td>5<td>NaN<tr><th>C<td>7<td>8<td>9.0</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df3.describe()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>c1<th>c2<th>c3<tbody><tr><th>count<td>3.0<td>3.0<td>2.000000<tr><th>mean<td>4.0<td>5.0<td>6.000000<tr><th>std<td>3.0<td>3.0<td>4.242641<tr><th>min<td>1.0<td>2.0<td>3.000000<tr><th>25%<td>2.5<td>3.5<td>4.500000<tr><th>50%<td>4.0<td>5.0<td>6.000000<tr><th>75%<td>5.5<td>6.5<td>7.500000<tr><th>max<td>7.0<td>8.0<td>9.000000</table><h3 id=DataFrame排序><a class=headerlink href=#DataFrame排序 title=DataFrame排序></a>DataFrame排序</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>df1 = DataFrame(np.random.randn(<span class=number>40</span>).reshape(<span class=number>8</span>,<span class=number>5</span>), columns=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>,<span class=string>'E'</span>])</span><br><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>B<th>C<th>D<th>E<tbody><tr><th>0<td>0.428384<td>-0.242118<td>-0.311413<td>-2.032690<td>-1.519783<tr><th>1<td>-1.763709<td>-0.299535<td>-1.712632<td>-0.662375<td>-0.434309<tr><th>2<td>-1.799746<td>0.937149<td>-0.387339<td>0.222759<td>-0.040818<tr><th>3<td>0.239674<td>1.813621<td>-0.010476<td>-0.013300<td>1.411217<tr><th>4<td>-0.980156<td>0.889708<td>1.322267<td>1.848655<td>-0.210548<tr><th>5<td>1.655132<td>-0.561405<td>1.369573<td>-0.485437<td>1.772758<tr><th>6<td>-0.032585<td>-2.038827<td>1.560083<td>0.638874<td>0.626102<tr><th>7<td>-0.153819<td>-1.386077<td>0.779540<td>-1.441996<td>1.106010</table><h4 id=按column排序><a class=headerlink href=#按column排序 title=按column排序></a>按column排序</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>df2 = df1.sort_values(<span class=string>'A'</span>, ascending=<span class=literal>False</span>)</span><br><span class=line>df2</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>B<th>C<th>D<th>E<tbody><tr><th>5<td>1.655132<td>-0.561405<td>1.369573<td>-0.485437<td>1.772758<tr><th>0<td>0.428384<td>-0.242118<td>-0.311413<td>-2.032690<td>-1.519783<tr><th>3<td>0.239674<td>1.813621<td>-0.010476<td>-0.013300<td>1.411217<tr><th>6<td>-0.032585<td>-2.038827<td>1.560083<td>0.638874<td>0.626102<tr><th>7<td>-0.153819<td>-1.386077<td>0.779540<td>-1.441996<td>1.106010<tr><th>4<td>-0.980156<td>0.889708<td>1.322267<td>1.848655<td>-0.210548<tr><th>1<td>-1.763709<td>-0.299535<td>-1.712632<td>-0.662375<td>-0.434309<tr><th>2<td>-1.799746<td>0.937149<td>-0.387339<td>0.222759<td>-0.040818</table><h4 id=按index排序-1><a class=headerlink href=#按index排序-1 title=按index排序></a>按index排序</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df2.sort_index()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>B<th>C<th>D<th>E<tbody><tr><th>0<td>0.428384<td>-0.242118<td>-0.311413<td>-2.032690<td>-1.519783<tr><th>1<td>-1.763709<td>-0.299535<td>-1.712632<td>-0.662375<td>-0.434309<tr><th>2<td>-1.799746<td>0.937149<td>-0.387339<td>0.222759<td>-0.040818<tr><th>3<td>0.239674<td>1.813621<td>-0.010476<td>-0.013300<td>1.411217<tr><th>4<td>-0.980156<td>0.889708<td>1.322267<td>1.848655<td>-0.210548<tr><th>5<td>1.655132<td>-0.561405<td>1.369573<td>-0.485437<td>1.772758<tr><th>6<td>-0.032585<td>-2.038827<td>1.560083<td>0.638874<td>0.626102<tr><th>7<td>-0.153819<td>-1.386077<td>0.779540<td>-1.441996<td>1.106010</table><h3 id=Rename-index><a title="Rename index" class=headerlink href=#Rename-index></a>Rename index</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line> </span><br><span class=line>df1 = DataFrame(np.arange(<span class=number>9</span>).reshape(<span class=number>3</span>,<span class=number>3</span>), index=[<span class=string>'BJ'</span>,<span class=string>'SH'</span>,<span class=string>'GZ'</span>], columns=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>])</span><br><span class=line></span><br><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>B<th>C<tbody><tr><th>BJ<td>0<td>1<td>2<tr><th>SH<td>3<td>4<td>5<tr><th>GZ<td>6<td>7<td>8</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df1.index = Series([<span class=string>'bj'</span>,<span class=string>'sh'</span>,<span class=string>'gz'</span>])</span><br><span class=line></span><br><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>B<th>C<tbody><tr><th>bj<td>0<td>1<td>2<tr><th>sh<td>3<td>4<td>5<tr><th>gz<td>6<td>7<td>8</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>df1.index = df1.index.<span class=built_in>map</span>(<span class=built_in>str</span>.upper)</span><br><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>B<th>C<tbody><tr><th>BJ<td>0<td>1<td>2<tr><th>SH<td>3<td>4<td>5<tr><th>GZ<td>6<td>7<td>8</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.rename(index=<span class=built_in>str</span>.lower, columns=<span class=built_in>str</span>.lower)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>a<th>b<th>c<tbody><tr><th>bj<td>0<td>1<td>2<tr><th>sh<td>3<td>4<td>5<tr><th>gz<td>6<td>7<td>8</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>B<th>C<tbody><tr><th>BJ<td>0<td>1<td>2<tr><th>SH<td>3<td>4<td>5<tr><th>GZ<td>6<td>7<td>8</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.rename(index={<span class=string>'BJ'</span>:<span class=string>'beijing'</span>}, columns={<span class=string>'A'</span>:<span class=string>'a'</span>})</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>a<th>B<th>C<tbody><tr><th>beijing<td>0<td>1<td>2<tr><th>SH<td>3<td>4<td>5<tr><th>GZ<td>6<td>7<td>8</table><h4 id=数字列表-字符串列表><a title="数字列表 => 字符串列表" class=headerlink href=#数字列表-字符串列表></a>数字列表 => 字符串列表</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>list1 = [<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>,<span class=number>4</span>]</span><br><span class=line>list2 = [<span class=string>'1'</span>,<span class=string>'2'</span>,<span class=string>'3'</span>,<span class=string>'4'</span>]</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>[<span class=built_in>str</span>(x) <span class=keyword>for</span> x <span class=keyword>in</span> list1]</span><br></pre></table></figure><blockquote><p>[‘1’, ‘2’, ‘3’, ‘4’]</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>list</span>(<span class=built_in>map</span>(<span class=built_in>str</span>, list1))</span><br></pre></table></figure><blockquote><p>[‘1’, ‘2’, ‘3’, ‘4’]</blockquote><h4 id=利用自定义map函数重命名index><a class=headerlink href=#利用自定义map函数重命名index title=利用自定义map函数重命名index></a>利用自定义map函数重命名index</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=keyword>def</span> <span class="title function_">test_map</span>(<span class=params>x</span>):</span><br><span class=line>    <span class=keyword>return</span> x + <span class=string>'_ABC'</span></span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.index.<span class=built_in>map</span>(test_map)</span><br></pre></table></figure><blockquote><p>Index([‘BJ_ABC’, ‘SH_ABC’, ‘GZ_ABC’], dtype=’object’)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.rename(index=test_map)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>B<th>C<tbody><tr><th>BJ_ABC<td>0<td>1<td>2<tr><th>SH_ABC<td>3<td>4<td>5<tr><th>GZ_ABC<td>6<td>7<td>8</table><h3 id=DataFrame合并-merge-操作><a title="DataFrame合并 (merge) 操作" class=headerlink href=#DataFrame合并-merge-操作></a>DataFrame合并 (merge) 操作</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>df1 = pd.DataFrame({<span class=string>'key'</span>:[<span class=string>'X'</span>,<span class=string>'Y'</span>,<span class=string>'Z'</span>,<span class=string>'X'</span>], <span class=string>'data_set_1'</span>:[<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>,<span class=number>4</span>]})</span><br><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>key<th>data_set_1<tbody><tr><th>0<td>X<td>1<tr><th>1<td>Y<td>2<tr><th>2<td>Z<td>3<tr><th>3<td>X<td>4</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>df2 = pd.DataFrame({<span class=string>'key'</span>:[<span class=string>'X'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>],<span class=string>'data_set_2'</span>:[<span class=number>5</span>,<span class=number>6</span>,<span class=number>7</span>]})</span><br><span class=line>df2</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>key<th>data_set_2<tbody><tr><th>0<td>X<td>5<tr><th>1<td>B<td>6<tr><th>2<td>C<td>7</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.merge(df1,df2,on=<span class=literal>None</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>key<th>data_set_1<th>data_set_2<tbody><tr><th>0<td>X<td>1<td>5<tr><th>1<td>X<td>4<td>5</table><h4 id=指定关联列（默认inner连接）><a class=headerlink href=#指定关联列（默认inner连接） title=指定关联列（默认inner连接）></a>指定关联列（默认inner连接）</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.merge(df1,df2,on=<span class=string>'key'</span>,how=<span class=string>'inner'</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>key<th>data_set_1<th>data_set_2<tbody><tr><th>0<td>X<td>1<td>5<tr><th>1<td>X<td>4<td>5</table><h4 id=左连接><a class=headerlink href=#左连接 title=左连接></a>左连接</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.merge(df1,df2,on=<span class=string>'key'</span>,how=<span class=string>'left'</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>key<th>data_set_1<th>data_set_2<tbody><tr><th>0<td>X<td>1<td>5.0<tr><th>1<td>Y<td>2<td>NaN<tr><th>2<td>Z<td>3<td>NaN<tr><th>3<td>X<td>4<td>5.0</table><h4 id=右连接><a class=headerlink href=#右连接 title=右连接></a>右连接</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.merge(df1,df2,on=<span class=string>'key'</span>,how=<span class=string>'right'</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>key<th>data_set_1<th>data_set_2<tbody><tr><th>0<td>X<td>1.0<td>5<tr><th>1<td>X<td>4.0<td>5<tr><th>2<td>B<td>NaN<td>6<tr><th>3<td>C<td>NaN<td>7</table><h3 id=Concatenate><a class=headerlink href=#Concatenate title=Concatenate></a>Concatenate</h3><h4 id=Array-Concatenate><a title="Array Concatenate" class=headerlink href=#Array-Concatenate></a>Array Concatenate</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>arr1 = np.arange(<span class=number>9</span>).reshape(<span class=number>3</span>,<span class=number>3</span>)</span><br><span class=line>arr1</span><br></pre></table></figure><blockquote><p>array([[0, 1, 2],<br> [3, 4, 5],<br> [6, 7, 8]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>arr2 = np.arange(<span class=number>9</span>).reshape(<span class=number>3</span>,<span class=number>3</span>)</span><br><span class=line>arr2</span><br></pre></table></figure><blockquote><p>array([[0, 1, 2],<br> [3, 4, 5],<br> [6, 7, 8]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.concatenate([arr1,arr2])</span><br></pre></table></figure><blockquote><p>array([[0, 1, 2],<br> [3, 4, 5],<br> [6, 7, 8],<br> [0, 1, 2],<br> [3, 4, 5],<br> [6, 7, 8]])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>np.concatenate([arr1,arr2],axis=<span class=number>1</span>)</span><br></pre></table></figure><blockquote><p>array([[0, 1, 2, 0, 1, 2],<br> [3, 4, 5, 3, 4, 5],<br> [6, 7, 8, 6, 7, 8]])</blockquote><h4 id=Series-Concatenate><a title="Series Concatenate" class=headerlink href=#Series-Concatenate></a>Series Concatenate</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>s1 = Series([<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>], index=[<span class=string>'X'</span>,<span class=string>'Y'</span>,<span class=string>'Z'</span>])</span><br><span class=line>s1</span><br></pre></table></figure><blockquote><p>X 1<br>Y 2<br>Z 3<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>s2 = Series([<span class=number>4</span>,<span class=number>5</span>], index=[<span class=string>'A'</span>,<span class=string>'B'</span>])</span><br><span class=line>s2</span><br></pre></table></figure><blockquote><p>A 4<br>B 5<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.concat([s1,s2])</span><br></pre></table></figure><blockquote><p>X 1<br>Y 2<br>Z 3<br>A 4<br>B 5<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.concat([s1,s2], axis=<span class=number>1</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>0<th>1<tbody><tr><th>A<td>NaN<td>4.0<tr><th>B<td>NaN<td>5.0<tr><th>X<td>1.0<td>NaN<tr><th>Y<td>2.0<td>NaN<tr><th>Z<td>3.0<td>NaN</table><h4 id=DataFrame-Concatenate><a title="DataFrame Concatenate" class=headerlink href=#DataFrame-Concatenate></a>DataFrame Concatenate</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>df1 = DataFrame(np.random.randn(<span class=number>4</span>,<span class=number>3</span>), columns=[<span class=string>'X'</span>,<span class=string>'Y'</span>,<span class=string>'Z'</span>])</span><br><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>X<th>Y<th>Z<tbody><tr><th>0<td>-2.150094<td>-0.172915<td>0.391376<tr><th>1<td>-2.943184<td>1.442629<td>0.934177<tr><th>2<td>-0.015998<td>-1.204739<td>0.912159<tr><th>3<td>-0.131997<td>-0.152430<td>1.080225</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>df2 = DataFrame(np.random.randn(<span class=number>3</span>,<span class=number>3</span>), columns=[<span class=string>'X'</span>,<span class=string>'Y'</span>,<span class=string>'A'</span>])</span><br><span class=line>df2</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>X<th>Y<th>A<tbody><tr><th>0<td>-0.640785<td>0.404844<td>1.140704<tr><th>1<td>0.331578<td>0.490477<td>1.158403<tr><th>2<td>1.542735<td>-0.693717<td>1.928202</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.concat([df1,df2])</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>X<th>Y<th>Z<tbody><tr><th>0<td>NaN<td>-2.150094<td>-0.172915<td>0.391376<tr><th>1<td>NaN<td>-2.943184<td>1.442629<td>0.934177<tr><th>2<td>NaN<td>-0.015998<td>-1.204739<td>0.912159<tr><th>3<td>NaN<td>-0.131997<td>-0.152430<td>1.080225<tr><th>0<td>1.140704<td>-0.640785<td>0.404844<td>NaN<tr><th>1<td>1.158403<td>0.331578<td>0.490477<td>NaN<tr><th>2<td>1.928202<td>1.542735<td>-0.693717<td>NaN</table><h3 id=Combine><a class=headerlink href=#Combine title=Combine></a>Combine</h3><h4 id=Series-Combine><a title="Series Combine" class=headerlink href=#Series-Combine></a>Series Combine</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>s1 = Series([<span class=number>2</span>,np.nan,<span class=number>4</span>,np.nan], index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>])</span><br><span class=line>s1</span><br></pre></table></figure><blockquote><p>A 2.0<br>B NaN<br>C 4.0<br>D NaN<br>dtype: float64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>s2 = Series([<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>,<span class=number>4</span>], index=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>])</span><br><span class=line>s2</span><br></pre></table></figure><blockquote><p>A 1<br>B 2<br>C 3<br>D 4<br>dtype: int64</blockquote><h5 id=combine-first-用后者填充前者中的空值-如有><a title="combine_first - 用后者填充前者中的空值 (如有)" class=headerlink href=#combine-first-用后者填充前者中的空值-如有></a>combine_first - 用后者填充前者中的空值 (如有)</h5><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.combine_first(s2)</span><br></pre></table></figure><blockquote><p>A 2.0<br>B 2.0<br>C 4.0<br>D 4.0<br>dtype: float64</blockquote><h4 id=DataFrame-Combine><a title="DataFrame Combine" class=headerlink href=#DataFrame-Combine></a>DataFrame Combine</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line>df1 = pd.DataFrame({</span><br><span class=line>    <span class=string>'X'</span>:[<span class=number>1</span>,np.nan,<span class=number>3</span>,np.nan],</span><br><span class=line>    <span class=string>'Y'</span>:[<span class=number>5</span>,np.nan,<span class=number>7</span>,np.nan],</span><br><span class=line>    <span class=string>'Z'</span>:[<span class=number>9</span>,np.nan,<span class=number>11</span>,np.nan]</span><br><span class=line>})</span><br><span class=line>df1</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>X<th>Y<th>Z<tbody><tr><th>0<td>1.0<td>5.0<td>9.0<tr><th>1<td>NaN<td>NaN<td>NaN<tr><th>2<td>3.0<td>7.0<td>11.0<tr><th>3<td>NaN<td>NaN<td>NaN</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>df2 = pd.DataFrame({</span><br><span class=line>    <span class=string>'Z'</span>:[np.nan,<span class=number>10</span>,np.nan,<span class=number>12</span>],</span><br><span class=line>    <span class=string>'A'</span>:[<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>,<span class=number>4</span>]</span><br><span class=line>})</span><br><span class=line>df2</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Z<th>A<tbody><tr><th>0<td>NaN<td>1<tr><th>1<td>10.0<td>2<tr><th>2<td>NaN<td>3<tr><th>3<td>12.0<td>4</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.combine_first(df2)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>X<th>Y<th>Z<tbody><tr><th>0<td>1.0<td>1.0<td>5.0<td>9.0<tr><th>1<td>2.0<td>NaN<td>NaN<td>10.0<tr><th>2<td>3.0<td>3.0<td>7.0<td>11.0<tr><th>3<td>4.0<td>NaN<td>NaN<td>12.0</table><h3 id=利用apply对数据进行处理><a class=headerlink href=#利用apply对数据进行处理 title=利用apply对数据进行处理></a>利用apply对数据进行处理</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>df1 = pd.read_csv(<span class=string>"apply_demo.csv"</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>time<th>data<tbody><tr><th>0<td>1473411962<td>Symbol: APPL Seqno: 0 Price: 1623<tr><th>1<td>1473411962<td>Symbol: APPL Seqno: 0 Price: 1623<tr><th>2<td>1473411963<td>Symbol: APPL Seqno: 0 Price: 1623<tr><th>3<td>1473411963<td>Symbol: APPL Seqno: 0 Price: 1623<tr><th>4<td>1473411963<td>Symbol: APPL Seqno: 1 Price: 1649</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.size</span><br></pre></table></figure><blockquote><p>7978</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1 = Series([<span class=string>'a'</span>]*<span class=number>7978</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1[<span class=string>'A'</span>] = s1</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df1.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>time<th>data<th>A<tbody><tr><th>0<td>1473411962<td>Symbol: APPL Seqno: 0 Price: 1623<td>a<tr><th>1<td>1473411962<td>Symbol: APPL Seqno: 0 Price: 1623<td>a<tr><th>2<td>1473411963<td>Symbol: APPL Seqno: 0 Price: 1623<td>a<tr><th>3<td>1473411963<td>Symbol: APPL Seqno: 0 Price: 1623<td>a<tr><th>4<td>1473411963<td>Symbol: APPL Seqno: 1 Price: 1649<td>a</table><h4 id=利用apply批量处理某一列数据><a class=headerlink href=#利用apply批量处理某一列数据 title=利用apply批量处理某一列数据></a>利用apply批量处理某一列数据</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df1[<span class=string>'A'</span>] = df1[<span class=string>'A'</span>].apply(<span class=built_in>str</span>.upper)</span><br><span class=line> </span><br><span class=line>df1.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>time<th>data<th>A<tbody><tr><th>0<td>1473411962<td>Symbol: APPL Seqno: 0 Price: 1623<td>A<tr><th>1<td>1473411962<td>Symbol: APPL Seqno: 0 Price: 1623<td>A<tr><th>2<td>1473411963<td>Symbol: APPL Seqno: 0 Price: 1623<td>A<tr><th>3<td>1473411963<td>Symbol: APPL Seqno: 0 Price: 1623<td>A<tr><th>4<td>1473411963<td>Symbol: APPL Seqno: 1 Price: 1649<td>A</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>l1 = df1[<span class=string>'data'</span>][<span class=number>0</span>].strip().split(<span class=string>' '</span>)</span><br><span class=line>l1</span><br></pre></table></figure><blockquote><p>[‘Symbol:’, ‘APPL’, ‘Seqno:’, ‘0’, ‘Price:’, ‘1623’]</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>l1[<span class=number>1</span>], l1[<span class=number>3</span>], l1[<span class=number>5</span>]</span><br></pre></table></figure><blockquote><p>(‘APPL’, ‘0’, ‘1623’)</blockquote><h4 id=编写自定义函数，对列中的字符串进行提取><a class=headerlink href=#编写自定义函数，对列中的字符串进行提取 title=编写自定义函数，对列中的字符串进行提取></a>编写自定义函数，对列中的字符串进行提取</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>def</span> <span class="title function_">foo</span>(<span class=params>line</span>):</span><br><span class=line>    items = line.strip().split(<span class=string>' '</span>)</span><br><span class=line>    <span class=keyword>return</span> Series([items[<span class=number>1</span>], items[<span class=number>3</span>], items[<span class=number>5</span>]])</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>df_temp = df1[<span class=string>'data'</span>].apply(foo)</span><br><span class=line></span><br><span class=line>df_temp = df_temp.rename(columns={<span class=number>0</span>:<span class=string>"Symbol"</span>,<span class=number>1</span>:<span class=string>"Seqno"</span>,<span class=number>2</span>:<span class=string>"Price"</span>})</span><br><span class=line></span><br><span class=line>df_temp.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Symbol<th>Seqno<th>Price<tbody><tr><th>0<td>APPL<td>0<td>1623<tr><th>1<td>APPL<td>0<td>1623<tr><th>2<td>APPL<td>0<td>1623<tr><th>3<td>APPL<td>0<td>1623<tr><th>4<td>APPL<td>1<td>1649</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new = df1.combine_first(df_temp)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>Price<th>Seqno<th>Symbol<th>data<th>time<tbody><tr><th>0<td>A<td>1623.0<td>0.0<td>APPL<td>Symbol: APPL Seqno: 0 Price: 1623<td>1473411962<tr><th>1<td>A<td>1623.0<td>0.0<td>APPL<td>Symbol: APPL Seqno: 0 Price: 1623<td>1473411962<tr><th>2<td>A<td>1623.0<td>0.0<td>APPL<td>Symbol: APPL Seqno: 0 Price: 1623<td>1473411963<tr><th>3<td>A<td>1623.0<td>0.0<td>APPL<td>Symbol: APPL Seqno: 0 Price: 1623<td>1473411963<tr><th>4<td>A<td>1649.0<td>1.0<td>APPL<td>Symbol: APPL Seqno: 1 Price: 1649<td>1473411963</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line><span class=keyword>del</span> df_new[<span class=string>'data'</span>]</span><br><span class=line><span class=keyword>del</span> df_new[<span class=string>'A'</span>]</span><br><span class=line> </span><br><span class=line>df_new.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Price<th>Seqno<th>Symbol<th>time<tbody><tr><th>0<td>1623.0<td>0.0<td>APPL<td>1473411962<tr><th>1<td>1623.0<td>0.0<td>APPL<td>1473411962<tr><th>2<td>1623.0<td>0.0<td>APPL<td>1473411963<tr><th>3<td>1623.0<td>0.0<td>APPL<td>1473411963<tr><th>4<td>1649.0<td>1.0<td>APPL<td>1473411963</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_new.to_csv(<span class=string>"demo_duplicate.csv"</span>)</span><br></pre></table></figure><h3 id=利用drop-duplicates去重><a class=headerlink href=#利用drop-duplicates去重 title=利用drop_duplicates去重></a>利用drop_duplicates去重</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>df = pd.read_csv(<span class=string>'demo_duplicate.csv'</span>)</span><br><span class=line></span><br><span class=line>df.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Unnamed: 0<th>Price<th>Seqno<th>Symbol<th>time<tbody><tr><th>0<td>0<td>1623.0<td>0.0<td>APPL<td>1473411962<tr><th>1<td>1<td>1623.0<td>0.0<td>APPL<td>1473411962<tr><th>2<td>2<td>1623.0<td>0.0<td>APPL<td>1473411963<tr><th>3<td>3<td>1623.0<td>0.0<td>APPL<td>1473411963<tr><th>4<td>4<td>1649.0<td>1.0<td>APPL<td>1473411963</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>del</span> df[<span class=string>'Unnamed: 0'</span>]</span><br><span class=line></span><br><span class=line>df.head(<span class=number>10</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Price<th>Seqno<th>Symbol<th>time<tbody><tr><th>0<td>1623.0<td>0.0<td>APPL<td>1473411962<tr><th>1<td>1623.0<td>0.0<td>APPL<td>1473411962<tr><th>2<td>1623.0<td>0.0<td>APPL<td>1473411963<tr><th>3<td>1623.0<td>0.0<td>APPL<td>1473411963<tr><th>4<td>1649.0<td>1.0<td>APPL<td>1473411963<tr><th>5<td>1649.0<td>1.0<td>APPL<td>1473411963<tr><th>6<td>1649.0<td>1.0<td>APPL<td>1473411964<tr><th>7<td>1649.0<td>1.0<td>APPL<td>1473411964<tr><th>8<td>1642.0<td>2.0<td>APPL<td>1473411964<tr><th>9<td>1642.0<td>2.0<td>APPL<td>1473411964</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.size</span><br></pre></table></figure><blockquote><p>15956</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>len</span>(df)</span><br></pre></table></figure><blockquote><p>3989</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>len</span>(df[<span class=string>'Seqno'</span>].unique())</span><br></pre></table></figure><blockquote><p>1000</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df[<span class=string>'Seqno'</span>].duplicated()</span><br></pre></table></figure><blockquote><p>0 False<br>1 True<br>2 True<br>3 True<br>4 False<br>5 True<br>6 True<br>7 True<br>8 False<br>9 True<br>10 True<br>11 True<br>12 False<br>13 True<br>14 True<br>15 True<br>16 False<br>17 True<br>18 True<br>19 True<br>20 False<br>21 True<br>22 True<br>23 True<br>24 False<br>25 True<br>26 True<br>27 True<br>28 False<br>29 True<br> …<br>3959 True<br>3960 True<br>3961 False<br>3962 True<br>3963 True<br>3964 True<br>3965 False<br>3966 True<br>3967 True<br>3968 True<br>3969 False<br>3970 True<br>3971 True<br>3972 True<br>3973 False<br>3974 True<br>3975 True<br>3976 True<br>3977 False<br>3978 True<br>3979 True<br>3980 True<br>3981 False<br>3982 True<br>3983 True<br>3984 True<br>3985 False<br>3986 True<br>3987 True<br>3988 True<br>Name: Seqno, Length: 3989, dtype: bool</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.drop_duplicates([<span class=string>'Seqno'</span>], keep=<span class=string>'first'</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Price<th>Seqno<th>Symbol<th>time<tbody><tr><th>0<td>1623.0<td>0.0<td>APPL<td>1473411962<tr><th>4<td>1649.0<td>1.0<td>APPL<td>1473411963<tr><th>8<td>1642.0<td>2.0<td>APPL<td>1473411964<tr><th>12<td>1636.0<td>3.0<td>APPL<td>1473411965<tr><th>16<td>1669.0<td>4.0<td>APPL<td>1473411966<tr><th>20<td>1639.0<td>5.0<td>APPL<td>1473411967<tr><th>24<td>1611.0<td>6.0<td>APPL<td>1473411968<tr><th>28<td>1660.0<td>7.0<td>APPL<td>1473411969<tr><th>32<td>1657.0<td>8.0<td>APPL<td>1473411970<tr><th>36<td>1509.0<td>9.0<td>APPL<td>1473411971<tr><th>40<td>1514.0<td>10.0<td>APPL<td>1473411972<tr><th>44<td>1676.0<td>11.0<td>APPL<td>1473411973<tr><th>48<td>1596.0<td>12.0<td>APPL<td>1473411974<tr><th>52<td>1527.0<td>13.0<td>APPL<td>1473411975<tr><th>56<td>1643.0<td>14.0<td>APPL<td>1473411976<tr><th>60<td>1632.0<td>15.0<td>APPL<td>1473411977<tr><th>64<td>1595.0<td>16.0<td>APPL<td>1473411978<tr><th>68<td>1565.0<td>17.0<td>APPL<td>1473411979<tr><th>72<td>1521.0<td>18.0<td>APPL<td>1473411980<tr><th>76<td>1501.0<td>19.0<td>APPL<td>1473411981<tr><th>80<td>1579.0<td>20.0<td>APPL<td>1473411982<tr><th>84<td>1511.0<td>21.0<td>APPL<td>1473411983<tr><th>88<td>1513.0<td>22.0<td>APPL<td>1473411984<tr><th>92<td>1687.0<td>23.0<td>APPL<td>1473411985<tr><th>96<td>1539.0<td>24.0<td>APPL<td>1473411986<tr><th>100<td>1682.0<td>25.0<td>APPL<td>1473411987<tr><th>104<td>1534.0<td>26.0<td>APPL<td>1473411988<tr><th>108<td>1628.0<td>27.0<td>APPL<td>1473411989<tr><th>112<td>1582.0<td>28.0<td>APPL<td>1473411990<tr><th>116<td>1540.0<td>29.0<td>APPL<td>1473411991<tr><th>...<td>...<td>...<td>...<td>...<tr><th>3869<td>1649.0<td>970.0<td>APPL<td>1473412932<tr><th>3873<td>1696.0<td>971.0<td>APPL<td>1473412933<tr><th>3877<td>1596.0<td>972.0<td>APPL<td>1473412934<tr><th>3881<td>1664.0<td>973.0<td>APPL<td>1473412935<tr><th>3885<td>1539.0<td>974.0<td>APPL<td>1473412936<tr><th>3889<td>1654.0<td>975.0<td>APPL<td>1473412937<tr><th>3893<td>1573.0<td>976.0<td>APPL<td>1473412938<tr><th>3897<td>1695.0<td>977.0<td>APPL<td>1473412939<tr><th>3901<td>1584.0<td>978.0<td>APPL<td>1473412940<tr><th>3905<td>1607.0<td>979.0<td>APPL<td>1473412941<tr><th>3909<td>1676.0<td>980.0<td>APPL<td>1473412942<tr><th>3913<td>1665.0<td>981.0<td>APPL<td>1473412943<tr><th>3917<td>1540.0<td>982.0<td>APPL<td>1473412944<tr><th>3921<td>1546.0<td>983.0<td>APPL<td>1473412945<tr><th>3925<td>1646.0<td>984.0<td>APPL<td>1473412946<tr><th>3929<td>1648.0<td>985.0<td>APPL<td>1473412947<tr><th>3933<td>1647.0<td>986.0<td>APPL<td>1473412948<tr><th>3937<td>1602.0<td>987.0<td>APPL<td>1473412949<tr><th>3941<td>1562.0<td>988.0<td>APPL<td>1473412950<tr><th>3945<td>1629.0<td>989.0<td>APPL<td>1473412951<tr><th>3949<td>1683.0<td>990.0<td>APPL<td>1473412952<tr><th>3953<td>1649.0<td>991.0<td>APPL<td>1473412953<tr><th>3957<td>1698.0<td>992.0<td>APPL<td>1473412954<tr><th>3961<td>1566.0<td>993.0<td>APPL<td>1473412955<tr><th>3965<td>1597.0<td>994.0<td>APPL<td>1473412956<tr><th>3969<td>1641.0<td>995.0<td>APPL<td>1473412957<tr><th>3973<td>1581.0<td>996.0<td>APPL<td>1473412958<tr><th>3977<td>1674.0<td>997.0<td>APPL<td>1473412959<tr><th>3981<td>1680.0<td>998.0<td>APPL<td>1473412960<tr><th>3985<td>1509.0<td>999.0<td>APPL<td>1473412961</table><p>1000 rows × 4 columns<h3 id=时间序列操作><a class=headerlink href=#时间序列操作 title=时间序列操作></a>时间序列操作</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=keyword>from</span> datetime <span class=keyword>import</span> datetime</span><br><span class=line>t1 = datetime(<span class=number>2019</span>,<span class=number>7</span>,<span class=number>12</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>t1</span><br></pre></table></figure><blockquote><p>datetime.datetime(2019, 7, 12, 0, 0)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line>date_list = [</span><br><span class=line>    datetime(<span class=number>2016</span>,<span class=number>9</span>,<span class=number>1</span>),</span><br><span class=line>    datetime(<span class=number>2016</span>,<span class=number>9</span>,<span class=number>10</span>),</span><br><span class=line>    datetime(<span class=number>2017</span>,<span class=number>9</span>,<span class=number>1</span>),</span><br><span class=line>    datetime(<span class=number>2017</span>,<span class=number>9</span>,<span class=number>20</span>),</span><br><span class=line>    datetime(<span class=number>2017</span>,<span class=number>10</span>,<span class=number>1</span>)</span><br><span class=line>]</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>date_list</span><br></pre></table></figure><blockquote><p>[datetime.datetime(2016, 9, 1, 0, 0),<br> datetime.datetime(2016, 9, 10, 0, 0),<br> datetime.datetime(2017, 9, 1, 0, 0),<br> datetime.datetime(2017, 9, 20, 0, 0),<br> datetime.datetime(2017, 10, 1, 0, 0)]</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>s1 = Series(np.random.rand(<span class=number>5</span>),index=date_list)</span><br><span class=line></span><br><span class=line>s1</span><br></pre></table></figure><blockquote><p>2016-09-01 0.192942<br>2016-09-10 0.821524<br>2017-09-01 0.503137<br>2017-09-20 0.896424<br>2017-10-01 0.267054<br>dtype: float64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.values</span><br></pre></table></figure><blockquote><p>array([0.19294241, 0.82152442, 0.5031373 , 0.8964235 , 0.26705384])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.index</span><br></pre></table></figure><blockquote><p>DatetimeIndex([‘2016-09-01’, ‘2016-09-10’, ‘2017-09-01’, ‘2017-09-20’,<br> ‘2017-10-01’],<br> dtype=’datetime64[ns]’, freq=None)</blockquote><h4 id=根据索引位置访问><a class=headerlink href=#根据索引位置访问 title=根据索引位置访问></a>根据索引位置访问</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1[<span class=number>0</span>]</span><br></pre></table></figure><blockquote><p>0.19294241160815995</blockquote><h4 id=根据时间序列访问><a class=headerlink href=#根据时间序列访问 title=根据时间序列访问></a>根据时间序列访问</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1[datetime(<span class=number>2016</span>,<span class=number>9</span>,<span class=number>1</span>)]</span><br></pre></table></figure><blockquote><p>0.19294241160815995</blockquote><h4 id=根据时间访问><a class=headerlink href=#根据时间访问 title=根据时间访问></a>根据时间访问</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1[<span class=string>'2016-09-01'</span>]</span><br></pre></table></figure><blockquote><p>0.19294241160815995</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1[<span class=string>'20160901'</span>]</span><br></pre></table></figure><blockquote><p>0.19294241160815995</blockquote><h4 id=返回整月数据><a class=headerlink href=#返回整月数据 title=返回整月数据></a>返回整月数据</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1[<span class=string>'2016-09'</span>]</span><br></pre></table></figure><blockquote><p>2016-09-01 0.192942<br>2016-09-10 0.821524<br>dtype: float64</blockquote><h4 id=返回整年数据><a class=headerlink href=#返回整年数据 title=返回整年数据></a>返回整年数据</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1[<span class=string>'2016'</span>]</span><br></pre></table></figure><blockquote><p>2016-09-01 0.192942<br>2016-09-10 0.821524<br>dtype: float64</blockquote><h4 id=利用pd-date-range-生成时间序列><a title="利用pd.date_range() 生成时间序列" class=headerlink href=#利用pd-date-range-生成时间序列></a>利用pd.date_range() 生成时间序列</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>date_list_new = pd.date_range(<span class=string>'2016-01-01'</span>, periods=<span class=number>100</span>)</span><br><span class=line>date_list_new</span><br></pre></table></figure><blockquote><p>DatetimeIndex([‘2016-01-01’, ‘2016-01-02’, ‘2016-01-03’, ‘2016-01-04’,<br> ‘2016-01-05’, ‘2016-01-06’, ‘2016-01-07’, ‘2016-01-08’,<br> ‘2016-01-09’, ‘2016-01-10’, ‘2016-01-11’, ‘2016-01-12’,<br> ‘2016-01-13’, ‘2016-01-14’, ‘2016-01-15’, ‘2016-01-16’,<br> ‘2016-01-17’, ‘2016-01-18’, ‘2016-01-19’, ‘2016-01-20’,<br> ‘2016-01-21’, ‘2016-01-22’, ‘2016-01-23’, ‘2016-01-24’,<br> ‘2016-01-25’, ‘2016-01-26’, ‘2016-01-27’, ‘2016-01-28’,<br> ‘2016-01-29’, ‘2016-01-30’, ‘2016-01-31’, ‘2016-02-01’,<br> ‘2016-02-02’, ‘2016-02-03’, ‘2016-02-04’, ‘2016-02-05’,<br> ‘2016-02-06’, ‘2016-02-07’, ‘2016-02-08’, ‘2016-02-09’,<br> ‘2016-02-10’, ‘2016-02-11’, ‘2016-02-12’, ‘2016-02-13’,<br> ‘2016-02-14’, ‘2016-02-15’, ‘2016-02-16’, ‘2016-02-17’,<br> ‘2016-02-18’, ‘2016-02-19’, ‘2016-02-20’, ‘2016-02-21’,<br> ‘2016-02-22’, ‘2016-02-23’, ‘2016-02-24’, ‘2016-02-25’,<br> ‘2016-02-26’, ‘2016-02-27’, ‘2016-02-28’, ‘2016-02-29’,<br> ‘2016-03-01’, ‘2016-03-02’, ‘2016-03-03’, ‘2016-03-04’,<br> ‘2016-03-05’, ‘2016-03-06’, ‘2016-03-07’, ‘2016-03-08’,<br> ‘2016-03-09’, ‘2016-03-10’, ‘2016-03-11’, ‘2016-03-12’,<br> ‘2016-03-13’, ‘2016-03-14’, ‘2016-03-15’, ‘2016-03-16’,<br> ‘2016-03-17’, ‘2016-03-18’, ‘2016-03-19’, ‘2016-03-20’,<br> ‘2016-03-21’, ‘2016-03-22’, ‘2016-03-23’, ‘2016-03-24’,<br> ‘2016-03-25’, ‘2016-03-26’, ‘2016-03-27’, ‘2016-03-28’,<br> ‘2016-03-29’, ‘2016-03-30’, ‘2016-03-31’, ‘2016-04-01’,<br> ‘2016-04-02’, ‘2016-04-03’, ‘2016-04-04’, ‘2016-04-05’,<br> ‘2016-04-06’, ‘2016-04-07’, ‘2016-04-08’, ‘2016-04-09’],<br> dtype=’datetime64[ns]’, freq=’D’)</blockquote><h4 id=从指定时间的（周一）开始生成时间序列><a class=headerlink href=#从指定时间的（周一）开始生成时间序列 title=从指定时间的（周一）开始生成时间序列></a>从指定时间的（周一）开始生成时间序列</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>date_list_new = pd.date_range(<span class=string>'2016-01-01'</span>, periods=<span class=number>10</span>, freq=<span class=string>'W-MON'</span>)</span><br><span class=line>date_list_new</span><br></pre></table></figure><blockquote><p>DatetimeIndex([‘2016-01-04’, ‘2016-01-11’, ‘2016-01-18’, ‘2016-01-25’,<br> ‘2016-02-01’, ‘2016-02-08’, ‘2016-02-15’, ‘2016-02-22’,<br> ‘2016-02-29’, ‘2016-03-07’],<br> dtype=’datetime64[ns]’, freq=’W-MON’)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>date_list_new = pd.date_range(<span class=string>'2016-01-01'</span>, periods=<span class=number>10</span>, freq=<span class=string>'5H'</span>)</span><br><span class=line>date_list_new</span><br></pre></table></figure><blockquote><p>DatetimeIndex([‘2016-01-01 00:00:00’, ‘2016-01-01 05:00:00’,<br> ‘2016-01-01 10:00:00’, ‘2016-01-01 15:00:00’,<br> ‘2016-01-01 20:00:00’, ‘2016-01-02 01:00:00’,<br> ‘2016-01-02 06:00:00’, ‘2016-01-02 11:00:00’,<br> ‘2016-01-02 16:00:00’, ‘2016-01-02 21:00:00’],<br> dtype=’datetime64[ns]’, freq=’5H’)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>s2 = Series(np.random.rand(<span class=number>10</span>), index=date_list_new)</span><br><span class=line>s2</span><br></pre></table></figure><blockquote><p>2016-01-01 00:00:00 0.312884<br>2016-01-01 05:00:00 0.337516<br>2016-01-01 10:00:00 0.911010<br>2016-01-01 15:00:00 0.055390<br>2016-01-01 20:00:00 0.810770<br>2016-01-02 01:00:00 0.313263<br>2016-01-02 06:00:00 0.025229<br>2016-01-02 11:00:00 0.229192<br>2016-01-02 16:00:00 0.509811<br>2016-01-02 21:00:00 0.169681<br>Freq: 5H, dtype: float64</blockquote><h3 id=时间序列数据的采样和画图><a class=headerlink href=#时间序列数据的采样和画图 title=时间序列数据的采样和画图></a>时间序列数据的采样和画图</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line><span class=keyword>from</span> datetime <span class=keyword>import</span> datetime</span><br><span class=line></span><br><span class=line>t_range = pd.date_range(<span class=string>'2016-01-01'</span>,<span class=string>'2016-12-31'</span>)</span><br><span class=line>t_range</span><br></pre></table></figure><blockquote><p>DatetimeIndex([‘2016-01-01’, ‘2016-01-02’, ‘2016-01-03’, ‘2016-01-04’,<br> ‘2016-01-05’, ‘2016-01-06’, ‘2016-01-07’, ‘2016-01-08’,<br> ‘2016-01-09’, ‘2016-01-10’,<br> …<br> ‘2016-12-22’, ‘2016-12-23’, ‘2016-12-24’, ‘2016-12-25’,<br> ‘2016-12-26’, ‘2016-12-27’, ‘2016-12-28’, ‘2016-12-29’,<br> ‘2016-12-30’, ‘2016-12-31’],<br> dtype=’datetime64[ns]’, length=366, freq=’D’)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>s1 = Series(np.random.rand(<span class=built_in>len</span>(t_range)), index=t_range)</span><br><span class=line></span><br><span class=line>s1[<span class=string>'2016-01'</span>].mean()</span><br></pre></table></figure><blockquote><p>0.48349408856972315</blockquote><h4 id=按月份采样，计算平均值><a class=headerlink href=#按月份采样，计算平均值 title=按月份采样，计算平均值></a>按月份采样，计算平均值</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>s1_month = s1.resample(<span class=string>'M'</span>).mean()</span><br><span class=line></span><br><span class=line>s1_month.index</span><br></pre></table></figure><blockquote><p>DatetimeIndex([‘2016-01-31’, ‘2016-02-29’, ‘2016-03-31’, ‘2016-04-30’,<br> ‘2016-05-31’, ‘2016-06-30’, ‘2016-07-31’, ‘2016-08-31’,<br> ‘2016-09-30’, ‘2016-10-31’, ‘2016-11-30’, ‘2016-12-31’],<br> dtype=’datetime64[ns]’, freq=’M’)</blockquote><h4 id=按小时采样，并-向后-填充数据><a class=headerlink href=#按小时采样，并-向后-填充数据 title=按小时采样，并(向后)填充数据></a>按小时采样，并(向后)填充数据</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.resample(<span class=string>'H'</span>).ffill()</span><br></pre></table></figure><blockquote><p>2016-01-01 00:00:00 0.196584<br>2016-01-01 01:00:00 0.196584<br>2016-01-01 02:00:00 0.196584<br>2016-01-01 03:00:00 0.196584<br>2016-01-01 04:00:00 0.196584<br>2016-01-01 05:00:00 0.196584<br>2016-01-01 06:00:00 0.196584<br>2016-01-01 07:00:00 0.196584<br>2016-01-01 08:00:00 0.196584<br>2016-01-01 09:00:00 0.196584<br>2016-01-01 10:00:00 0.196584<br>2016-01-01 11:00:00 0.196584<br>2016-01-01 12:00:00 0.196584<br>2016-01-01 13:00:00 0.196584<br>2016-01-01 14:00:00 0.196584<br>2016-01-01 15:00:00 0.196584<br>2016-01-01 16:00:00 0.196584<br>2016-01-01 17:00:00 0.196584<br>2016-01-01 18:00:00 0.196584<br>2016-01-01 19:00:00 0.196584<br>2016-01-01 20:00:00 0.196584<br>2016-01-01 21:00:00 0.196584<br>2016-01-01 22:00:00 0.196584<br>2016-01-01 23:00:00 0.196584<br>2016-01-02 00:00:00 0.209433<br>2016-01-02 01:00:00 0.209433<br>2016-01-02 02:00:00 0.209433<br>2016-01-02 03:00:00 0.209433<br>2016-01-02 04:00:00 0.209433<br>2016-01-02 05:00:00 0.209433<br> …<br>2016-12-29 19:00:00 0.287915<br>2016-12-29 20:00:00 0.287915<br>2016-12-29 21:00:00 0.287915<br>2016-12-29 22:00:00 0.287915<br>2016-12-29 23:00:00 0.287915<br>2016-12-30 00:00:00 0.023052<br>2016-12-30 01:00:00 0.023052<br>2016-12-30 02:00:00 0.023052<br>2016-12-30 03:00:00 0.023052<br>2016-12-30 04:00:00 0.023052<br>2016-12-30 05:00:00 0.023052<br>2016-12-30 06:00:00 0.023052<br>2016-12-30 07:00:00 0.023052<br>2016-12-30 08:00:00 0.023052<br>2016-12-30 09:00:00 0.023052<br>2016-12-30 10:00:00 0.023052<br>2016-12-30 11:00:00 0.023052<br>2016-12-30 12:00:00 0.023052<br>2016-12-30 13:00:00 0.023052<br>2016-12-30 14:00:00 0.023052<br>2016-12-30 15:00:00 0.023052<br>2016-12-30 16:00:00 0.023052<br>2016-12-30 17:00:00 0.023052<br>2016-12-30 18:00:00 0.023052<br>2016-12-30 19:00:00 0.023052<br>2016-12-30 20:00:00 0.023052<br>2016-12-30 21:00:00 0.023052<br>2016-12-30 22:00:00 0.023052<br>2016-12-30 23:00:00 0.023052<br>2016-12-31 00:00:00 0.515360<br>Freq: H, Length: 8761, dtype: float64</blockquote><h4 id=基于时间序列画图><a class=headerlink href=#基于时间序列画图 title=基于时间序列画图></a>基于时间序列画图</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>t_range = pd.date_range(<span class=string>'2016-01-01'</span>,<span class=string>'2016-12-31'</span>,freq=<span class=string>'H'</span>)</span><br><span class=line></span><br><span class=line>t_range</span><br></pre></table></figure><blockquote><p>DatetimeIndex([‘2016-01-01 00:00:00’, ‘2016-01-01 01:00:00’,<br> ‘2016-01-01 02:00:00’, ‘2016-01-01 03:00:00’,<br> ‘2016-01-01 04:00:00’, ‘2016-01-01 05:00:00’,<br> ‘2016-01-01 06:00:00’, ‘2016-01-01 07:00:00’,<br> ‘2016-01-01 08:00:00’, ‘2016-01-01 09:00:00’,<br> …<br> ‘2016-12-30 15:00:00’, ‘2016-12-30 16:00:00’,<br> ‘2016-12-30 17:00:00’, ‘2016-12-30 18:00:00’,<br> ‘2016-12-30 19:00:00’, ‘2016-12-30 20:00:00’,<br> ‘2016-12-30 21:00:00’, ‘2016-12-30 22:00:00’,<br> ‘2016-12-30 23:00:00’, ‘2016-12-31 00:00:00’],<br> dtype=’datetime64[ns]’, length=8761, freq=’H’)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>stock_df = DataFrame(index=t_range)</span><br><span class=line>stock_df[<span class=string>'BABA'</span>] = np.random.randint(<span class=number>80</span>,<span class=number>160</span>, size=<span class=built_in>len</span>(t_range))</span><br><span class=line>stock_df[<span class=string>'TENCENT'</span>] = np.random.randint(<span class=number>30</span>,<span class=number>50</span>, size=<span class=built_in>len</span>(t_range))</span><br><span class=line></span><br><span class=line>stock_df.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>BABA<th>TENCENT<tbody><tr><th>2016-01-01 00:00:00<td>134<td>43<tr><th>2016-01-01 01:00:00<td>98<td>35<tr><th>2016-01-01 02:00:00<td>150<td>32<tr><th>2016-01-01 03:00:00<td>96<td>37<tr><th>2016-01-01 04:00:00<td>140<td>40</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>stock_df.plot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOly1g4x4kbphcaj30ai07b74e.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line>plt.show()</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>weekly_df = DataFrame()</span><br><span class=line>weekly_df[<span class=string>'BABA'</span>] = stock_df[<span class=string>'BABA'</span>].resample(<span class=string>'W'</span>).mean()</span><br><span class=line>weekly_df[<span class=string>'TENCENT'</span>] = stock_df[<span class=string>'TENCENT'</span>].resample(<span class=string>'W'</span>).mean()</span><br><span class=line></span><br><span class=line>weekly_df.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>BABA<th>TENCENT<tbody><tr><th>2016-01-03<td>118.777778<td>38.638889<tr><th>2016-01-10<td>120.690476<td>40.077381<tr><th>2016-01-17<td>120.678571<td>39.452381<tr><th>2016-01-24<td>119.833333<td>39.386905<tr><th>2016-01-31<td>119.577381<td>39.416667</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>weekly_df.plot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/large/006By2pOly1g4x4l5seidj30ar07bt8t.jpg><h3 id=数据分箱Binning><a class=headerlink href=#数据分箱Binning title=数据分箱Binning></a>数据分箱Binning</h3><h4 id=对list进行分箱><a class=headerlink href=#对list进行分箱 title=对list进行分箱></a>对list进行分箱</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>score_list = np.random.randint(<span class=number>25</span>,<span class=number>100</span>,size=<span class=number>20</span>)</span><br><span class=line></span><br><span class=line>score_list</span><br></pre></table></figure><blockquote><p>array([95, 75, 43, 49, 26, 95, 28, 55, 93, 97, 91, 46, 39, 88, 32, 97, 93,<br> 80, 57, 70])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>bins = [<span class=number>0</span>,<span class=number>59</span>,<span class=number>70</span>,<span class=number>80</span>,<span class=number>100</span>]</span><br><span class=line></span><br><span class=line>score_cat = pd.cut(score_list, bins)</span><br><span class=line></span><br><span class=line>pd.value_counts(score_cat)</span><br></pre></table></figure><blockquote><p>(0, 59] 9<br>(80, 100] 8<br>(70, 80] 2<br>(59, 70] 1<br>dtype: int64</blockquote><h4 id=对DataFrame进行分箱><a class=headerlink href=#对DataFrame进行分箱 title=对DataFrame进行分箱></a>对DataFrame进行分箱</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>df = DataFrame()</span><br><span class=line>df[<span class=string>'score'</span>] = score_list</span><br><span class=line></span><br><span class=line>df</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>score<tbody><tr><th>0<td>95<tr><th>1<td>75<tr><th>2<td>43<tr><th>3<td>49<tr><th>4<td>26<tr><th>5<td>95<tr><th>6<td>28<tr><th>7<td>55<tr><th>8<td>93<tr><th>9<td>97<tr><th>10<td>91<tr><th>11<td>46<tr><th>12<td>39<tr><th>13<td>88<tr><th>14<td>32<tr><th>15<td>97<tr><th>16<td>93<tr><th>17<td>80<tr><th>18<td>57<tr><th>19<td>70</table><h4 id=利用-pd-util-testing-rands-随机生成指定位数的字符串><a title="利用 pd.util.testing.rands() 随机生成指定位数的字符串" class=headerlink href=#利用-pd-util-testing-rands-随机生成指定位数的字符串></a>利用 pd.util.testing.rands() 随机生成指定位数的字符串</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line> df[<span class=string>'student'</span>] = [pd.util.testing.rands(<span class=number>3</span>) <span class=keyword>for</span> i <span class=keyword>in</span> <span class=built_in>range</span>(<span class=number>20</span>)]</span><br><span class=line></span><br><span class=line>df</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>score<th>student<tbody><tr><th>0<td>95<td>PqQ<tr><th>1<td>75<td>ds2<tr><th>2<td>43<td>iUV<tr><th>3<td>49<td>JjY<tr><th>4<td>26<td>FK3<tr><th>5<td>95<td>b9b<tr><th>6<td>28<td>DyV<tr><th>7<td>55<td>103<tr><th>8<td>93<td>RUC<tr><th>9<td>97<td>VqI<tr><th>10<td>91<td>sjo<tr><th>11<td>46<td>cCl<tr><th>12<td>39<td>TeO<tr><th>13<td>88<td>xap<tr><th>14<td>32<td>GfG<tr><th>15<td>97<td>FNg<tr><th>16<td>93<td>pk0<tr><th>17<td>80<td>ziG<tr><th>18<td>57<td>5k0<tr><th>19<td>70<td>ozP</table><h4 id=通过-pd-cut-的-labels-参数，对数据进行分类打标签><a title="通过 pd.cut() 的 labels 参数，对数据进行分类打标签" class=headerlink href=#通过-pd-cut-的-labels-参数，对数据进行分类打标签></a>通过 pd.cut() 的 labels 参数，对数据进行分类打标签</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df[<span class=string>'Categories'</span>] = pd.cut(df[<span class=string>'score'</span>], bins, labels=[<span class=string>'Low'</span>, <span class=string>'OK'</span>, <span class=string>'Good'</span>, <span class=string>'Great'</span>])</span><br><span class=line></span><br><span class=line>df</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>score<th>student<th>Categories<tbody><tr><th>0<td>95<td>PqQ<td>Great<tr><th>1<td>75<td>ds2<td>Good<tr><th>2<td>43<td>iUV<td>Low<tr><th>3<td>49<td>JjY<td>Low<tr><th>4<td>26<td>FK3<td>Low<tr><th>5<td>95<td>b9b<td>Great<tr><th>6<td>28<td>DyV<td>Low<tr><th>7<td>55<td>103<td>Low<tr><th>8<td>93<td>RUC<td>Great<tr><th>9<td>97<td>VqI<td>Great<tr><th>10<td>91<td>sjo<td>Great<tr><th>11<td>46<td>cCl<td>Low<tr><th>12<td>39<td>TeO<td>Low<tr><th>13<td>88<td>xap<td>Great<tr><th>14<td>32<td>GfG<td>Low<tr><th>15<td>97<td>FNg<td>Great<tr><th>16<td>93<td>pk0<td>Great<tr><th>17<td>80<td>ziG<td>Good<tr><th>18<td>57<td>5k0<td>Low<tr><th>19<td>70<td>ozP<td>OK</table><h3 id=数据分组技术GroupBy><a class=headerlink href=#数据分组技术GroupBy title=数据分组技术GroupBy></a>数据分组技术GroupBy</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line> df = pd.read_csv(<span class=string>'city_weather.csv'</span>)</span><br><span class=line></span><br><span class=line>df.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>date<th>city<th>temperature<th>wind<tbody><tr><th>0<td>03/01/2016<td>BJ<td>8<td>5<tr><th>1<td>17/01/2016<td>BJ<td>12<td>2<tr><th>2<td>31/01/2016<td>BJ<td>19<td>2<tr><th>3<td>14/02/2016<td>BJ<td>-3<td>3<tr><th>4<td>28/02/2016<td>BJ<td>19<td>2</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>g = df.groupby(df[<span class=string>'city'</span>])</span><br><span class=line></span><br><span class=line>g</span><br></pre></table></figure><blockquote><p>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x119b0d6d8></blockquote><h4 id=获取分组内容><a class=headerlink href=#获取分组内容 title=获取分组内容></a>获取分组内容</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>g.groups</span><br><span class=line></span><br><span class=line>df_bj = g.get_group(<span class=string>'BJ'</span>)</span><br><span class=line></span><br><span class=line>df_bj</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>date<th>city<th>temperature<th>wind<tbody><tr><th>0<td>03/01/2016<td>BJ<td>8<td>5<tr><th>1<td>17/01/2016<td>BJ<td>12<td>2<tr><th>2<td>31/01/2016<td>BJ<td>19<td>2<tr><th>3<td>14/02/2016<td>BJ<td>-3<td>3<tr><th>4<td>28/02/2016<td>BJ<td>19<td>2<tr><th>5<td>13/03/2016<td>BJ<td>5<td>3</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df_bj.mean()</span><br></pre></table></figure><blockquote><p>temperature 10.000000<br>wind 2.833333<br>dtype: float64</blockquote><h4 id=对分组取平均值><a class=headerlink href=#对分组取平均值 title=对分组取平均值></a>对分组取平均值</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>g.mean()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>temperature<th>wind<tr><th>city<th><th><tbody><tr><th>BJ<td>10.000<td>2.833333<tr><th>GZ<td>8.750<td>4.000000<tr><th>SH<td>4.625<td>3.625000<tr><th>SZ<td>5.000<td>2.500000</table><h4 id=对分组取最小值><a class=headerlink href=#对分组取最小值 title=对分组取最小值></a>对分组取最小值</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>g.<span class=built_in>min</span>()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>date<th>temperature<th>wind<tr><th>city<th><th><th><tbody><tr><th>BJ<td>03/01/2016<td>-3<td>2<tr><th>GZ<td>14/08/2016<td>-1<td>2<tr><th>SH<td>03/07/2016<td>-10<td>2<tr><th>SZ<td>11/09/2016<td>-10<td>1</table><h4 id=groupby对象-list-dict><a title="groupby对象 => list => dict" class=headerlink href=#groupby对象-list-dict></a>groupby对象 => list => dict</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>dict</span>(<span class=built_in>list</span>(g))[<span class=string>'BJ'</span>]</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>date<th>city<th>temperature<th>wind<tbody><tr><th>0<td>03/01/2016<td>BJ<td>8<td>5<tr><th>1<td>17/01/2016<td>BJ<td>12<td>2<tr><th>2<td>31/01/2016<td>BJ<td>19<td>2<tr><th>3<td>14/02/2016<td>BJ<td>-3<td>3<tr><th>4<td>28/02/2016<td>BJ<td>19<td>2<tr><th>5<td>13/03/2016<td>BJ<td>5<td>3</table><h4 id=for循环遍历groupby变量><a class=headerlink href=#for循环遍历groupby变量 title=for循环遍历groupby变量></a>for循环遍历groupby变量</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>for</span> name, group_df <span class=keyword>in</span> g:</span><br><span class=line>    <span class=built_in>print</span>(name)</span><br><span class=line>    <span class=built_in>print</span>(group_df)</span><br></pre></table></figure><blockquote><p>BJ<br> date city temperature wind<br>0 03/01/2016 BJ 8 5<br>1 17/01/2016 BJ 12 2<br>2 31/01/2016 BJ 19 2<br>3 14/02/2016 BJ -3 3<br>4 28/02/2016 BJ 19 2<br>5 13/03/2016 BJ 5 3<br>GZ<br> date city temperature wind<br>14 17/07/2016 GZ 10 2<br>15 31/07/2016 GZ -1 5<br>16 14/08/2016 GZ 1 5<br>17 28/08/2016 GZ 25 4<br>SH<br> date city temperature wind<br>6 27/03/2016 SH -4 4<br>7 10/04/2016 SH 19 3<br>8 24/04/2016 SH 20 3<br>9 08/05/2016 SH 17 3<br>10 22/05/2016 SH 4 2<br>11 05/06/2016 SH -10 4<br>12 19/06/2016 SH 0 5<br>13 03/07/2016 SH -9 5<br>SZ<br> date city temperature wind<br>18 11/09/2016 SZ 20 1<br>19 25/09/2016 SZ -10 4</blockquote><h3 id=数据聚合技术Aggregation><a class=headerlink href=#数据聚合技术Aggregation title=数据聚合技术Aggregation></a>数据聚合技术Aggregation</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>df = pd.read_csv(<span class=string>'city_weather.csv'</span>)</span><br><span class=line>g = df.groupby(<span class=string>'city'</span>)</span><br><span class=line></span><br><span class=line>g</span><br></pre></table></figure><blockquote><p>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x11b921cc0></blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>g.<span class=built_in>max</span>()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>date<th>temperature<th>wind<tr><th>city<th><th><th><tbody><tr><th>BJ<td>31/01/2016<td>19<td>5<tr><th>GZ<td>31/07/2016<td>25<td>5<tr><th>SH<td>27/03/2016<td>20<td>5<tr><th>SZ<td>25/09/2016<td>20<td>4</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>g.count()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>date<th>temperature<th>wind<tr><th>city<th><th><th><tbody><tr><th>BJ<td>6<td>6<td>6<tr><th>GZ<td>4<td>4<td>4<tr><th>SH<td>8<td>8<td>8<tr><th>SZ<td>2<td>2<td>2</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>g.describe()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr><th><th colspan=8 halign=left>temperature<th colspan=8 halign=left>wind<tr><th><th>count<th>mean<th>std<th>min<th>25%<th>50%<th>75%<th>max<th>count<th>mean<th>std<th>min<th>25%<th>50%<th>75%<th>max<tr><th>city<th><th><th><th><th><th><th><th><th><th><th><th><th><th><th><th><tbody><tr><th>BJ<td>6.0<td>10.000<td>8.532292<td>-3.0<td>5.75<td>10.0<td>17.25<td>19.0<td>6.0<td>2.833333<td>1.169045<td>2.0<td>2.00<td>2.5<td>3.00<td>5.0<tr><th>GZ<td>4.0<td>8.750<td>11.842719<td>-1.0<td>0.50<td>5.5<td>13.75<td>25.0<td>4.0<td>4.000000<td>1.414214<td>2.0<td>3.50<td>4.5<td>5.00<td>5.0<tr><th>SH<td>8.0<td>4.625<td>12.489281<td>-10.0<td>-5.25<td>2.0<td>17.50<td>20.0<td>8.0<td>3.625000<td>1.060660<td>2.0<td>3.00<td>3.5<td>4.25<td>5.0<tr><th>SZ<td>2.0<td>5.000<td>21.213203<td>-10.0<td>-2.50<td>5.0<td>12.50<td>20.0<td>2.0<td>2.500000<td>2.121320<td>1.0<td>1.75<td>2.5<td>3.25<td>4.0</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>g.agg(<span class=string>'min'</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>date<th>temperature<th>wind<tr><th>city<th><th><th><tbody><tr><th>BJ<td>03/01/2016<td>-3<td>2<tr><th>GZ<td>14/08/2016<td>-1<td>2<tr><th>SH<td>03/07/2016<td>-10<td>2<tr><th>SZ<td>11/09/2016<td>-10<td>1</table><h4 id=自定义聚合函数><a class=headerlink href=#自定义聚合函数 title=自定义聚合函数></a>自定义聚合函数</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=keyword>def</span> <span class="title function_">foo</span>(<span class=params>attr</span>):</span><br><span class=line>    <span class=keyword>return</span> attr.<span class=built_in>max</span>() - attr.<span class=built_in>min</span>()</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>g.agg(foo)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>temperature<th>wind<tr><th>city<th><th><tbody><tr><th>BJ<td>22<td>3<tr><th>GZ<td>26<td>3<tr><th>SH<td>30<td>3<tr><th>SZ<td>30<td>3</table><h4 id=对多个列进行groupby><a class=headerlink href=#对多个列进行groupby title=对多个列进行groupby></a>对多个列进行groupby</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>g_new = df.groupby([<span class=string>'city'</span>,<span class=string>'wind'</span>])</span><br><span class=line></span><br><span class=line>g_new</span><br></pre></table></figure><blockquote><p>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x11ba83208></blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>g_new.groups</span><br></pre></table></figure><blockquote><p>{(‘BJ’, 2): Int64Index([1, 2, 4], dtype=’int64’),<br> (‘BJ’, 3): Int64Index([3, 5], dtype=’int64’),<br> (‘BJ’, 5): Int64Index([0], dtype=’int64’),<br> (‘GZ’, 2): Int64Index([14], dtype=’int64’),<br> (‘GZ’, 4): Int64Index([17], dtype=’int64’),<br> (‘GZ’, 5): Int64Index([15, 16], dtype=’int64’),<br> (‘SH’, 2): Int64Index([10], dtype=’int64’),<br> (‘SH’, 3): Int64Index([7, 8, 9], dtype=’int64’),<br> (‘SH’, 4): Int64Index([6, 11], dtype=’int64’),<br> (‘SH’, 5): Int64Index([12, 13], dtype=’int64’),<br> (‘SZ’, 1): Int64Index([18], dtype=’int64’),<br> (‘SZ’, 4): Int64Index([19], dtype=’int64’)}</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>g_new.get_group((<span class=string>'BJ'</span>,<span class=number>2</span>))</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>date<th>city<th>temperature<th>wind<tbody><tr><th>1<td>17/01/2016<td>BJ<td>12<td>2<tr><th>2<td>31/01/2016<td>BJ<td>19<td>2<tr><th>4<td>28/02/2016<td>BJ<td>19<td>2</table><h4 id=for循环遍历多列groupby变量><a class=headerlink href=#for循环遍历多列groupby变量 title=for循环遍历多列groupby变量></a>for循环遍历多列groupby变量</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>for</span> (name_1, name_2), group <span class=keyword>in</span> g_new:</span><br><span class=line>    <span class=built_in>print</span>(name_1,name_2)</span><br><span class=line>    <span class=built_in>print</span>(group)</span><br></pre></table></figure><blockquote><p>BJ 2<br> date city temperature wind<br>1 17/01/2016 BJ 12 2<br>2 31/01/2016 BJ 19 2<br>4 28/02/2016 BJ 19 2<br>BJ 3<br> date city temperature wind<br>3 14/02/2016 BJ -3 3<br>5 13/03/2016 BJ 5 3<br>BJ 5<br> date city temperature wind<br>0 03/01/2016 BJ 8 5<br>GZ 2<br> date city temperature wind<br>14 17/07/2016 GZ 10 2<br>GZ 4<br> date city temperature wind<br>17 28/08/2016 GZ 25 4<br>GZ 5<br> date city temperature wind<br>15 31/07/2016 GZ -1 5<br>16 14/08/2016 GZ 1 5<br>SH 2<br> date city temperature wind<br>10 22/05/2016 SH 4 2<br>SH 3<br> date city temperature wind<br>7 10/04/2016 SH 19 3<br>8 24/04/2016 SH 20 3<br>9 08/05/2016 SH 17 3<br>SH 4<br> date city temperature wind<br>6 27/03/2016 SH -4 4<br>11 05/06/2016 SH -10 4<br>SH 5<br> date city temperature wind<br>12 19/06/2016 SH 0 5<br>13 03/07/2016 SH -9 5<br>SZ 1<br> date city temperature wind<br>18 11/09/2016 SZ 20 1<br>SZ 4<br> date city temperature wind<br>19 25/09/2016 SZ -10 4</blockquote><h3 id=透视表><a class=headerlink href=#透视表 title=透视表></a>透视表</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>df = pd.read_excel(<span class=string>'sales-funnel.xlsx'</span>)</span><br><span class=line></span><br><span class=line>df</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>Account<th>Name<th>Rep<th>Manager<th>Product<th>Quantity<th>Price<th>Status<tbody><tr><th>0<td>714466<td>Trantow-Barrows<td>Craig Booker<td>Debra Henley<td>CPU<td>1<td>30000<td>presented<tr><th>1<td>714466<td>Trantow-Barrows<td>Craig Booker<td>Debra Henley<td>Software<td>1<td>10000<td>presented<tr><th>2<td>714466<td>Trantow-Barrows<td>Craig Booker<td>Debra Henley<td>Maintenance<td>2<td>5000<td>pending<tr><th>3<td>737550<td>Fritsch, Russel and Anderson<td>Craig Booker<td>Debra Henley<td>CPU<td>1<td>35000<td>declined<tr><th>4<td>146832<td>Kiehn-Spinka<td>Daniel Hilton<td>Debra Henley<td>CPU<td>2<td>65000<td>won<tr><th>5<td>218895<td>Kulas Inc<td>Daniel Hilton<td>Debra Henley<td>CPU<td>2<td>40000<td>pending<tr><th>6<td>218895<td>Kulas Inc<td>Daniel Hilton<td>Debra Henley<td>Software<td>1<td>10000<td>presented<tr><th>7<td>412290<td>Jerde-Hilpert<td>John Smith<td>Debra Henley<td>Maintenance<td>2<td>5000<td>pending<tr><th>8<td>740150<td>Barton LLC<td>John Smith<td>Debra Henley<td>CPU<td>1<td>35000<td>declined<tr><th>9<td>141962<td>Herman LLC<td>Cedric Moss<td>Fred Anderson<td>CPU<td>2<td>65000<td>won<tr><th>10<td>163416<td>Purdy-Kunde<td>Cedric Moss<td>Fred Anderson<td>CPU<td>1<td>30000<td>presented<tr><th>11<td>239344<td>Stokes LLC<td>Cedric Moss<td>Fred Anderson<td>Maintenance<td>1<td>5000<td>pending<tr><th>12<td>239344<td>Stokes LLC<td>Cedric Moss<td>Fred Anderson<td>Software<td>1<td>10000<td>presented<tr><th>13<td>307599<td>Kassulke, Ondricka and Metz<td>Wendy Yule<td>Fred Anderson<td>Maintenance<td>3<td>7000<td>won<tr><th>14<td>688981<td>Keeling LLC<td>Wendy Yule<td>Fred Anderson<td>CPU<td>5<td>100000<td>won<tr><th>15<td>729833<td>Koepp Ltd<td>Wendy Yule<td>Fred Anderson<td>CPU<td>2<td>65000<td>declined<tr><th>16<td>729833<td>Koepp Ltd<td>Wendy Yule<td>Fred Anderson<td>Monitor<td>2<td>5000<td>presented</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.size</span><br></pre></table></figure><blockquote><p>136</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=built_in>len</span>(df)</span><br></pre></table></figure><blockquote><p>17</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.pivot_table(df, index=[<span class=string>'Name'</span>,<span class=string>'Rep'</span>,<span class=string>'Manager'</span>])</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th><th><th>Account<th>Price<th>Quantity<tr><th>Name<th>Rep<th>Manager<th><th><th><tbody><tr><th>Barton LLC<th>John Smith<th>Debra Henley<td>740150<td>35000<td>1.000000<tr><th>Fritsch, Russel and Anderson<th>Craig Booker<th>Debra Henley<td>737550<td>35000<td>1.000000<tr><th>Herman LLC<th>Cedric Moss<th>Fred Anderson<td>141962<td>65000<td>2.000000<tr><th>Jerde-Hilpert<th>John Smith<th>Debra Henley<td>412290<td>5000<td>2.000000<tr><th>Kassulke, Ondricka and Metz<th>Wendy Yule<th>Fred Anderson<td>307599<td>7000<td>3.000000<tr><th>Keeling LLC<th>Wendy Yule<th>Fred Anderson<td>688981<td>100000<td>5.000000<tr><th>Kiehn-Spinka<th>Daniel Hilton<th>Debra Henley<td>146832<td>65000<td>2.000000<tr><th>Koepp Ltd<th>Wendy Yule<th>Fred Anderson<td>729833<td>35000<td>2.000000<tr><th>Kulas Inc<th>Daniel Hilton<th>Debra Henley<td>218895<td>25000<td>1.500000<tr><th>Purdy-Kunde<th>Cedric Moss<th>Fred Anderson<td>163416<td>30000<td>1.000000<tr><th>Stokes LLC<th>Cedric Moss<th>Fred Anderson<td>239344<td>7500<td>1.000000<tr><th>Trantow-Barrows<th>Craig Booker<th>Debra Henley<td>714466<td>15000<td>1.333333</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.pivot_table(df, index=[<span class=string>'Manager'</span>,<span class=string>'Rep'</span>], values=[<span class=string>'Price'</span>, <span class=string>'Quantity'</span>], aggfunc=<span class=string>'sum'</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th><th>Price<th>Quantity<tr><th>Manager<th>Rep<th><th><tbody><tr><th rowspan=3 valign=top>Debra Henley<th>Craig Booker<td>80000<td>5<tr><th>Daniel Hilton<td>115000<td>5<tr><th>John Smith<td>40000<td>3<tr><th rowspan=2 valign=top>Fred Anderson<th>Cedric Moss<td>110000<td>5<tr><th>Wendy Yule<td>177000<td>12</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>pd.pivot_table(df, index=[<span class=string>'Manager'</span>,<span class=string>'Rep'</span>], values=[<span class=string>'Price'</span>], columns=[<span class=string>'Product'</span>], fill_value=<span class=number>0</span>, aggfunc=<span class=string>'sum'</span>)</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr><th><th><th colspan=4 halign=left>Price<tr><th><th>Product<th>CPU<th>Maintenance<th>Monitor<th>Software<tr><th>Manager<th>Rep<th><th><th><th><tbody><tr><th rowspan=3 valign=top>Debra Henley<th>Craig Booker<td>65000<td>5000<td>0<td>10000<tr><th>Daniel Hilton<td>105000<td>0<td>0<td>10000<tr><th>John Smith<td>35000<td>5000<td>0<td>0<tr><th rowspan=2 valign=top>Fred Anderson<th>Cedric Moss<td>95000<td>5000<td>0<td>10000<tr><th>Wendy Yule<td>165000<td>7000<td>5000<td>0</table><h3 id=分组和透视功能><a class=headerlink href=#分组和透视功能 title=分组和透视功能></a>分组和透视功能</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line></span><br><span class=line>df = pd.read_csv(<span class=string>'usa_flights.csv'</span>)</span><br><span class=line></span><br><span class=line>df.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>flight_date<th>unique_carrier<th>flight_num<th>origin<th>dest<th>arr_delay<th>cancelled<th>distance<th>carrier_delay<th>weather_delay<th>late_aircraft_delay<th>nas_delay<th>security_delay<th>actual_elapsed_time<tbody><tr><th>0<td>02/01/2015 0:00<td>AA<td>1<td>JFK<td>LAX<td>-19.0<td>0<td>2475<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>381.0<tr><th>1<td>03/01/2015 0:00<td>AA<td>1<td>JFK<td>LAX<td>-39.0<td>0<td>2475<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>358.0<tr><th>2<td>04/01/2015 0:00<td>AA<td>1<td>JFK<td>LAX<td>-12.0<td>0<td>2475<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>385.0<tr><th>3<td>05/01/2015 0:00<td>AA<td>1<td>JFK<td>LAX<td>-8.0<td>0<td>2475<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>389.0<tr><th>4<td>06/01/2015 0:00<td>AA<td>1<td>JFK<td>LAX<td>25.0<td>0<td>2475<td>0.0<td>0.0<td>0.0<td>25.0<td>0.0<td>424.0</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.shape</span><br></pre></table></figure><blockquote><p>(201664, 14)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.tail()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>flight_date<th>unique_carrier<th>flight_num<th>origin<th>dest<th>arr_delay<th>cancelled<th>distance<th>carrier_delay<th>weather_delay<th>late_aircraft_delay<th>nas_delay<th>security_delay<th>actual_elapsed_time<tbody><tr><th>201659<td>10/01/2015 0:00<td>NK<td>188<td>OAK<td>LAS<td>-16.0<td>0<td>407<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>77.0<tr><th>201660<td>11/01/2015 0:00<td>NK<td>188<td>OAK<td>LAS<td>-4.0<td>0<td>407<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>87.0<tr><th>201661<td>12/01/2015 0:00<td>NK<td>188<td>OAK<td>LAS<td>-7.0<td>0<td>407<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>82.0<tr><th>201662<td>13/01/2015 0:00<td>NK<td>188<td>OAK<td>LAS<td>23.0<td>0<td>407<td>3.0<td>0.0<td>0.0<td>20.0<td>0.0<td>103.0<tr><th>201663<td>14/01/2015 0:00<td>NK<td>188<td>OAK<td>LAS<td>-7.0<td>0<td>407<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>82.0</table><h4 id=获取延误时间Top-10的航班><a title="获取延误时间Top 10的航班" class=headerlink href=#获取延误时间Top-10的航班></a>获取延误时间Top 10的航班</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.sort_values(<span class=string>'arr_delay'</span>, ascending=<span class=literal>False</span>)[:<span class=number>10</span>]</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>flight_date<th>unique_carrier<th>flight_num<th>origin<th>dest<th>arr_delay<th>cancelled<th>distance<th>carrier_delay<th>weather_delay<th>late_aircraft_delay<th>nas_delay<th>security_delay<th>actual_elapsed_time<tbody><tr><th>11073<td>11/01/2015 0:00<td>AA<td>1595<td>AUS<td>DFW<td>1444.0<td>0<td>190<td>1444.0<td>0.0<td>0.0<td>0.0<td>0.0<td>59.0<tr><th>10214<td>13/01/2015 0:00<td>AA<td>1487<td>OMA<td>DFW<td>1392.0<td>0<td>583<td>1392.0<td>0.0<td>0.0<td>0.0<td>0.0<td>117.0<tr><th>12430<td>03/01/2015 0:00<td>AA<td>1677<td>MEM<td>DFW<td>1384.0<td>0<td>432<td>1380.0<td>0.0<td>0.0<td>4.0<td>0.0<td>104.0<tr><th>8443<td>04/01/2015 0:00<td>AA<td>1279<td>OMA<td>DFW<td>1237.0<td>0<td>583<td>1222.0<td>0.0<td>15.0<td>0.0<td>0.0<td>102.0<tr><th>10328<td>05/01/2015 0:00<td>AA<td>1495<td>EGE<td>DFW<td>1187.0<td>0<td>721<td>1019.0<td>0.0<td>168.0<td>0.0<td>0.0<td>127.0<tr><th>36570<td>04/01/2015 0:00<td>DL<td>1435<td>MIA<td>MSP<td>1174.0<td>0<td>1501<td>1174.0<td>0.0<td>0.0<td>0.0<td>0.0<td>231.0<tr><th>36495<td>04/01/2015 0:00<td>DL<td>1367<td>ROC<td>ATL<td>1138.0<td>0<td>749<td>1112.0<td>0.0<td>0.0<td>26.0<td>0.0<td>171.0<tr><th>59072<td>14/01/2015 0:00<td>DL<td>1687<td>SAN<td>MSP<td>1084.0<td>0<td>1532<td>1070.0<td>0.0<td>0.0<td>14.0<td>0.0<td>240.0<tr><th>32173<td>05/01/2015 0:00<td>AA<td>970<td>LAS<td>LAX<td>1042.0<td>0<td>236<td>1033.0<td>0.0<td>9.0<td>0.0<td>0.0<td>66.0<tr><th>56488<td>12/01/2015 0:00<td>DL<td>2117<td>ATL<td>COS<td>1016.0<td>0<td>1184<td>1016.0<td>0.0<td>0.0<td>0.0<td>0.0<td>193.0</table><h4 id=计算延误和没有延误所占比例><a class=headerlink href=#计算延误和没有延误所占比例 title=计算延误和没有延误所占比例></a>计算延误和没有延误所占比例</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df[<span class=string>'cancelled'</span>].value_counts()</span><br></pre></table></figure><blockquote><p>0 196873<br>1 4791<br>Name: cancelled, dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df[<span class=string>'delayed'</span>] = df[<span class=string>'arr_delay'</span>].apply(<span class=keyword>lambda</span> x:x><span class=number>0</span>)</span><br><span class=line></span><br><span class=line>df.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>flight_date<th>unique_carrier<th>flight_num<th>origin<th>dest<th>arr_delay<th>cancelled<th>distance<th>carrier_delay<th>weather_delay<th>late_aircraft_delay<th>nas_delay<th>security_delay<th>actual_elapsed_time<th>delayed<tbody><tr><th>0<td>02/01/2015 0:00<td>AA<td>1<td>JFK<td>LAX<td>-19.0<td>0<td>2475<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>381.0<td>False<tr><th>1<td>03/01/2015 0:00<td>AA<td>1<td>JFK<td>LAX<td>-39.0<td>0<td>2475<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>358.0<td>False<tr><th>2<td>04/01/2015 0:00<td>AA<td>1<td>JFK<td>LAX<td>-12.0<td>0<td>2475<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>385.0<td>False<tr><th>3<td>05/01/2015 0:00<td>AA<td>1<td>JFK<td>LAX<td>-8.0<td>0<td>2475<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<td>389.0<td>False<tr><th>4<td>06/01/2015 0:00<td>AA<td>1<td>JFK<td>LAX<td>25.0<td>0<td>2475<td>0.0<td>0.0<td>0.0<td>25.0<td>0.0<td>424.0<td>True</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>delay_data = df[<span class=string>'delayed'</span>].value_counts()</span><br><span class=line></span><br><span class=line>delay_data</span><br></pre></table></figure><blockquote><p>False 103037<br>True 98627<br>Name: delayed, dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>delay_data[<span class=number>1</span>]/(delay_data[<span class=number>0</span>] + delay_data[<span class=number>1</span>])</span><br></pre></table></figure><blockquote><p>0.4890659711202793</blockquote><h4 id=每个航空公司延误情况><a class=headerlink href=#每个航空公司延误情况 title=每个航空公司延误情况></a>每个航空公司延误情况</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>delay_group = df.groupby([<span class=string>'unique_carrier'</span>,<span class=string>'delayed'</span>])</span><br><span class=line></span><br><span class=line>delay_group</span><br></pre></table></figure><blockquote><p>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x118b616d8></blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>delay_group.size()</span><br></pre></table></figure><blockquote><p>unique_carrier delayed<br>AA False 8912<br> True 9841<br>AS False 3527<br> True 2104<br>B6 False 4832<br> True 4401<br>DL False 17719<br> True 9803<br>EV False 10596<br> True 11371<br>F9 False 1103<br> True 1848<br>HA False 1351<br> True 1354<br>MQ False 4692<br> True 8060<br>NK False 1550<br> True 2133<br>OO False 9977<br> True 10804<br>UA False 7885<br> True 8624<br>US False 7850<br> True 6353<br>VX False 1254<br> True 781<br>WN False 21789<br> True 21150<br>dtype: int64</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>df_delay = delay_group.size().unstack()</span><br><span class=line></span><br><span class=line>df_delay</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th>delayed<th>False<th>True<tr><th>unique_carrier<th><th><tbody><tr><th>AA<td>8912<td>9841<tr><th>AS<td>3527<td>2104<tr><th>B6<td>4832<td>4401<tr><th>DL<td>17719<td>9803<tr><th>EV<td>10596<td>11371<tr><th>F9<td>1103<td>1848<tr><th>HA<td>1351<td>1354<tr><th>MQ<td>4692<td>8060<tr><th>NK<td>1550<td>2133<tr><th>OO<td>9977<td>10804<tr><th>UA<td>7885<td>8624<tr><th>US<td>7850<td>6353<tr><th>VX<td>1254<td>781<tr><th>WN<td>21789<td>21150</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>df_delay.plot(kind=<span class=string>'barh'</span>,stacked=<span class=literal>True</span>,figsize=[<span class=number>16</span>,<span class=number>6</span>],colormap=<span class=string>'winter'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xbf218ohj30qd0a1aa2.jpg><h4 id=透视表-1><a class=headerlink href=#透视表-1 title=透视表></a>透视表</h4><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>flight_by_carrier = df.pivot_table(index=[<span class=string>'flight_date'</span>],columns=[<span class=string>'unique_carrier'</span>],values=[<span class=string>'flight_num'</span>],aggfunc=<span class=string>'count'</span>)</span><br><span class=line></span><br><span class=line>flight_by_carrier.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr><th><th colspan=14 halign=left>flight_num<tr><th>unique_carrier<th>AA<th>AS<th>B6<th>DL<th>EV<th>F9<th>HA<th>MQ<th>NK<th>OO<th>UA<th>US<th>VX<th>WN<tr><th>flight_date<th><th><th><th><th><th><th><th><th><th><th><th><th><th><tbody><tr><th>02/01/2015 0:00<td>1545<td>477<td>759<td>2271<td>1824<td>254<td>224<td>1046<td>287<td>1763<td>1420<td>1177<td>176<td>3518<tr><th>03/01/2015 0:00<td>1453<td>449<td>711<td>2031<td>1744<td>192<td>202<td>937<td>285<td>1681<td>1233<td>1028<td>160<td>3328<tr><th>04/01/2015 0:00<td>1534<td>458<td>759<td>2258<td>1833<td>249<td>206<td>1027<td>284<td>1731<td>1283<td>1158<td>169<td>3403<tr><th>05/01/2015 0:00<td>1532<td>433<td>754<td>2212<td>1811<td>264<td>209<td>1039<td>288<td>1737<td>1432<td>1157<td>174<td>3506<tr><th>06/01/2015 0:00<td>1400<td>415<td>692<td>2054<td>1686<td>249<td>202<td>966<td>279<td>1527<td>1294<td>1003<td>152<td>3396</table><h1 id=Matplotlib><a class=headerlink href=#Matplotlib title=Matplotlib></a>Matplotlib</h1><h2 id=简单绘图之plot><a class=headerlink href=#简单绘图之plot title=简单绘图之plot></a>简单绘图之plot</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>a = [<span class=number>1</span>,<span class=number>2</span>,<span class=number>3</span>]</span><br><span class=line>plt.plot(a)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhegh6x8j30am070dfu.jpg><h3 id=plt-show-开始绘图><a title="plt.show() 开始绘图" class=headerlink href=#plt-show-开始绘图></a>plt.show() 开始绘图</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>plt.show()</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>b = [<span class=number>4</span>,<span class=number>5</span>,<span class=number>6</span>]</span><br><span class=line>plt.plot(a,b)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhewesccj30am070aa2.jpg><h3 id=魔法命令，可直接显示图像><a class=headerlink href=#魔法命令，可直接显示图像 title=魔法命令，可直接显示图像></a>魔法命令，可直接显示图像</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>%matplotlib inline</span><br></pre></table></figure><h3 id=显示运行时间><a class=headerlink href=#显示运行时间 title=显示运行时间></a>显示运行时间</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>%timeit np.arange(<span class=number>10</span>)</span><br></pre></table></figure><blockquote><p>594 ns ± 9.52 ns per loop (mean ± std. dev. of 7 runs, 1000000 loops each)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>plt.plot(a,b,<span class=string>'*'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhfz5yuij30am070mx1.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>plt.plot(a,b,<span class=string>'r--'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhg8wtfbj30am070q2w.jpg><h3 id=一张图中画多条线><a class=headerlink href=#一张图中画多条线 title=一张图中画多条线></a>一张图中画多条线</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>c = [<span class=number>10</span>,<span class=number>8</span>,<span class=number>6</span>]</span><br><span class=line>d = [<span class=number>1</span>,<span class=number>8</span>,<span class=number>3</span>]</span><br><span class=line></span><br><span class=line>plt.plot(a,b,<span class=string>'r--'</span>,c,d,<span class=string>'b*'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhghtdabj30a6070a9w.jpg><h3 id=画三角函数，并设置label，label，title><a class=headerlink href=#画三角函数，并设置label，label，title title=画三角函数，并设置label，label，title></a>画三角函数，并设置label，label，title</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>t = np.arange(<span class=number>0.0</span>,<span class=number>2.0</span>,<span class=number>0.1</span>)</span><br><span class=line>t.size</span><br></pre></table></figure><blockquote><p>20</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>s = np.sin(t * np.pi)</span><br><span class=line>s.size</span><br></pre></table></figure><blockquote><p>20</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s</span><br></pre></table></figure><blockquote><p>array([ 0.00000000e+00, 3.09016994e-01, 5.87785252e-01, 8.09016994e-01,<br> 9.51056516e-01, 1.00000000e+00, 9.51056516e-01, 8.09016994e-01,<br> 5.87785252e-01, 3.09016994e-01, 1.22464680e-16, -3.09016994e-01,<br> -5.87785252e-01, -8.09016994e-01, -9.51056516e-01, -1.00000000e+00,<br> -9.51056516e-01, -8.09016994e-01, -5.87785252e-01, -3.09016994e-01])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line>plt.plot(t,s,<span class=string>'r--'</span>,label=<span class=string>'aaaa'</span>)</span><br><span class=line>plt.plot(t*<span class=number>2</span>,s,<span class=string>'--'</span>,label=<span class=string>'bbbb'</span>)</span><br><span class=line>plt.xlabel(<span class=string>'this is x'</span>)</span><br><span class=line>plt.ylabel(<span class=string>'this is y'</span>)</span><br><span class=line>plt.title(<span class=string>'this is a demo'</span>)</span><br><span class=line>plt.legend()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4xhh36w0ej30b807q0sy.jpg><h2 id=简单绘图之subplot><a class=headerlink href=#简单绘图之subplot title=简单绘图之subplot></a>简单绘图之subplot</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>x = np.linspace(<span class=number>0</span>,<span class=number>5</span>)</span><br><span class=line>y1 = np.sin(np.pi*x)</span><br><span class=line>y2 = np.sin(np.pi*x*<span class=number>2</span>)</span><br><span class=line></span><br><span class=line>plt.plot(x, y1, <span class=string>'b--'</span>, label=<span class=string>'sin(pi*x)'</span>)</span><br><span class=line>plt.ylabel(<span class=string>'y1 value'</span>)</span><br><span class=line>plt.plot(x, y2, <span class=string>'r--'</span>, label=<span class=string>'sin(pi*2x)'</span>)</span><br><span class=line>plt.ylabel(<span class=string>'y2 value'</span>)</span><br><span class=line>plt.xlabel(<span class=string>'x value'</span>)</span><br><span class=line>plt.title(<span class=string>'this is x-y value'</span>)</span><br><span class=line>plt.legend()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yelaitlwj30b807qgm5.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line>plt.subplot(<span class=number>2</span>,<span class=number>2</span>,<span class=number>1</span>)</span><br><span class=line>plt.plot(x, y1, <span class=string>'b--'</span>)</span><br><span class=line>plt.ylabel(<span class=string>'y1'</span>)</span><br><span class=line>plt.subplot(<span class=number>2</span>,<span class=number>2</span>,<span class=number>2</span>)</span><br><span class=line>plt.plot(x, y2, <span class=string>'r--'</span>)</span><br><span class=line>plt.ylabel(<span class=string>'y2'</span>)</span><br><span class=line>plt.xlabel(<span class=string>'x'</span>)</span><br><span class=line>plt.subplot(<span class=number>2</span>,<span class=number>2</span>,<span class=number>3</span>)</span><br><span class=line>plt.plot(x, y1, <span class=string>'r*'</span>)</span><br><span class=line>plt.subplot(<span class=number>2</span>,<span class=number>2</span>,<span class=number>4</span>)</span><br><span class=line>plt.plot(x, y1, <span class=string>'b*'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yemenwv3j30as070q33.jpg><h3 id=subplots><a class=headerlink href=#subplots title=subplots></a>subplots</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>figure, ax = plt.subplots(<span class=number>2</span>,<span class=number>2</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yen8mb10j30aq0703ye.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>ax[<span class=number>0</span>][<span class=number>0</span>].plot(x,y1)</span><br><span class=line>ax[<span class=number>0</span>][<span class=number>1</span>].plot(x,y2)</span><br><span class=line></span><br><span class=line>figure</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yenrlxtaj30aq070gls.jpg><h2 id=Series-1><a class=headerlink href=#Series-1 title=Series></a>Series</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>s1 = Series(np.random.randn(<span class=number>100</span>).cumsum())</span><br><span class=line>s2 = Series(np.random.randn(<span class=number>100</span>).cumsum())</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.plot(style=<span class=string>'--'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yf9j3j0cj30au070mxb.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>s1.plot(kind=<span class=string>'line'</span>, grid=<span class=literal>True</span>, label=<span class=string>'S1'</span>, title=<span class=string>'this is Series'</span>)</span><br><span class=line>s2.plot(label=<span class=string>'S2'</span>, style=<span class=string>'--'</span>)</span><br><span class=line>plt.legend()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yf9rjb34j30ak07c0sz.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>figure, ax = plt.subplots(<span class=number>2</span>,<span class=number>1</span>)</span><br><span class=line></span><br><span class=line>figure</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yf9yg5xjj30aq070q2t.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>s1[<span class=number>0</span>:<span class=number>10</span>].plot(ax=ax[<span class=number>0</span>],label=<span class=string>'S1'</span>,kind=<span class=string>'bar'</span>)</span><br><span class=line>s2.plot(ax=ax[<span class=number>1</span>],label=<span class=string>'S2'</span>)</span><br><span class=line>figure</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfac4xyyj30ac0700ss.jpg><h2 id=DataFrame-1><a class=headerlink href=#DataFrame-1 title=DataFrame></a>DataFrame</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>df = DataFrame(</span><br><span class=line>    np.random.randint(<span class=number>1</span>,<span class=number>10</span>,<span class=number>40</span>).reshape(<span class=number>10</span>,<span class=number>4</span>),</span><br><span class=line>    columns=[<span class=string>'A'</span>,<span class=string>'B'</span>,<span class=string>'C'</span>,<span class=string>'D'</span>]</span><br><span class=line>)</span><br><span class=line></span><br><span class=line>df</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>A<th>B<th>C<th>D<tbody><tr><th>0<td>2<td>1<td>9<td>8<tr><th>1<td>2<td>3<td>9<td>1<tr><th>2<td>2<td>5<td>9<td>2<tr><th>3<td>4<td>1<td>8<td>6<tr><th>4<td>1<td>9<td>8<td>9<tr><th>5<td>5<td>4<td>6<td>5<tr><th>6<td>7<td>2<td>1<td>8<tr><th>7<td>1<td>4<td>1<td>8<tr><th>8<td>8<td>1<td>2<td>9<tr><th>9<td>2<td>4<td>5<td>4</table><h3 id=横向柱状图><a class=headerlink href=#横向柱状图 title=横向柱状图></a>横向柱状图</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.plot(kind=<span class=string>'barh'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfqyjs4nj30a6070glg.jpg><h3 id=Stacked柱状图><a class=headerlink href=#Stacked柱状图 title=Stacked柱状图></a>Stacked柱状图</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.plot(kind=<span class=string>'bar'</span>,stacked=<span class=literal>True</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfrf92i6j30ac06wjr8.jpg><h3 id=区域填充><a class=headerlink href=#区域填充 title=区域填充></a>区域填充</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.plot(kind=<span class=string>'area'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfro7syej30ac070jrp.jpg><h3 id=指定index画图><a class=headerlink href=#指定index画图 title=指定index画图></a>指定index画图</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>a = df.iloc[<span class=number>5</span>]</span><br><span class=line></span><br><span class=line>a.plot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfrzqqjuj30am07074c.jpg><h3 id=按index画图（方法1）><a class=headerlink href=#按index画图（方法1） title=按index画图（方法1）></a>按index画图（方法1）</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line><span class=keyword>for</span> i <span class=keyword>in</span> df.index:</span><br><span class=line>    df.iloc[i].plot(label=<span class=built_in>str</span>(i))</span><br><span class=line></span><br><span class=line>plt.legend()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfsb5i54j30a60700tt.jpg><h3 id=按index画图（方法2）><a class=headerlink href=#按index画图（方法2） title=按index画图（方法2）></a>按index画图（方法2）</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.T.plot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfskyihkj30a60700tt.jpg><h3 id=按column画图><a class=headerlink href=#按column画图 title=按column画图></a>按column画图</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df[<span class=string>'A'</span>].plot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yfsuskelj30a6070wek.jpg><h2 id=直方图><a class=headerlink href=#直方图 title=直方图></a>直方图</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>s = Series(np.random.randn(<span class=number>1000</span>))</span><br><span class=line></span><br><span class=line>plt.hist(s, rwidth=<span class=number>0.9</span>)</span><br></pre></table></figure><blockquote><p>array([ 1., 9., 42., 129., 243., 257., 198., 93., 24., 4.]),<br> array([-3.75513064, -3.04405274, -2.33297485, -1.62189695, -0.91081905,<br> -0.19974115, 0.51133675, 1.22241465, 1.93349255, 2.64457045,<br> 3.35564835])</blockquote><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yikxl7htj30ai070q2r.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>plt.hist(s, rwidth=<span class=number>0.9</span>, bins=<span class=number>20</span>, color=<span class=string>'r'</span>)</span><br></pre></table></figure><blockquote><p>array([ 1., 0., 1., 8., 15., 27., 46., 83., 103., 140., 143.,<br> 114., 120., 78., 61., 32., 15., 9., 3., 1.]),<br> array([-3.75513064, -3.39959169, -3.04405274, -2.68851379, -2.33297485,<br> -1.9774359 , -1.62189695, -1.266358 , -0.91081905, -0.5552801 ,<br> -0.19974115, 0.1557978 , 0.51133675, 0.8668757 , 1.22241465,<br> 1.5779536 , 1.93349255, 2.2890315 , 2.64457045, 3.0001094 ,<br> 3.35564835])</blockquote><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yiluvgaij30ai0703yc.jpg><h2 id=密度图><a class=headerlink href=#密度图 title=密度图></a>密度图</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s.plot(kind=<span class=string>'kde'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yim7abzrj30az0700sr.jpg><h1 id=Seaborn><a class=headerlink href=#Seaborn title=Seaborn></a>Seaborn</h1><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yj5sky9bj318y0tke81.jpg><h2 id=散点图><a class=headerlink href=#散点图 title=散点图></a>散点图</h2><h3 id=方法1：matplotlib><a class=headerlink href=#方法1：matplotlib title=方法1：matplotlib></a>方法1：matplotlib</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> seaborn <span class=keyword>as</span> sns</span><br><span class=line></span><br><span class=line>iris = pd.read_csv(<span class=string>'iris.csv'</span>)</span><br><span class=line>iris.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>SepalLength<th>SepalWidth<th>PetalLength<th>PetalWidth<th>Name<tbody><tr><th>0<td>5.1<td>3.5<td>1.4<td>0.2<td>Iris-setosa<tr><th>1<td>4.9<td>3.0<td>1.4<td>0.2<td>Iris-setosa<tr><th>2<td>4.7<td>3.2<td>1.3<td>0.2<td>Iris-setosa<tr><th>3<td>4.6<td>3.1<td>1.5<td>0.2<td>Iris-setosa<tr><th>4<td>5.0<td>3.6<td>1.4<td>0.2<td>Iris-setosa</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>iris.Name.unique()</span><br></pre></table></figure><blockquote><p>array([‘Iris-setosa’, ‘Iris-versicolor’, ‘Iris-virginica’], dtype=object)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>color_map = <span class=built_in>dict</span>(<span class=built_in>zip</span>(iris.Name.unique(),[<span class=string>'blue'</span>,<span class=string>'green'</span>,<span class=string>'red'</span>]))</span><br><span class=line></span><br><span class=line>color_map</span><br></pre></table></figure><blockquote><p>{‘Iris-setosa’: ‘blue’, ‘Iris-versicolor’: ‘green’, ‘Iris-virginica’: ‘red’}</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line><span class=keyword>for</span> species, group <span class=keyword>in</span> iris.groupby(<span class=string>'Name'</span>):</span><br><span class=line>    plt.scatter(group[<span class=string>'PetalLength'</span>], group[<span class=string>'SepalLength'</span>],</span><br><span class=line>               color=color_map[species],</span><br><span class=line>               alpha=<span class=number>0.3</span>, edgecolor=<span class=literal>None</span>,</span><br><span class=line>               label=species)</span><br><span class=line></span><br><span class=line>plt.legend(frameon=<span class=literal>True</span>, title=<span class=string>'Name'</span>)</span><br><span class=line>plt.xlabel(<span class=string>'petalLength'</span>)</span><br><span class=line>plt.ylabel(<span class=string>'sepalLength'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yj58js8jj30at07ejri.jpg><h3 id=方法2：Seaborn><a class=headerlink href=#方法2：Seaborn title=方法2：Seaborn></a>方法2：Seaborn</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.lmplot(<span class=string>'PetalLength'</span>,<span class=string>'SepalLength'</span>, iris, hue=<span class=string>'Name'</span>, fit_reg=<span class=literal>False</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yj5i67ctj30cg09saa6.jpg><h2 id=直方图（matplotlib）><a class=headerlink href=#直方图（matplotlib） title=直方图（matplotlib）></a>直方图（matplotlib）</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>s1 = Series(np.random.randn(<span class=number>1000</span>))</span><br><span class=line>plt.hist(s1)</span><br></pre></table></figure><blockquote><p>(array([ 5., 36., 96., 196., 278., 227., 111., 37., 9., 5.]),<br> array([-3.17567133, -2.48638745, -1.79710358, -1.1078197 , -0.41853582,<br> 0.27074806, 0.96003194, 1.64931581, 2.33859969, 3.02788357,<br> 3.71716745]),<br> &lt;a list of 10 Patch objects>)</blockquote><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yjod9wg1j30ai070mwz.jpg><h2 id=密度图（matplotlib）><a class=headerlink href=#密度图（matplotlib） title=密度图（matplotlib）></a>密度图（matplotlib）</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s1.plot(kind=<span class=string>'kde'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yjoonn2mj30az07074b.jpg><h2 id=直方图（Seaborn）><a class=headerlink href=#直方图（Seaborn） title=直方图（Seaborn）></a>直方图（Seaborn）</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.distplot(s1, hist=<span class=literal>True</span>, kde=<span class=literal>False</span>, rug=<span class=literal>True</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yjox92xfj30ai070jr8.jpg><h2 id=密度图（Seaborn）><a class=headerlink href=#密度图（Seaborn） title=密度图（Seaborn）></a>密度图（Seaborn）</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.kdeplot(s1, shade=<span class=literal>True</span>, color=<span class=string>'r'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yjp687hwj30al0700sq.jpg><h2 id=轴须图（Seaborn）><a class=headerlink href=#轴须图（Seaborn） title=轴须图（Seaborn）></a>轴须图（Seaborn）</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.rugplot(s1)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yjpdm24gj30af0703yc.jpg><h2 id=热力图（Seaborn）><a class=headerlink href=#热力图（Seaborn） title=热力图（Seaborn）></a>热力图（Seaborn）</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> seaborn <span class=keyword>as</span> sns</span><br><span class=line></span><br><span class=line>df = sns.load_dataset(<span class=string>'flights'</span>)</span><br><span class=line></span><br><span class=line>df.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>year<th>month<th>passengers<tbody><tr><th>0<td>1949<td>January<td>112<tr><th>1<td>1949<td>February<td>118<tr><th>2<td>1949<td>March<td>132<tr><th>3<td>1949<td>April<td>129<tr><th>4<td>1949<td>May<td>121</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.shape</span><br></pre></table></figure><blockquote><p>(144, 3)</blockquote><h2 id=生成透视表><a class=headerlink href=#生成透视表 title=生成透视表></a>生成透视表</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>df = df.pivot(index=<span class=string>'month'</span>, columns=<span class=string>'year'</span>, values=<span class=string>'passengers'</span>)</span><br><span class=line>df</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th>year<th>1949<th>1950<th>1951<th>1952<th>1953<th>1954<th>1955<th>1956<th>1957<th>1958<th>1959<th>1960<tr><th>month<th><th><th><th><th><th><th><th><th><th><th><th><tbody><tr><th>January<td>112<td>115<td>145<td>171<td>196<td>204<td>242<td>284<td>315<td>340<td>360<td>417<tr><th>February<td>118<td>126<td>150<td>180<td>196<td>188<td>233<td>277<td>301<td>318<td>342<td>391<tr><th>March<td>132<td>141<td>178<td>193<td>236<td>235<td>267<td>317<td>356<td>362<td>406<td>419<tr><th>April<td>129<td>135<td>163<td>181<td>235<td>227<td>269<td>313<td>348<td>348<td>396<td>461<tr><th>May<td>121<td>125<td>172<td>183<td>229<td>234<td>270<td>318<td>355<td>363<td>420<td>472<tr><th>June<td>135<td>149<td>178<td>218<td>243<td>264<td>315<td>374<td>422<td>435<td>472<td>535<tr><th>July<td>148<td>170<td>199<td>230<td>264<td>302<td>364<td>413<td>465<td>491<td>548<td>622<tr><th>August<td>148<td>170<td>199<td>242<td>272<td>293<td>347<td>405<td>467<td>505<td>559<td>606<tr><th>September<td>136<td>158<td>184<td>209<td>237<td>259<td>312<td>355<td>404<td>404<td>463<td>508<tr><th>October<td>119<td>133<td>162<td>191<td>211<td>229<td>274<td>306<td>347<td>359<td>407<td>461<tr><th>November<td>104<td>114<td>146<td>172<td>180<td>203<td>237<td>271<td>305<td>310<td>362<td>390<tr><th>December<td>118<td>140<td>166<td>194<td>201<td>229<td>278<td>306<td>336<td>337<td>405<td>432</table><h2 id=线形图（Matplotlib）><a class=headerlink href=#线形图（Matplotlib） title=线形图（Matplotlib）></a>线形图（Matplotlib）</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>df.plot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yk99op3bj30ai07edgs.jpg><h2 id=热力图（Seaborn）-1><a class=headerlink href=#热力图（Seaborn）-1 title=热力图（Seaborn）></a>热力图（Seaborn）</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.heatmap(df, annot=<span class=literal>True</span>, fmt=<span class=string>'d'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yk9i6uhwj30bf07t3zu.jpg><h2 id=柱状图（Matplotlib）><a class=headerlink href=#柱状图（Matplotlib） title=柱状图（Matplotlib）></a>柱状图（Matplotlib）</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s.plot(kind=<span class=string>'bar'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yka6fj9dj30ao07ut8l.jpg><h2 id=柱状图（Seaborn）><a class=headerlink href=#柱状图（Seaborn） title=柱状图（Seaborn）></a>柱状图（Seaborn）</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line> s = df.<span class=built_in>sum</span>()</span><br><span class=line></span><br><span class=line>s.index</span><br></pre></table></figure><blockquote><p>Int64Index([1949, 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959,<br> 1960],<br> dtype=’int64’, name=’year’)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>s.values</span><br></pre></table></figure><blockquote><p>array([1520, 1676, 2042, 2364, 2700, 2867, 3408, 3939, 4421, 4572, 5140,<br> 5714])</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.barplot(x=s.index, y=s.values)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yk9z1uh7j30ao07emx1.jpg><h2 id=Seaborn设置图形效果><a class=headerlink href=#Seaborn设置图形效果 title=Seaborn设置图形效果></a>Seaborn设置图形效果</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>x = np.linspace(<span class=number>0</span>,<span class=number>14</span>,<span class=number>100</span>)</span><br><span class=line>y1 = np.sin(x)</span><br><span class=line>y2 = np.sin(x+<span class=number>2</span>)*<span class=number>1.25</span></span><br><span class=line></span><br><span class=line><span class=keyword>def</span> <span class="title function_">sinplot</span>():</span><br><span class=line>    plt.plot(x, y1)</span><br><span class=line>    plt.plot(x, y2)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sinplot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4ylry0uvmj30an070wes.jpg><h3 id=设置Seaborn显示风格><a class=headerlink href=#设置Seaborn显示风格 title=设置Seaborn显示风格></a>设置Seaborn显示风格</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> seaborn <span class=keyword>as</span> sns</span><br><span class=line>style = [<span class=string>'darkgrid'</span>, <span class=string>'dark'</span>, <span class=string>'white'</span>, <span class=string>'whitegrid'</span>, <span class=string>'ticks'</span>]</span><br><span class=line></span><br><span class=line>sns.set_style(style[<span class=number>0</span>])</span><br><span class=line>sinplot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4ylsdcavnj30aj06z3yv.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>sns.set_style(style[<span class=number>3</span>])</span><br><span class=line>sinplot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4ylsjbypwj30aj06zwet.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.axes_style()</span><br></pre></table></figure><blockquote><p>{‘axes.facecolor’: ‘white’,<br> ‘axes.edgecolor’: ‘.8’,<br> ‘axes.grid’: True,<br> ‘axes.axisbelow’: True,<br> ‘axes.labelcolor’: ‘.15’,<br> ‘figure.facecolor’: ‘white’,<br> ‘grid.color’: ‘.8’,<br> ‘grid.linestyle’: ‘-‘,<br> ‘text.color’: ‘.15’,<br> ‘xtick.color’: ‘.15’,<br> ‘ytick.color’: ‘.15’,<br> ‘xtick.direction’: ‘out’,<br> ‘ytick.direction’: ‘out’,<br> ‘lines.solid_capstyle’: ‘round’,<br> ‘patch.edgecolor’: ‘w’,<br> ‘image.cmap’: ‘rocket’,<br> ‘font.family’: [‘sans-serif’],<br> ‘font.sans-serif’: [‘Arial’,<br> ‘DejaVu Sans’,<br> ‘Liberation Sans’,<br> ‘Bitstream Vera Sans’,<br> ‘sans-serif’],<br> ‘patch.force_edgecolor’: True,<br> ‘xtick.bottom’: False,<br> ‘xtick.top’: False,<br> ‘ytick.left’: False,<br> ‘ytick.right’: False,<br> ‘axes.spines.left’: True,<br> ‘axes.spines.bottom’: True,<br> ‘axes.spines.right’: True,<br> ‘axes.spines.top’: True}</blockquote><h3 id=自定义配置><a class=headerlink href=#自定义配置 title=自定义配置></a>自定义配置</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>sns.set_style(style[<span class=number>0</span>],{<span class=string>'grid.color'</span>: <span class=string>'green'</span>})</span><br><span class=line>sinplot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4ylstbmjpj30aj06z74n.jpg><h3 id=清空自定义设置><a class=headerlink href=#清空自定义设置 title=清空自定义设置></a>清空自定义设置</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>sns.<span class=built_in>set</span>()</span><br><span class=line>sinplot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4ylt1ak49j30aq0750t3.jpg><h3 id=plotting-context-set-context><a title="plotting_context() & set_context()" class=headerlink href=#plotting-context-set-context></a>plotting_context() & set_context()</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>context = [<span class=string>'paper'</span>, <span class=string>'notebook'</span>, <span class=string>'talk'</span>, <span class=string>'poster'</span>]</span><br><span class=line></span><br><span class=line>sns.set_context(context[<span class=number>1</span>], rc={<span class=string>'grid.linewidth'</span>: <span class=number>3.0</span>})</span><br><span class=line>sinplot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yltmhfztj30aq075aaf.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>sns.set_context(context[<span class=number>3</span>])</span><br><span class=line>sinplot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4yltsjqshj30b507rmxi.jpg><h3 id=显示context详细设置><a class=headerlink href=#显示context详细设置 title=显示context详细设置></a>显示context详细设置</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.plotting_context()</span><br></pre></table></figure><blockquote><p>{‘font.size’: 24.0,<br> ‘axes.labelsize’: 24.0,<br> ‘axes.titlesize’: 24.0,<br> ‘xtick.labelsize’: 22.0,<br> ‘ytick.labelsize’: 22.0,<br> ‘legend.fontsize’: 22.0,<br> ‘axes.linewidth’: 2.5,<br> ‘grid.linewidth’: 2.0,<br> ‘lines.linewidth’: 3.0,<br> ‘lines.markersize’: 12.0,<br> ‘patch.linewidth’: 2.0,<br> ‘xtick.major.width’: 2.5,<br> ‘ytick.major.width’: 2.5,<br> ‘xtick.minor.width’: 2.0,<br> ‘ytick.minor.width’: 2.0,<br> ‘xtick.major.size’: 12.0,<br> ‘ytick.major.size’: 12.0,<br> ‘xtick.minor.size’: 8.0,<br> ‘ytick.minor.size’: 8.0}</blockquote><h1 id=股票分析><a class=headerlink href=#股票分析 title=股票分析></a>股票分析</h1><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>from</span> pandas <span class=keyword>import</span> Series, DataFrame</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> seaborn <span class=keyword>as</span> sns</span><br><span class=line><span class=keyword>import</span> pandas_datareader <span class=keyword>as</span> pdr</span><br><span class=line><span class=keyword>from</span> datetime <span class=keyword>import</span> datetime</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>alibaba = pdr.get_data_yahoo(<span class=string>'BABA'</span>)</span><br><span class=line></span><br><span class=line>alibaba.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>High<th>Low<th>Open<th>Close<th>Volume<th>Adj Close<tr><th>Date<th><th><th><th><th><th><tbody><tr><th>2014-09-19<td>99.699997<td>89.949997<td>92.699997<td>93.889999<td>271879400<td>93.889999<tr><th>2014-09-22<td>92.949997<td>89.500000<td>92.699997<td>89.889999<td>66657800<td>89.889999<tr><th>2014-09-23<td>90.480003<td>86.620003<td>88.940002<td>87.169998<td>39009800<td>87.169998<tr><th>2014-09-24<td>90.570000<td>87.220001<td>88.470001<td>90.570000<td>32088000<td>90.570000<tr><th>2014-09-25<td>91.500000<td>88.500000<td>91.089996<td>88.919998<td>28598000<td>88.919998</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>alibaba.shape</span><br></pre></table></figure><blockquote><p>(1211, 6)</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>alibaba.tail()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>High<th>Low<th>Open<th>Close<th>Volume<th>Adj Close<tr><th>Date<th><th><th><th><th><th><tbody><tr><th>2019-07-08<td>170.279999<td>168.350006<td>170.089996<td>168.449997<td>16531000<td>168.449997<tr><th>2019-07-09<td>168.979996<td>166.500000<td>167.085007<td>168.800003<td>15782800<td>168.800003<tr><th>2019-07-10<td>171.369995<td>166.860001<td>171.240005<td>166.929993<td>16675600<td>166.929993<tr><th>2019-07-11<td>168.423996<td>165.000000<td>167.559998<td>166.550003<td>14796400<td>166.550003<tr><th>2019-07-12<td>170.199997<td>167.649994<td>168.000000<td>169.070007<td>18093300<td>169.070007</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>alibaba.describe()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>High<th>Low<th>Open<th>Close<th>Volume<th>Adj Close<tbody><tr><th>count<td>1211.000000<td>1211.000000<td>1211.000000<td>1211.000000<td>1.211000e+03<td>1211.000000<tr><th>mean<td>126.715532<td>123.620233<td>125.280824<td>125.175351<td>1.760189e+07<td>125.175351<tr><th>std<td>44.698800<td>43.686183<td>44.263113<td>44.208817<td>1.260813e+07<td>44.208817<tr><th>min<td>58.650002<td>57.200001<td>57.299999<td>57.389999<td>3.775300e+06<td>57.389999<tr><th>25%<td>85.129997<td>83.375000<td>84.594997<td>84.494999<td>1.107115e+07<td>84.494999<tr><th>50%<td>108.820000<td>106.510002<td>107.809998<td>107.830002<td>1.489790e+07<td>107.830002<tr><th>75%<td>173.044998<td>169.508499<td>171.739998<td>171.590004<td>2.063065e+07<td>171.590004<tr><th>max<td>211.699997<td>207.509995<td>209.949997<td>210.860001<td>2.718794e+08<td>210.860001</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>alibaba.info()</span><br></pre></table></figure><blockquote><p>&lt;class ‘pandas.core.frame.DataFrame’><br>DatetimeIndex: 1211 entries, 2014-09-19 to 2019-07-12<br>Data columns (total 6 columns):<br>High 1211 non-null float64<br>Low 1211 non-null float64<br>Open 1211 non-null float64<br>Close 1211 non-null float64<br>Volume 1211 non-null int64<br>Adj Close 1211 non-null float64<br>dtypes: float64(5), int64(1)<br>memory usage: 66.2 KB</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line>start = datetime(<span class=number>2015</span>,<span class=number>9</span>,<span class=number>20</span>)</span><br><span class=line>alibaba = pdr.get_data_yahoo(<span class=string>'BABA'</span>, start=start)</span><br><span class=line>amazon = pdr.get_data_yahoo(<span class=string>'AMZN'</span>, start=start)</span><br><span class=line></span><br><span class=line>alibaba.to_csv(<span class=string>'/Users/kwang/jupyter-projects/BABA.csv'</span>)</span><br><span class=line>amazon.to_csv(<span class=string>'/Users/kwang/jupyter-projects/AMZN.csv'</span>)</span><br><span class=line></span><br><span class=line>alibaba.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>High<th>Low<th>Open<th>Close<th>Volume<th>Adj Close<tr><th>Date<th><th><th><th><th><th><tbody><tr><th>2015-09-21<td>66.400002<td>62.959999<td>65.379997<td>63.900002<td>22355100<td>63.900002<tr><th>2015-09-22<td>63.270000<td>61.580002<td>62.939999<td>61.900002<td>14897900<td>61.900002<tr><th>2015-09-23<td>62.299999<td>59.680000<td>61.959999<td>60.000000<td>22684600<td>60.000000<tr><th>2015-09-24<td>60.340000<td>58.209999<td>59.419998<td>59.919998<td>20645700<td>59.919998<tr><th>2015-09-25<td>60.840000<td>58.919998<td>60.630001<td>59.240002<td>17009100<td>59.240002</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>alibaba[<span class=string>'Adj Close'</span>].plot(legend=<span class=literal>True</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z452wgvcj30ai07c74i.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>alibaba[<span class=string>'Volume'</span>].plot(legend=<span class=literal>True</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z45djxzoj30af07jzkl.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>alibaba[<span class=string>'Adj Close'</span>].plot()</span><br><span class=line>amazon[<span class=string>'Adj Close'</span>].plot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z45jryk7j30ap07cdg0.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>alibaba[<span class=string>'high-low'</span>] = alibaba[<span class=string>'High'</span>] - alibaba[<span class=string>'Low'</span>]</span><br><span class=line></span><br><span class=line>alibaba.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th><th>High<th>Low<th>Open<th>Close<th>Volume<th>Adj Close<th>high-low<tr><th>Date<th><th><th><th><th><th><th><tbody><tr><th>2015-09-21<td>66.400002<td>62.959999<td>65.379997<td>63.900002<td>22355100<td>63.900002<td>3.440002<tr><th>2015-09-22<td>63.270000<td>61.580002<td>62.939999<td>61.900002<td>14897900<td>61.900002<td>1.689999<tr><th>2015-09-23<td>62.299999<td>59.680000<td>61.959999<td>60.000000<td>22684600<td>60.000000<td>2.619999<tr><th>2015-09-24<td>60.340000<td>58.209999<td>59.419998<td>59.919998<td>20645700<td>59.919998<td>2.130001<tr><th>2015-09-25<td>60.840000<td>58.919998<td>60.630001<td>59.240002<td>17009100<td>59.240002<td>1.920002</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>alibaba[<span class=string>'high-low'</span>].plot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z45yq6txj30ac07ct90.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>alibaba[<span class=string>'daily-return'</span>] = alibaba[<span class=string>'Adj Close'</span>].pct_change()</span><br><span class=line></span><br><span class=line>alibaba[<span class=string>'daily-return'</span>].plot(figsize=(<span class=number>20</span>,<span class=number>4</span>),linestyle=<span class=string>'--'</span>,marker=<span class=string>'o'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z4670varj30wp07cwgg.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>alibaba[<span class=string>'daily-return'</span>].plot(kind=<span class=string>'hist'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z46dx3crj30aw0700sl.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.distplot(alibaba[<span class=string>'daily-return'</span>].dropna(),bins=<span class=number>100</span>,color=<span class=string>'purple'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z46kqcfyj30ac07eweh.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line>start = datetime(<span class=number>2015</span>,<span class=number>1</span>,<span class=number>1</span>)</span><br><span class=line>company = [<span class=string>'AAPL'</span>, <span class=string>'GOOG'</span>, <span class=string>'MSFT'</span>, <span class=string>'AMZN'</span>, <span class=string>'FB'</span>]</span><br><span class=line>top_tech_df = pdr.get_data_yahoo(company, start=start)[<span class=string>'Adj Close'</span>]</span><br><span class=line></span><br><span class=line>top_tech_df.to_csv(<span class=string>'/Users/kwang/jupyter-projects/top5.csv'</span>)</span><br><span class=line></span><br><span class=line>top_tech_df.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th>Symbols<th>AAPL<th>AMZN<th>FB<th>GOOG<th>MSFT<tr><th>Date<th><th><th><th><th><tbody><tr><th>2014-12-31<td>102.110046<td>310.350006<td>78.019997<td>524.958740<td>41.982117<tr><th>2015-01-02<td>101.138702<td>308.519989<td>78.449997<td>523.373108<td>42.262299<tr><th>2015-01-05<td>98.289474<td>302.190002<td>77.190002<td>512.463013<td>41.873657<tr><th>2015-01-06<td>98.298729<td>295.290009<td>76.150002<td>500.585632<td>41.259060<tr><th>2015-01-07<td>99.677094<td>298.420013<td>76.150002<td>499.727997<td>41.783279</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>top_tech_dr = top_tech_df.pct_change()</span><br><span class=line></span><br><span class=line>top_tech_dr.head()</span><br></pre></table></figure><table border=1 class=dataframe><thead><tr style="text-align: right;"><th>Symbols<th>AAPL<th>AMZN<th>FB<th>GOOG<th>MSFT<tr><th>Date<th><th><th><th><th><tbody><tr><th>2014-12-31<td>NaN<td>NaN<td>NaN<td>NaN<td>NaN<tr><th>2015-01-02<td>-0.009513<td>-0.005897<td>0.005511<td>-0.003020<td>0.006674<tr><th>2015-01-05<td>-0.028171<td>-0.020517<td>-0.016061<td>-0.020846<td>-0.009196<tr><th>2015-01-06<td>0.000094<td>-0.022833<td>-0.013473<td>-0.023177<td>-0.014677<tr><th>2015-01-07<td>0.014022<td>0.010600<td>0.000000<td>-0.001713<td>0.012706</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>top_tech_df.plot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z47buhxzj30ax07cjrw.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>top_tech_df[[<span class=string>'AAPL'</span>,<span class=string>'FB'</span>,<span class=string>'MSFT'</span>]].plot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z47igumvj30ax07c3z1.jpg><h2 id=散点图-1><a class=headerlink href=#散点图-1 title=散点图></a>散点图</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.jointplot(<span class=string>'AMZN'</span>,<span class=string>'GOOG'</span>,top_tech_dr, kind=<span class=string>'scatter'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z47qtue7j30c70bsjre.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.jointplot(<span class=string>'MSFT'</span>,<span class=string>'FB'</span>,top_tech_dr, kind=<span class=string>'scatter'</span>)</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z47wsaymj30c70bst8q.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.pairplot(top_tech_dr.dropna())</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z4836s6hj30oz0osdj8.jpg><h2 id=分位数><a class=headerlink href=#分位数 title=分位数></a>分位数</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>top_tech_dr[<span class=string>'AAPL'</span>].quantile(<span class=number>0.05</span>)</span><br></pre></table></figure><blockquote><p>-0.02510024760167844</blockquote><h2 id=95-的信心daily-return为-2><a class=headerlink href=#95-的信心daily-return为-2 title=95%的信心daily-return为-2%></a>95%的信心daily-return为-2%</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>top_tech_dr[<span class=string>'MSFT'</span>].quantile(<span class=number>0.05</span>)</span><br></pre></table></figure><blockquote><p>-0.021409700990842318</blockquote><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>vips = pdr.get_data_yahoo(<span class=string>'VIPS'</span>, start=start)[<span class=string>'Adj Close'</span>]</span><br><span class=line>vips.plot()</span><br></pre></table></figure><p><img src=https://ww1.sinaimg.cn/mw690/006By2pOgy1g4z48ff3epj30ax07cjrk.jpg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>vips.pct_change().quantile(<span class=number>0.2</span>)</span><br></pre></table></figure><blockquote><p>-0.02329943700527643</blockquote></div><footer class=post-footer><div class=post-copyright><ul><li class=post-copyright-author><strong>本文作者： </strong>王方钢 / Kenny Wang<li class=post-copyright-link><strong>本文链接：</strong> <a title="Python 数据科学 学习笔记 - 钢钢更新" href=https://wangfanggang.com/Python/python-ai/>https://wangfanggang.com/Python/python-ai/</a><li class=post-copyright-license><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh rel=noopener target=_blank><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</ul></div><div class=post-tags><a href=/tags/AI/ rel=tag># AI</a><a href=/tags/Python/ rel=tag># Python</a><a href=/tags/Machine-Learning/ rel=tag># Machine Learning</a><a href=/tags/BI/ rel=tag># BI</a><a href=/tags/Data-Science/ rel=tag># Data Science</a></div><div class="social-like a2a_kit a2a_kit_size_32 a2a_default_style"><a class=a2a_dd href=https://www.addtoany.com/share rel=noopener target=_blank></a><a class=a2a_button_facebook></a><a class=a2a_button_twitter></a><a class=a2a_button_wechat></a></div><div class=post-nav><div class=post-nav-item><a title="Python 学习笔记 - 钢钢更新" href=/Python/python/ rel=prev> <i class="fa fa-angle-left"></i> Python 学习笔记 - 钢钢更新 </a></div><div class=post-nav-item><a title="Spring Cloud 学习笔记 - Consul" href=/Java/consul/ rel=next> Spring Cloud 学习笔记 - Consul <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© 2017 – <span itemprop=copyrightYear>2025</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>王方钢 / Kenny Wang</span></div><div class=wordcount><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-chart-line"></i> </span> <span title=站点总字数>332k</span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-coffee"></i> </span> <span title=站点阅读时长>20:06</span> </span></div><div class=powered-by>由 <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/muse/ rel=noopener target=_blank>NexT.Muse</a> 强力驱动</div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label=返回顶部 class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript>