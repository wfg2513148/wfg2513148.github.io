<!doctype html><html lang=zh-CN><meta charset=UTF-8><meta content="width=device-width" name=viewport><meta content=#222 name=theme-color><meta content="Hexo 7.3.0" name=generator><link crossorigin href=https://cdnjs.cloudflare.com rel=preconnect><link href=/images/apple-touch-icon-next.png rel=apple-touch-icon sizes=180x180><link href=/images/favicon-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><meta content=_ZS2imU4knMegUWG7C18NQWvwS2icy1O2n7QI13BfDs name=google-site-verification><style>:root{--body-bg-color:#fff;--content-bg-color:#fff;--card-bg-color:#f5f5f5;--text-color:#555;--selection-bg:#262a30;--selection-color:#eee;--blockquote-color:#666;--link-color:#555;--link-hover-color:#222;--brand-color:#fff;--brand-hover-color:#fff;--table-row-odd-bg-color:#f9f9f9;--table-row-hover-bg-color:#f5f5f5;--menu-item-bg-color:#f5f5f5;--theme-color:#222;--btn-default-bg:#222;--btn-default-color:#fff;--btn-default-border-color:#222;--btn-default-hover-bg:#fff;--btn-default-hover-color:#222;--btn-default-hover-border-color:#222;--highlight-background:#f3f3f3;--highlight-foreground:#444;--highlight-gutter-background:#e1e1e1;--highlight-gutter-foreground:#555;color-scheme:light}html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{margin:.67em 0;font-size:2em}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace;font-size:1em}a{background:0 0}abbr[title]{border-bottom:none;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace;font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:100%;line-height:1.15}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted buttontext}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;white-space:normal;max-width:100%;padding:0;display:table}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}details{display:block}summary{display:list-item}template,[hidden]{display:none}::selection{background:var(--selection-bg);color:var(--selection-color)}html,body{height:100%}body{background:var(--body-bg-color);box-sizing:border-box;color:var(--text-color);min-height:100%;font-family:Lato,PingFang SC,Microsoft YaHei,sans-serif;font-size:1em;line-height:2;transition:padding .2s ease-in-out;position:relative}h1,h2,h3,h4,h5,h6{margin:30px 0 15px;font-family:Lato,PingFang SC,Microsoft YaHei,sans-serif;font-weight:700;line-height:1.5}h1{font-size:1.5em}h2{font-size:1.375em}h3{font-size:1.25em}h4{font-size:1.125em}h5{font-size:1em}h6{font-size:.875em}a{color:var(--link-color);cursor:pointer;overflow-wrap:break-word;border-bottom:1px solid #999;outline:0;text-decoration:none}a:hover{border-bottom-color:var(--link-hover-color);color:var(--link-hover-color)}iframe,img,video,embed{max-width:100%;margin-left:auto;margin-right:auto;display:block}hr{background-image:repeating-linear-gradient(-45deg,#ddd,#ddd 4px,#0000 4px 8px);border:0;height:3px;margin:40px 0}blockquote{color:var(--blockquote-color);border-left:4px solid #ddd;margin:0;padding:0 15px}blockquote cite:before{content:"-";padding:0 5px}dt{font-weight:700}dd{margin:0;padding:0}.table-container{overflow:auto}table{border-collapse:collapse;border-spacing:0;width:100%;margin:0 0 20px;font-size:.875em}tbody tr:nth-of-type(odd){background:var(--table-row-odd-bg-color)}tbody tr:hover{background:var(--table-row-hover-bg-color)}caption,th,td{padding:8px}th,td{border:1px solid #ddd;border-bottom-width:3px}th{padding-bottom:10px;font-weight:700}td{border-bottom-width:1px}.btn{background:var(--btn-default-bg);border:2px solid var(--btn-default-border-color);color:var(--btn-default-color);border-radius:0;padding:0 20px;font-size:.875em;line-height:2;transition:background-color .2s ease-in-out;display:inline-block}.btn:hover{background:var(--btn-default-hover-bg);border-color:var(--btn-default-hover-border-color);color:var(--btn-default-hover-color)}.btn+.btn{margin:0 0 8px 8px}.btn .fa-fw{text-align:left;width:1.28571em}.toggle{line-height:0}.toggle .toggle-line{background:#fff;width:100%;height:2px;transition:left .4s,opacity .4s,top .4s,transform .4s,width .4s;display:block;position:relative;top:0;left:0}.toggle .toggle-line:first-child{margin-top:1px}.toggle .toggle-line:not(:first-child){margin-top:4px}.toggle.toggle-arrow :first-child{width:50%;top:2px;transform:rotate(-45deg)}.toggle.toggle-arrow :last-child{width:50%;top:-2px;transform:rotate(45deg)}.toggle.toggle-close :nth-child(2){opacity:0}.toggle.toggle-close :first-child{top:6px;transform:rotate(-45deg)}.toggle.toggle-close :last-child{top:-6px;transform:rotate(45deg)}pre code.hljs{padding:1em;display:block;overflow-x:auto}code.hljs{padding:3px 5px}.hljs{color:#444;background:#f3f3f3}.hljs-comment{color:#697070}.hljs-tag,.hljs-punctuation{color:#444a}.hljs-tag .hljs-name,.hljs-tag .hljs-attr{color:#444}.hljs-keyword,.hljs-attribute,.hljs-selector-tag,.hljs-meta .hljs-keyword,.hljs-doctag,.hljs-name{font-weight:700}.hljs-type,.hljs-string,.hljs-number,.hljs-selector-id,.hljs-selector-class,.hljs-quote,.hljs-template-tag,.hljs-deletion{color:#800}.hljs-title,.hljs-section{color:#800;font-weight:700}.hljs-regexp,.hljs-symbol,.hljs-variable,.hljs-template-variable,.hljs-link,.hljs-selector-attr,.hljs-operator,.hljs-selector-pseudo{color:#ab5656}.hljs-literal{color:#695}.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-addition{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta .hljs-string{color:#38a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.highlight:hover .copy-btn,.code-container:hover .copy-btn{opacity:1}.code-container{position:relative}.copy-btn{color:#333;cursor:pointer;opacity:0;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;padding:2px 6px;font-size:.8125em;line-height:1.6;transition:opacity .2s ease-in-out;position:absolute;top:8px;right:4px}code,kbd,figure.highlight,pre{background:var(--highlight-background);color:var(--highlight-foreground)}figure.highlight,pre{margin:0 auto 20px;line-height:1.6}figure.highlight figcaption,pre .caption{background:var(--highlight-gutter-background);color:var(--highlight-foreground);padding:.5em;font-size:.875em;line-height:1.2;display:flow-root}figure.highlight figcaption a,pre .caption a{color:var(--highlight-foreground);float:right}figure.highlight figcaption a:hover,pre .caption a:hover{border-bottom-color:var(--highlight-foreground)}pre,code{font-family:consolas,Menlo,monospace,PingFang SC,Microsoft YaHei}code{overflow-wrap:break-word;border-radius:3px;padding:2px 4px;font-size:.875em}kbd{white-space:nowrap;border:2px solid #ccc;border-radius:.2em;padding:.1em .3em;font-family:inherit;box-shadow:.1em .1em .2em #0000001a}figure.highlight{position:relative;overflow:auto}figure.highlight pre{border:0;margin:0;padding:10px 0}figure.highlight table{border:0;width:auto;margin:0}figure.highlight td{border:0;padding:0}figure.highlight .gutter{-webkit-user-select:none;user-select:none}figure.highlight .gutter pre{background:var(--highlight-gutter-background);color:var(--highlight-gutter-foreground);text-align:right;padding-left:10px;padding-right:10px}figure.highlight .code pre{width:100%;padding-left:10px}figure.highlight .marked{background:#0000004d}pre .caption{margin-bottom:10px}.gist table{width:auto}.gist table td{border:0}pre{padding:10px;overflow:auto}pre code{text-shadow:none;background:0 0;padding:0}.blockquote-center{text-align:center;border-left:0;margin:40px 0;padding:0;position:relative}.blockquote-center:before,.blockquote-center:after{opacity:.6;width:100%;line-height:1;position:absolute;left:0}.blockquote-center:before{text-align:left;content:"";border-top:1px solid #ccc;font-family:"Font Awesome 6 Free";font-weight:900;top:-20px}.blockquote-center:after{text-align:right;content:"";border-bottom:1px solid #ccc;font-family:"Font Awesome 6 Free";font-weight:900;bottom:-20px}.blockquote-center p,.blockquote-center div{text-align:center}.group-picture{margin-bottom:20px}.group-picture .group-picture-row{gap:3px;margin-bottom:3px;display:flex}.group-picture .group-picture-column{flex:1}.group-picture .group-picture-column img{object-fit:cover;width:100%;height:100%;margin:0}.post-body .label{color:#555;padding:0 2px}.post-body .label.default{background:#f0f0f0}.post-body .label.primary{background:#efe6f7}.post-body .label.info{background:#e5f2f8}.post-body .label.success{background:#e7f4e9}.post-body .label.warning{background:#fcf6e1}.post-body .label.danger{background:#fae8eb}.post-body .link-grid{grid-gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-bottom:20px;padding:1rem;display:grid}.post-body .link-grid .link-grid-container{border:solid #ddd;min-width:0;min-height:5rem;padding:.5rem;transition:background .3s;position:relative;box-shadow:1rem 1rem .5rem #00000080}.post-body .link-grid .link-grid-container:hover{background:var(--card-bg-color);animation:.5s next-shake}.post-body .link-grid .link-grid-container:active{transform:translate(.2rem,.2rem);box-shadow:.5rem .5rem .25rem #00000080}.post-body .link-grid .link-grid-container .link-grid-image{box-sizing:border-box;border:1px solid #ddd;border-radius:50%;width:5rem;height:5rem;padding:3px;position:absolute}.post-body .link-grid .link-grid-container p{margin:0 1rem 0 6rem}.post-body .link-grid .link-grid-container p:first-of-type{font-size:1.2em}.post-body .link-grid .link-grid-container p:last-of-type{opacity:.7;font-size:.8em;line-height:1.3rem}.post-body .link-grid .link-grid-container a{border:0;width:100%;height:100%;position:absolute;top:0;left:0}@keyframes next-shake{0%{transform:translate(1pt,1pt)rotate(0)}10%{transform:translate(-1pt,-2pt)rotate(-1deg)}20%{transform:translate(-3pt)rotate(1deg)}30%{transform:translate(3pt,2pt)rotate(0)}40%{transform:translate(1pt,-1pt)rotate(1deg)}50%{transform:translate(-1pt,2pt)rotate(-1deg)}60%{transform:translate(-3pt,1pt)rotate(0)}70%{transform:translate(3pt,1pt)rotate(-1deg)}80%{transform:translate(-1pt,-1pt)rotate(1deg)}90%{transform:translate(1pt,2pt)rotate(0)}to{transform:translate(1pt,-2pt)rotate(-1deg)}}.post-body .note{border:1px solid #eee;border-left-width:5px;border-radius:3px;margin-bottom:20px;padding:1em;position:relative}.post-body .note summary{cursor:pointer;outline:0}.post-body .note summary p{display:inline}.post-body .note h2,.post-body .note h3,.post-body .note h4,.post-body .note h5,.post-body .note h6{border-bottom:initial;margin:0;padding-top:0}.post-body .note :first-child{margin-top:0}.post-body .note :last-child{margin-bottom:0}.post-body .note.default{border-left-color:#777}.post-body .note.default h2,.post-body .note.default h3,.post-body .note.default h4,.post-body .note.default h5,.post-body .note.default h6{color:#777}.post-body .note.primary{border-left-color:#6f42c1}.post-body .note.primary h2,.post-body .note.primary h3,.post-body .note.primary h4,.post-body .note.primary h5,.post-body .note.primary h6{color:#6f42c1}.post-body .note.info{border-left-color:#428bca}.post-body .note.info h2,.post-body .note.info h3,.post-body .note.info h4,.post-body .note.info h5,.post-body .note.info h6{color:#428bca}.post-body .note.success{border-left-color:#5cb85c}.post-body .note.success h2,.post-body .note.success h3,.post-body .note.success h4,.post-body .note.success h5,.post-body .note.success h6{color:#5cb85c}.post-body .note.warning{border-left-color:#f0ad4e}.post-body .note.warning h2,.post-body .note.warning h3,.post-body .note.warning h4,.post-body .note.warning h5,.post-body .note.warning h6{color:#f0ad4e}.post-body .note.danger{border-left-color:#d9534f}.post-body .note.danger h2,.post-body .note.danger h3,.post-body .note.danger h4,.post-body .note.danger h5,.post-body .note.danger h6{color:#d9534f}.post-body .tabs{margin-bottom:20px}.post-body .tabs,.tabs-comment{padding-top:10px}.post-body .tabs ul.nav-tabs,.tabs-comment ul.nav-tabs{background:var(--body-bg-color);z-index:5;flex-wrap:wrap;justify-content:center;margin:0;padding:0;display:flex;position:sticky;top:0}@media (width<=413px){.post-body .tabs ul.nav-tabs,.tabs-comment ul.nav-tabs{margin-bottom:5px;display:block}}.post-body .tabs ul.nav-tabs li.tab,.tabs-comment ul.nav-tabs li.tab{border:1px solid #0000;border-top-width:3px;border-bottom-color:#ddd;border-radius:0;flex-grow:1;list-style-type:none}@media (width<=413px){.post-body .tabs ul.nav-tabs li.tab,.tabs-comment ul.nav-tabs li.tab{border:1px solid #0000;border-left-width:3px;border-radius:0}}.post-body .tabs ul.nav-tabs li.tab a,.tabs-comment ul.nav-tabs li.tab a{border-bottom:initial;text-align:center;padding:.25em .75em;line-height:1.8;transition:all .2s ease-out;display:block}.post-body .tabs ul.nav-tabs li.tab a i[class^=fa],.tabs-comment ul.nav-tabs li.tab a i[class^=fa]{width:1.28571em}.post-body .tabs ul.nav-tabs li.tab.active,.tabs-comment ul.nav-tabs li.tab.active{border-color:#fc6423 #ddd #0000}@media (width<=413px){.post-body .tabs ul.nav-tabs li.tab.active,.tabs-comment ul.nav-tabs li.tab.active{border-color:#ddd #ddd #ddd #fc6423}}.post-body .tabs ul.nav-tabs li.tab.active a,.tabs-comment ul.nav-tabs li.tab.active a{cursor:default}.post-body .tabs .tab-content,.tabs-comment .tab-content{border:1px solid #ddd;border-top-color:#0000;border-radius:0}@media (width<=413px){.post-body .tabs .tab-content,.tabs-comment .tab-content{border-top-color:#ddd;border-radius:0}}.post-body .tabs .tab-content .tab-pane,.tabs-comment .tab-content .tab-pane{padding:20px 20px 0}.post-body .tabs .tab-content .tab-pane:not(.active),.tabs-comment .tab-content .tab-pane:not(.active){display:none}.pagination .prev,.pagination .next,.pagination .page-number,.pagination .space{margin:-1px 10px 0;padding:0 10px;display:inline-block}@media (width<=767px){.pagination .prev,.pagination .next,.pagination .page-number,.pagination .space{margin:0 5px}}.pagination .page-number.current{color:var(--content-bg-color);background:#ccc;border-color:#ccc}.pagination{text-align:center;border-top:1px solid #eee;margin:120px 0 0}.pagination .prev,.pagination .next,.pagination .page-number{border-top:1px solid #eee;border-bottom:0;transition:border-color .2s ease-in-out}.pagination .prev:hover,.pagination .next:hover,.pagination .page-number:hover{border-top-color:var(--link-hover-color)}@media (width<=767px){.pagination{border-top:0}.pagination .prev,.pagination .next,.pagination .page-number{border-top:0;border-bottom:1px solid #eee}.pagination .prev:hover,.pagination .next:hover,.pagination .page-number:hover{border-bottom-color:var(--link-hover-color)}}.pagination .space{margin:0;padding:0}.comments{margin-top:60px;overflow:hidden}.comment-button-group{flex-wrap:wrap;justify-content:center;margin:1em 0;display:flex}.comment-button-group .comment-button{margin:.1em .2em}.comment-button-group .comment-button.active{background:var(--btn-default-hover-bg);border-color:var(--btn-default-hover-border-color);color:var(--btn-default-hover-color)}.comment-position{display:none}.comment-position.active{display:block}.tabs-comment{margin-top:4em;padding-top:0}.tabs-comment .comments{margin-top:0;padding-top:0}.headband{background:var(--theme-color);height:3px}@media (width<=991px){.headband{display:none}}.site-brand-container{flex-shrink:0;padding:0 10px;display:flex}.use-motion .column,.use-motion .site-brand-container .toggle{opacity:0}.site-meta{text-align:center;flex-grow:1}@media (width<=767px){.site-meta{text-align:center}}.custom-logo-image{margin-top:20px}@media (width<=991px){.custom-logo-image{display:none}}.brand{color:var(--brand-color);border-bottom:0;padding:0 40px;display:inline-block}.brand:hover{color:var(--brand-hover-color)}.site-title{margin:0;font-family:Lato,PingFang SC,Microsoft YaHei,sans-serif;font-size:1.375em;font-weight:400;line-height:1.5}.site-subtitle{color:#999;margin:10px 0;font-size:.8125em}.use-motion .site-title,.use-motion .site-subtitle,.use-motion .custom-logo-image{opacity:0;position:relative;top:-10px}.site-nav-toggle,.site-nav-right{display:none}@media (width<=767px){.site-nav-toggle,.site-nav-right{flex-direction:column;justify-content:center;display:flex}}.site-nav-toggle .toggle,.site-nav-right .toggle{color:var(--text-color);width:22px;padding:10px}.site-nav-toggle .toggle .toggle-line,.site-nav-right .toggle .toggle-line{background:var(--text-color);border-radius:1px}@media (width<=767px){.site-nav{--scroll-height:0;visibility:hidden;height:0;transition:height .2s ease-in-out,visibility .2s ease-in-out;overflow:hidden}body:not(.site-nav-on) .site-nav .animated{animation:none}body.site-nav-on .site-nav{height:var(--scroll-height);visibility:unset}}.menu{text-align:center;margin:0;padding:1em 0}.menu-item{margin:0 10px;list-style:none;display:inline-block}@media (width<=767px){.menu-item{margin-top:10px;display:block}.menu-item.menu-item-search{display:none}}.menu-item a{border-bottom:0;font-size:.8125em;transition:border-color .2s ease-in-out;display:block}.menu-item a:hover,.menu-item a.menu-item-active{background:var(--menu-item-bg-color)}.menu-item i[class^=fa]{margin-right:8px}.menu-item .badge{color:#555;text-shadow:none;background:#eee;border-radius:0;margin-left:.35em;padding:1px 4px;font-weight:700;line-height:1}.use-motion .menu-item{visibility:hidden}.sidebar{right:-320px}.sidebar-active .sidebar{right:0}.sidebar{z-index:20;background:#222;width:320px;max-height:100vh;transition:left .2s ease-out,right .2s ease-out;position:fixed;top:0;bottom:0;overflow-y:auto;box-shadow:inset 0 2px 6px #000}.sidebar a{color:#999;border-bottom-color:#555}.sidebar a:hover{color:#eee;border-bottom-color:#eee}.links-of-author:not(:first-child){margin-top:15px}.links-of-author a{vertical-align:middle;border-bottom-color:#555;margin-bottom:10px;margin-right:10px;transition:all .2s ease-in-out;display:inline-block}.links-of-author a:before{content:" ";background:#9a7dd5;border-radius:50%;width:4px;height:4px;margin-right:3px;display:inline-block;transform:translateY(-2px)}.links-of-blogroll-item{padding:0 5px}.popular-posts .popular-posts-item .popular-posts-link:hover{background:0 0}.sidebar-dimmer{opacity:0;visibility:hidden;z-index:10;background:#000;width:100%;height:100%;transition:visibility .4s,opacity .4s;position:fixed;top:0;left:0}.sidebar-active .sidebar-dimmer{opacity:.7;visibility:visible}.sidebar-inner{color:#999;text-align:center;flex-direction:column;justify-content:center;padding:18px 10px;display:flex}.sidebar-toggle{cursor:pointer;opacity:.8;z-index:30;background:#222;width:16px;height:16px;padding:5px;position:fixed;bottom:61px;right:30px}@media (width<=991px){.sidebar-toggle{right:20px}}.sidebar-toggle:hover{opacity:1}@media (width<=991px){.sidebar-toggle{opacity:1}}.sidebar-toggle:hover .toggle-line{background:#87daff}@media (any-hover:hover){body:not(.sidebar-active) .sidebar-toggle:hover :first-child{width:50%;top:2px;transform:rotate(-45deg)}body:not(.sidebar-active) .sidebar-toggle:hover :last-child{width:50%;top:-2px;transform:rotate(45deg)}}.sidebar-active .sidebar-toggle :nth-child(2){opacity:0}.sidebar-active .sidebar-toggle :first-child{top:6px;transform:rotate(-45deg)}.sidebar-active .sidebar-toggle :last-child{top:-6px;transform:rotate(45deg)}.sidebar-nav{pointer-events:none;visibility:hidden;height:0;margin:0;padding-left:0;font-size:.875em;transition:height .2s ease-in-out,visibility .2s ease-in-out;overflow:hidden}.sidebar-nav-active .sidebar-nav{pointer-events:unset;height:calc(2em + 1px);visibility:unset}.sidebar-nav li{color:#666;cursor:pointer;border-bottom:1px solid #0000;transition:border-bottom-color .2s ease-in-out,color .2s ease-in-out;display:inline-block}.sidebar-nav li.sidebar-nav-overview{margin-left:10px}.sidebar-nav li:hover{color:#f5f5f5}.sidebar-toc-active .sidebar-nav-toc,.sidebar-overview-active .sidebar-nav-overview{color:#87daff;border-bottom-color:#87daff;transition-delay:.2s}.sidebar-toc-active .sidebar-nav-toc:hover,.sidebar-overview-active .sidebar-nav-overview:hover{color:#87daff}.sidebar-panel-container{flex:1;align-items:start;padding-top:0;transition:padding-top .2s ease-in-out;display:grid;overflow:hidden auto}.sidebar-nav-active .sidebar-panel-container{padding-top:20px}.sidebar-panel{opacity:0;pointer-events:none;visibility:hidden;grid-area:1/1;height:0;transition:opacity .2s ease-in-out,transform .2s ease-in-out,visibility .2s ease-in-out;animation:.2s ease-in-out deactivate-sidebar-panel;overflow:hidden;transform:translateY(0)}.sidebar-nav-active .sidebar-panel,.sidebar-overview-active .sidebar-panel.post-toc-wrap{transform:translateY(-20px)}.sidebar-overview-active:not(.sidebar-nav-active) .sidebar-panel.post-toc-wrap{transition-delay:0s,.2s,0s}.sidebar-overview-active .sidebar-panel.site-overview-wrap,.sidebar-toc-active .sidebar-panel.post-toc-wrap{opacity:1;pointer-events:unset;height:auto;visibility:unset;transition-delay:.2s,.2s,0s;animation-name:activate-sidebar-panel;transform:translateY(0)}.sidebar-panel.site-overview-wrap{flex-direction:column;justify-content:flex-start;gap:10px;display:flex}@keyframes deactivate-sidebar-panel{0%{height:var(--inactive-panel-height,0)}to{height:var(--active-panel-height,0)}}@keyframes activate-sidebar-panel{0%{height:var(--inactive-panel-height,auto)}to{height:var(--active-panel-height,auto)}}.post-toc{font-size:.875em}.post-toc ol{text-align:left;margin:0;padding:0 2px 0 10px;list-style:none}.post-toc ol>:last-child{margin-bottom:5px}.post-toc ol>ol{padding-left:0}.post-toc ol a{transition:all .2s ease-in-out}.post-toc .nav-item{text-overflow:ellipsis;white-space:nowrap;line-height:1.8;overflow:hidden}.post-toc .nav .nav-child{--height:0;opacity:0;visibility:hidden;height:0;transition:all .2s ease-in-out;overflow:hidden}.post-toc .nav .active>.nav-child{height:var(--height,auto);opacity:1;visibility:unset}.post-toc .nav .active>a{color:#87daff;border-bottom-color:#87daff}.post-toc .nav .active-current>a,.post-toc .nav .active-current>a:hover{color:#87daff}.site-author-image{border:2px solid #333;border-radius:50%;max-width:96px;padding:2px}.site-author-name{color:#f5f5f5;margin:5px 0 0;font-weight:400}.site-description{color:#999;margin-top:5px;font-size:1em}.site-state{flex-wrap:wrap;justify-content:center;line-height:1.4;display:flex}.site-state-item{padding:0 15px}.site-state-item a{border-bottom:0;display:block}.site-state-item-count{font-size:1.25em;font-weight:600;display:block}.site-state-item-name{color:inherit;font-size:.875em}.sidebar .sidebar-button:not(:first-child){margin-top:15px}.sidebar .sidebar-button button{color:#fc6423;cursor:pointer;background:0 0;border:1px solid #fc6423;border-radius:4px;padding:0 15px;line-height:2}.sidebar .sidebar-button button:hover{color:#fff;background:#fc6423}.sidebar .sidebar-button button i[class^=fa]{margin-right:5px}.links-of-author a{font-size:.8125em}.links-of-author i[class^=fa]{margin-right:2px}.cc-license .cc-opacity{opacity:.7;border-bottom:0}.cc-license .cc-opacity:hover{opacity:.9}.cc-license img{display:inline-block}.links-of-blogroll{font-size:.8125em}.links-of-blogroll-title{font-size:.875em;font-weight:600}.links-of-blogroll-list{flex-flow:column wrap;justify-content:center;gap:5px;margin:5px 0 0;padding:0;list-style:none;display:flex}.links-of-blogroll-item{max-width:100%}.links-of-blogroll-item a{box-sizing:border-box;text-overflow:ellipsis;white-space:nowrap;max-width:100%;display:inline-block;overflow:hidden}.footer{color:#999;padding:20px 0;font-size:.875em;transition:left .2s ease-in-out,right .2s ease-in-out}.footer.footer-fixed{position:absolute;bottom:0;left:0;right:0}.footer-inner{box-sizing:border-box;text-align:center;flex-direction:column;justify-content:center;width:700px;margin:0 auto;display:flex}@media (width<=767px){.footer-inner{width:auto}}@media (width>=1200px){.footer-inner{width:800px}}@media (width>=1600px){.footer-inner{width:900px}}.use-motion .footer{opacity:0}.languages{font-size:1.125em;display:inline-block;position:relative}.languages .lang-select-label span{margin:0 .5em}.languages .lang-select{opacity:0;width:100%;height:100%;position:absolute;top:0;left:0}.with-love{color:red;margin:0 5px;animation:1.33s ease-in-out infinite icon-animate;display:inline-block}@keyframes icon-animate{0%,to{transform:scale(1)}10%,30%{transform:scale(.9)}20%,40%,60%,80%{transform:scale(1.1)}50%,70%{transform:scale(1.1)}}.back-to-top{color:#fff;cursor:pointer;opacity:.8;z-index:30;background:#222;align-items:center;height:26px;font-size:12px;transition:bottom .2s ease-in-out;display:flex;position:fixed;bottom:-100px;right:30px}.back-to-top span{margin-right:8px;display:none}.back-to-top .fa{text-align:center;width:26px}@media (width<=991px){.back-to-top{right:20px}}.back-to-top:hover{opacity:1}@media (width<=991px){.back-to-top{opacity:1}}.back-to-top:hover{color:#87daff}.back-to-top.back-to-top-on{bottom:30px}.reading-progress-bar{--progress:0;z-index:50;height:3px;width:var(--progress);background:#37c6c0;position:fixed;top:0;left:0}.rtl.post-body p,.rtl.post-body a,.rtl.post-body h1,.rtl.post-body h2,.rtl.post-body h3,.rtl.post-body h4,.rtl.post-body h5,.rtl.post-body h6,.rtl.post-body li,.rtl.post-body ul,.rtl.post-body ol{direction:rtl;font-family:UKIJ Ekran}.rtl.post-title{font-family:UKIJ Ekran}.post-button{text-align:center;margin-top:40px}.use-motion .post-block,.use-motion .pagination,.use-motion .comments,.use-motion .post-header,.use-motion .post-body,.use-motion .collection-header{visibility:hidden}.posts-collapse .post-content{margin-bottom:35px;margin-left:35px;position:relative}@media (width<=767px){.posts-collapse .post-content{margin-left:0;margin-right:0}}.posts-collapse .post-content .collection-title{font-size:1.125em;position:relative}.posts-collapse .post-content .collection-title:before{content:" ";background:#999;border:1px solid #fff;border-radius:50%;width:10px;height:10px;margin-top:-4px;margin-left:-6px;position:absolute;top:50%}.posts-collapse .post-content .collection-year{margin:60px 0;font-size:1.5em;font-weight:700;position:relative}.posts-collapse .post-content .collection-year .collection-year-count{color:#555;text-shadow:none;background:#eee;border-radius:0;margin-left:.35em;padding:1px 4px;font-size:.75em;font-weight:700;line-height:1}.posts-collapse .post-content .collection-year:before{content:" ";background:#bbb;border-radius:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;position:absolute;top:50%}.posts-collapse .post-content .collection-header{margin-left:20px;display:block}.posts-collapse .post-content .collection-header small{color:#bbb;margin-left:5px}.posts-collapse .post-content .post-header{border-bottom:1px dashed #ccc;margin:30px 2px 0;padding-left:15px;transition:border .2s ease-in-out;position:relative}.posts-collapse .post-content .post-header:before{content:" ";background:#bbb;border:1px solid #fff;border-radius:50%;width:6px;height:6px;transition:background .2s ease-in-out;position:absolute;top:.75em;left:-6px}.posts-collapse .post-content .post-header:hover{border-bottom-color:#666}.posts-collapse .post-content .post-header:hover:before{background:#222}.posts-collapse .post-content .post-meta-container{margin-right:10px;font-size:.75em;display:inline}.posts-collapse .post-content .post-title{display:inline}.posts-collapse .post-content .post-title a{color:var(--link-color);border-bottom:0}.posts-collapse .post-content .post-title .fa{margin-left:5px;font-size:.875em}.posts-collapse .post-content:before{content:" ";background:#f5f5f5;width:4px;height:100%;margin-left:-2px;position:absolute;top:1.25em}.post-body{overflow-wrap:break-word;font-family:Lato,PingFang SC,Microsoft YaHei,sans-serif}@media (width>=1200px){.post-body{font-size:1.125em}}@media (width>=992px){.post-body{text-align:justify}}@media (width<=991px){.post-body{text-align:justify}}.post-body h1 .header-anchor,.post-body h2 .header-anchor,.post-body h3 .header-anchor,.post-body h4 .header-anchor,.post-body h5 .header-anchor,.post-body h6 .header-anchor,.post-body h1 .headerlink,.post-body h2 .headerlink,.post-body h3 .headerlink,.post-body h4 .headerlink,.post-body h5 .headerlink,.post-body h6 .headerlink{color:inherit;float:right;opacity:0;border-bottom-style:none;margin-left:10px;font-size:.875em}.post-body h1 .header-anchor:before,.post-body h2 .header-anchor:before,.post-body h3 .header-anchor:before,.post-body h4 .header-anchor:before,.post-body h5 .header-anchor:before,.post-body h6 .header-anchor:before,.post-body h1 .headerlink:before,.post-body h2 .headerlink:before,.post-body h3 .headerlink:before,.post-body h4 .headerlink:before,.post-body h5 .headerlink:before,.post-body h6 .headerlink:before{content:"";font-family:"Font Awesome 6 Free";font-weight:900}.post-body h1:hover .header-anchor,.post-body h2:hover .header-anchor,.post-body h3:hover .header-anchor,.post-body h4:hover .header-anchor,.post-body h5:hover .header-anchor,.post-body h6:hover .header-anchor,.post-body h1:hover .headerlink,.post-body h2:hover .headerlink,.post-body h3:hover .headerlink,.post-body h4:hover .headerlink,.post-body h5:hover .headerlink,.post-body h6:hover .headerlink{opacity:.5}.post-body h1:hover .header-anchor:hover,.post-body h2:hover .header-anchor:hover,.post-body h3:hover .header-anchor:hover,.post-body h4:hover .header-anchor:hover,.post-body h5:hover .header-anchor:hover,.post-body h6:hover .header-anchor:hover,.post-body h1:hover .headerlink:hover,.post-body h2:hover .headerlink:hover,.post-body h3:hover .headerlink:hover,.post-body h4:hover .headerlink:hover,.post-body h5:hover .headerlink:hover,.post-body h6:hover .headerlink:hover{opacity:1}.post-body .exturl .fa{margin-left:4px;font-size:.875em}.post-body figure:not(.highlight) figcaption{color:#999;text-align:center;margin:-15px auto 15px;font-size:.875em;font-weight:700;line-height:1}.post-body iframe,.post-body img,.post-body video,.post-body embed{margin-bottom:20px}.post-body .video-container{width:100%;height:0;margin-bottom:20px;padding-top:75%;position:relative;overflow:hidden}.post-body .video-container iframe,.post-body .video-container object,.post-body .video-container embed{width:100%;height:100%;margin:0;position:absolute;top:0;left:0}.post-gallery{min-height:200px;display:flex}.post-gallery .post-gallery-image{flex:1}.post-gallery .post-gallery-image:not(:first-child){clip-path:polygon(40px 0,100% 0,100% 100%,0 100%);margin-left:-20px}.post-gallery .post-gallery-image:not(:last-child){margin-right:-20px}.post-gallery .post-gallery-image img{object-fit:cover;opacity:1;width:100%;height:100%}.posts-expand .post-gallery{margin-bottom:60px}.posts-collapse .post-gallery{margin:15px 0}.posts-expand .post-header{text-align:center;margin-bottom:60px;font-size:1.125em}.posts-expand .post-title{margin:initial;overflow-wrap:break-word;font-size:1.5em;font-weight:400}.posts-expand .post-title-link{color:var(--link-color);border-bottom:0;max-width:100%;display:inline-block;position:relative}.posts-expand .post-title-link:before{background:var(--link-color);content:"";width:100%;height:2px;transition:transform .2s ease-in-out;position:absolute;bottom:0;left:0;transform:scaleX(0)}.posts-expand .post-title-link:hover:before{transform:scaleX(1)}.posts-expand .post-title-link .fa{margin-left:5px;font-size:.875em}.post-sticky-flag{margin-right:8px;display:inline-block;transform:rotate(30deg)}.posts-expand .post-meta-container{color:#999;margin-top:3px;font-family:Lato,PingFang SC,Microsoft YaHei,sans-serif;font-size:.75em}.posts-expand .post-meta-container .post-description{margin-top:2px;font-size:.875em}.posts-expand .post-meta-container time{border-bottom:1px dashed #999}.post-meta{flex-wrap:wrap;justify-content:center;display:flex}:not(.post-meta-break)+.post-meta-item:before{content:"|";margin:0 .5em}.post-meta-item-icon{margin-right:3px}@media (width<=991px){.post-meta-item-text{display:none}}.post-meta-break{flex-basis:100%;height:0}.post-nav{border-top:1px solid #eee;justify-content:space-between;gap:30px;margin-top:1em;padding:10px 5px 0;display:flex}.post-nav-item{flex:1}.post-nav-item a{border-bottom:0;font-size:.875em;line-height:1.6;display:block}.post-nav-item a:active{top:2px}.post-nav-item .fa{font-size:.75em}.post-nav-item:first-child .fa{margin-right:5px}.post-nav-item:last-child{text-align:right}.post-nav-item:last-child .fa{margin-left:5px}.post-footer{flex-direction:column;justify-content:center;display:flex}.post-eof{background:#ccc;width:8%;height:1px;margin:80px auto 60px}.post-block:last-of-type .post-eof{display:none}.post-copyright ul{background:var(--card-bg-color);border-left:3px solid #ff2a2a;margin:1em 0 0;padding:.5em 1em;list-style:none;position:relative;overflow:hidden}.post-copyright ul:after{content:"";opacity:.1;font-family:"Font Awesome 6 Brands";font-size:200px;position:absolute;top:-150px;right:-50px}.post-tags{text-align:center;margin-top:40px}.post-tags a{font-size:.8125em;display:inline-block}.post-tags a:not(:last-child){margin-right:10px}.social-like{border-top:1px solid #eee;flex-wrap:wrap;justify-content:center;margin-top:1em;padding-top:1em;font-size:.875em;display:flex}.social-like a{border-bottom:none}.reward-container{text-align:center;margin:1em 0 0;padding:1em 0}.reward-container button{color:#87daff;cursor:pointer;vertical-align:text-top;background:0 0;border:2px solid #87daff;border-radius:2px;outline:0;padding:0 15px;line-height:2}.reward-container button:hover{color:#fff;background:#87daff}.post-reward{padding-top:20px;display:none}.post-reward.active{display:block}.post-reward div{display:inline-block}.post-reward div span{display:block}.post-reward img{width:180px;max-width:100%;margin:.8em 2em 0;display:inline-block}@keyframes next-roll{0%{transform:rotate(30deg)}to{transform:rotate(-30deg)}}.category-all-page .category-all-title{text-align:center}.category-all-page .category-all{margin-top:20px}.category-all-page .category-list{margin:0;padding:0;list-style:none}.category-all-page .category-list-item{margin:5px 10px}.category-all-page .category-list-count{color:#555;text-shadow:none;background:#eee;border-radius:0;margin-left:.35em;padding:1px 4px;font-size:.75em;font-weight:700;line-height:1}.category-all-page .category-list-child{padding-left:10px}.event-list hr{background:#222;margin:20px 0 45px}.event-list hr:after{color:#fff;content:"NOW";background:#222;padding:0 5px;font-weight:700;display:inline-block}.event-list .event{--event-background:#222;--event-foreground:#bbb;--event-title:#fff;background:var(--event-background);padding:15px}.event-list .event .event-summary{color:var(--event-title);border-bottom:0;margin:0;padding:0 0 0 35px;position:relative}.event-list .event .event-summary:before{background:var(--event-title);content:" ";border-radius:50%;width:12px;height:12px;margin-top:-6px;animation:1s ease-in-out infinite alternate dot-flash;position:absolute;top:50%;left:0}.event-list .event:nth-of-type(odd) .event-summary:before{animation-delay:.5s}.event-list .event:not(:last-child){margin-bottom:20px}.event-list .event .event-relative-time{color:var(--event-foreground);padding-left:12px;font-size:12px;font-weight:400;display:inline-block}.event-list .event .event-details{color:var(--event-foreground);padding:6px 0 6px 35px;line-height:18px;display:block}.event-list .event .event-details:before{color:var(--event-foreground);width:14px;margin-right:9px;font-family:"Font Awesome 6 Free";font-weight:900;display:inline-block}.event-list .event .event-details.event-location:before{content:""}.event-list .event .event-details.event-duration:before{content:""}.event-list .event .event-details.event-description:before{content:""}.event-list .event-past{--event-background:#f5f5f5;--event-foreground:#999;--event-title:#222}@keyframes dot-flash{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}ul.breadcrumb{text-align:center;margin:1em 0;padding:0 2em;font-size:.75em;list-style:none}ul.breadcrumb li{display:inline}ul.breadcrumb li:not(:first-child):before{content:"/ ";padding:.5em;font-weight:400}ul.breadcrumb li:last-child{font-weight:700}.tag-cloud{text-align:center}.tag-cloud a{margin:10px;display:inline-block}.tag-cloud-0{color:#aaa;border-bottom-color:#aaa}.tag-cloud-1{color:#9a9a9a;border-bottom-color:#9a9a9a}.tag-cloud-2{color:#8b8b8b;border-bottom-color:#8b8b8b}.tag-cloud-3{color:#7c7c7c;border-bottom-color:#7c7c7c}.tag-cloud-4{color:#6c6c6c;border-bottom-color:#6c6c6c}.tag-cloud-5{color:#5d5d5d;border-bottom-color:#5d5d5d}.tag-cloud-6{color:#4e4e4e;border-bottom-color:#4e4e4e}.tag-cloud-7{color:#3e3e3e;border-bottom-color:#3e3e3e}.tag-cloud-8{color:#2f2f2f;border-bottom-color:#2f2f2f}.tag-cloud-9{color:#202020;border-bottom-color:#202020}.tag-cloud-10{color:#111;border-bottom-color:#111}.search-active{overflow:hidden}.search-pop-overlay{visibility:hidden;z-index:40;background:0 0;width:100%;height:100%;transition:visibility .4s,background .4s;display:flex;position:fixed;top:0;left:0}.search-active .search-pop-overlay{visibility:visible;background:#0000004d}.search-popup{background:var(--card-bg-color);border-radius:5px;width:700px;height:80%;margin:auto;transition:transform .4s;transform:scale(0)}.search-active .search-popup{transform:scale(1)}@media (width<=767px){.search-popup{border-radius:0;width:100%;height:100%}}.search-popup .search-icon,.search-popup .popup-btn-close{color:#999;padding:0 10px;font-size:18px}.search-popup .popup-btn-close{cursor:pointer}.search-popup .popup-btn-close:hover .fa{color:#222}.search-popup .search-header{background:#eee;border-top-left-radius:5px;border-top-right-radius:5px;padding:5px;display:flex}.search-popup input.search-input{background:0 0;border:0;outline:0;width:100%}.search-popup input.search-input::-webkit-search-cancel-button{display:none}.search-popup .search-result-container{flex-direction:column;height:calc(100% - 55px);padding:5px 25px;display:flex;overflow:auto}.search-popup .search-result-container hr{flex-shrink:0;margin:5px 0 10px}.search-popup .search-result-container hr:first-child{display:none}.search-popup .search-result-list{margin:0 5px;padding:0}.search-popup a.search-result-title{font-weight:700}.search-popup p.search-result{border-bottom:1px dashed #ccc;margin:0 0 10px;padding:5px 0}.search-popup .search-input-container{flex-grow:1;padding:2px}.search-popup .search-result-icon{color:#ccc;margin:auto}mark.search-keyword{color:#ff2a2a;background:0 0;border-bottom:1px dashed #ff2a2a;font-weight:700}.use-motion .animated{visibility:inherit;animation-fill-mode:none}.use-motion .sidebar .animated{animation-fill-mode:both}header.header{width:700px;margin:0 auto}@media (width<=767px){header.header{width:auto}}@media (width>=1200px){header.header{width:800px}}@media (width>=1600px){header.header{width:900px}}.main-inner{width:700px;margin:0 auto;padding-bottom:60px}@media (width<=767px){.main-inner{width:auto}}@media (width>=1200px){.main-inner{width:800px}}@media (width>=1600px){.main-inner{width:900px}}@media (width<=767px){.main-inner{padding-left:20px;padding-right:20px}}.post-block:first-of-type{padding-top:70px}@media (width<=767px){.post-block:first-of-type{padding-top:35px}}.custom-logo-image{background:#fff;max-width:150px;margin:0 auto 10px;padding:5px}.brand{background:var(--btn-default-bg)}header.header{padding-top:100px}@media (width<=767px){header.header{padding-top:50px}.site-nav{padding-top:30px}.main-menu{border-top:1px solid #ddd;border-bottom:1px solid #ddd}.menu{text-align:left}.menu .menu-item{margin:0 10px}}.menu .menu-item a{border-bottom:1px solid #0000}@media (width<=767px){.menu .menu-item a{align-items:center;padding:5px 10px;display:flex}.menu .menu-item a .badge{margin-left:auto}}.menu .menu-item a:hover,.menu .menu-item a.menu-item-active{border-bottom:1px solid var(--link-hover-color);background:0 0}@media (width<=767px){.menu .menu-item a:hover,.menu .menu-item a.menu-item-active{border-bottom:1px dotted #ddd}}@media (width>=768px){.menu .menu-item i[class^=fa]{width:100%;margin-right:0;line-height:2;display:block}}.sub-menu{margin:10px 0}.sub-menu .menu-item{display:inline-block}@media (width>=1200px){.sidebar-dimmer{display:none}.sidebar-active{padding-right:320px}.sidebar-active .footer-fixed{right:320px}}</style><link integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css rel=stylesheet><link integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"wangfanggang.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script defer src=/js/config.js></script><meta content=blog property=og:type><meta content="Java学习笔记 - Hutool" property=og:title><meta content=https://wangfanggang.com/Java/java_hutool/index.html property=og:url><meta content=钢钢更新 property=og:site_name><meta content=zh_CN property=og:locale><meta content=https://ws1.sinaimg.cn/mw690/006By2pOgy1g39d58p17rj31840tae83.jpg property=og:image><meta content=http://stepimagewm.how2j.cn/8882.png property=og:image><meta content=http://stepimagewm.how2j.cn/8885.png property=og:image><meta content=http://stepimagewm.how2j.cn/8888.png property=og:image><meta content=http://stepimagewm.how2j.cn/8897.png property=og:image><meta content=http://stepimagewm.how2j.cn/8949.png property=og:image><meta content=http://stepimagewm.how2j.cn/8955.png property=og:image><meta content=http://stepimagewm.how2j.cn/8843.png property=og:image><meta content=http://stepimagewm.how2j.cn/8847.png property=og:image><meta content=http://stepimagewm.how2j.cn/8921.png property=og:image><meta content=http://stepimagewm.how2j.cn/8924.png property=og:image><meta content=http://stepimagewm.how2j.cn/8928.png property=og:image><meta content=http://stepimagewm.how2j.cn/8958.png property=og:image><meta content=http://stepimagewm.how2j.cn/8961.png property=og:image><meta content=http://stepimagewm.how2j.cn/8964.png property=og:image><meta content=http://stepimagewm.how2j.cn/8967.png property=og:image><meta content=http://stepimagewm.how2j.cn/8969.png property=og:image><meta content=http://stepimagewm.how2j.cn/8899.png property=og:image><meta content=http://stepimagewm.how2j.cn/8905.png property=og:image><meta content=http://stepimagewm.how2j.cn/8902.png property=og:image><meta content=http://stepimagewm.how2j.cn/8908.png property=og:image><meta content=http://stepimagewm.how2j.cn/8985.png property=og:image><meta content=http://stepimagewm.how2j.cn/8853.png property=og:image><meta content=http://stepimagewm.how2j.cn/8854.png property=og:image><meta content=http://stepimagewm.how2j.cn/8952.png property=og:image><meta content=http://stepimagewm.how2j.cn/8988.png property=og:image><meta content=http://stepimagewm.how2j.cn/8990.png property=og:image><meta content=http://stepimagewm.how2j.cn/8973.png property=og:image><meta content=http://stepimagewm.how2j.cn/8977.png property=og:image><meta content=http://stepimagewm.how2j.cn/8980.png property=og:image><meta content=http://stepimagewm.how2j.cn/8981.png property=og:image><meta content=http://stepimagewm.how2j.cn/8984.png property=og:image><meta content=http://stepimagewm.how2j.cn/8933.png property=og:image><meta content=http://stepimagewm.how2j.cn/8936.png property=og:image><meta content=http://stepimagewm.how2j.cn/8939.png property=og:image><meta content=http://stepimagewm.how2j.cn/8942.png property=og:image><meta content=http://stepimagewm.how2j.cn/8946.png property=og:image><meta content=2019-05-21T23:37:35.000Z property=article:published_time><meta content=2019-12-31T01:21:44.000Z property=article:modified_time><meta content="王方钢 / Kenny Wang" property=article:author><meta content=Java property=article:tag><meta content=Hutool property=article:tag><meta content=summary name=twitter:card><meta content=https://ws1.sinaimg.cn/mw690/006By2pOgy1g39d58p17rj31840tae83.jpg name=twitter:image><link href=https://wangfanggang.com/Java/java_hutool/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://wangfanggang.com/Java/java_hutool/","path":"Java/java_hutool/","title":"Java学习笔记 - Hutool"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>Java学习笔记 - Hutool | 钢钢更新</title><script integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin defer src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script defer src=/js/utils.js></script><script defer src=/js/motion.js></script><script defer src=/js/sidebar.js></script><script defer src=/js/next-boot.js></script><script integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin defer src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js></script><script defer src=/js/third-party/search/local-search.js></script><script defer src=/js/third-party/addtoany.js></script><noscript><link href=/css/noscript.css rel=stylesheet></noscript><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label=切换导航栏 class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>钢钢更新</p> <i class=logo-line></i> </a><p class=site-subtitle itemprop=description>用行动改变世界，做个有情怀的技术宅</div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=搜索 role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>分类</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-sitemap"><a href=/sitemap.xml rel=section><i class="fa fa-sitemap fa-fw"></i>站点地图</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>搜索 </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=搜索... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#%E7%BC%96%E7%A0%81%E5%B7%A5%E5%85%B7><span class=nav-number>1.</span> <span class=nav-text>编码工具</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#16%E8%BF%9B%E5%88%B6%E5%B7%A5%E5%85%B7><span class=nav-number>1.1.</span> <span class=nav-text>16进制工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E8%BD%AC%E4%B9%89%E5%B7%A5%E5%85%B7><span class=nav-number>1.2.</span> <span class=nav-text>转义工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Hash%E5%B7%A5%E5%85%B7><span class=nav-number>1.3.</span> <span class=nav-text>Hash工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#URL%E5%B7%A5%E5%85%B7><span class=nav-number>1.4.</span> <span class=nav-text>URL工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Base32-64%E5%B7%A5%E5%85%B7><span class=nav-number>1.5.</span> <span class=nav-text>Base32-64工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Unicode%E5%B7%A5%E5%85%B7><span class=nav-number>1.6.</span> <span class=nav-text>Unicode工具</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#%E5%B8%B8%E7%94%A8%E8%BE%85%E5%8A%A9%E7%B1%BB%E5%B7%A5%E5%85%B7><span class=nav-number>2.</span> <span class=nav-text>常用辅助类工具</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7><span class=nav-number>2.1.</span> <span class=nav-text>转换工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%97%A5%E6%9C%9F%E5%B7%A5%E5%85%B7><span class=nav-number>2.2.</span> <span class=nav-text>日期工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B7%A5%E5%85%B7-StrUtil><span class=nav-number>2.3.</span> <span class=nav-text>字符串工具 - StrUtil</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E4%B8%8E%E7%A9%BA%E5%88%A4%E6%96%AD%E7%9B%B8%E5%85%B3%E7%9A%84><span class=nav-number>2.3.1.</span> <span class=nav-text>与空判断相关的</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%A4%B4%E5%B0%BE%E5%A4%84%E7%90%86><span class=nav-number>2.3.2.</span> <span class=nav-text>头尾处理</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%8C%85%E5%90%AB%E4%B8%8E%E5%90%A6><span class=nav-number>2.3.3.</span> <span class=nav-text>包含与否</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#setter-gettter-%E5%A4%84%E7%90%86><span class=nav-number>2.3.4.</span> <span class=nav-text>setter gettter 处理</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%88%A0%E9%99%A4><span class=nav-number>2.3.5.</span> <span class=nav-text>删除</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%A4%A7%E5%B0%8F%E5%86%99><span class=nav-number>2.3.6.</span> <span class=nav-text>大小写</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%88%86%E5%89%B2><span class=nav-number>2.3.7.</span> <span class=nav-text>分割</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%88%AA%E5%8F%96><span class=nav-number>2.3.8.</span> <span class=nav-text>截取</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%88%9B%E5%BB%BA%E5%AD%97%E7%AC%A6%E4%B8%B2><span class=nav-number>2.3.9.</span> <span class=nav-text>创建字符串</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%98%AF%E5%90%A6%E7%9B%B8%E7%AD%89><span class=nav-number>2.3.10.</span> <span class=nav-text>是否相等</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%A0%BC%E5%BC%8F%E5%8C%96><span class=nav-number>2.3.11.</span> <span class=nav-text>格式化</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E5%AD%97%E8%8A%82><span class=nav-number>2.3.12.</span> <span class=nav-text>获取字节</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2><span class=nav-number>2.3.13.</span> <span class=nav-text>转换为字符串</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2><span class=nav-number>2.3.14.</span> <span class=nav-text>格式转换</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%8C%85%E8%A3%B9><span class=nav-number>2.3.15.</span> <span class=nav-text>包裹</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%A1%AB%E5%85%85><span class=nav-number>2.3.16.</span> <span class=nav-text>填充</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E5%85%B6%E4%BB%96%E5%AF%B9%E8%B1%A1><span class=nav-number>2.3.17.</span> <span class=nav-text>获取其他对象</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0><span class=nav-number>2.3.18.</span> <span class=nav-text>出现次数</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%91%98%E8%A6%81%E5%92%8C%E9%9A%90%E8%97%8F><span class=nav-number>2.3.19.</span> <span class=nav-text>摘要和隐藏</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%AF%94%E8%BE%83><span class=nav-number>2.3.20.</span> <span class=nav-text>比较</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E7%B4%A2%E5%BC%95%E4%BD%8D%E7%BD%AE><span class=nav-number>2.3.21.</span> <span class=nav-text>获取索引位置</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%BF%BD%E5%8A%A0><span class=nav-number>2.3.22.</span> <span class=nav-text>追加</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%9B%BF%E6%8D%A2><span class=nav-number>2.3.23.</span> <span class=nav-text>替换</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E7%9B%B8%E4%BC%BC%E5%BA%A6><span class=nav-number>2.3.24.</span> <span class=nav-text>相似度</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%85%B6%E4%BB%96><span class=nav-number>2.3.25.</span> <span class=nav-text>其他</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%95%B0%E5%AD%97%E5%B7%A5%E5%85%B7><span class=nav-number>2.4.</span> <span class=nav-text>数字工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%95%B0%E7%BB%84%E5%B7%A5%E5%85%B7><span class=nav-number>2.5.</span> <span class=nav-text>数组工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E9%9A%8F%E6%9C%BA%E5%B7%A5%E5%85%B7><span class=nav-number>2.6.</span> <span class=nav-text>随机工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%AF%94%E8%BE%83%E5%99%A8%E5%B7%A5%E5%85%B7><span class=nav-number>2.7.</span> <span class=nav-text>比较器工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%B7%A5%E5%85%B7><span class=nav-number>2.8.</span> <span class=nav-text>多线程工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%BC%93%E5%AD%98%E5%B7%A5%E5%85%B7><span class=nav-number>2.9.</span> <span class=nav-text>缓存工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%AE%9A%E6%97%B6%E5%99%A8%E5%B7%A5%E5%85%B7><span class=nav-number>2.10.</span> <span class=nav-text>定时器工具</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#HutoolCronTask><span class=nav-number>2.10.1.</span> <span class=nav-text>HutoolCronTask</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#cron-settings><span class=nav-number>2.10.2.</span> <span class=nav-text>cron.settings</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#TestCron><span class=nav-number>2.10.3.</span> <span class=nav-text>TestCron</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E7%94%A8%E4%BB%A3%E7%A0%81%E6%B7%BB%E5%8A%A0%E4%BB%BB%E5%8A%A1><span class=nav-number>2.10.4.</span> <span class=nav-text>用代码添加任务</span></a></ol></ol><li class="nav-item nav-level-1"><a class=nav-link href=#%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1><span class=nav-number>3.</span> <span class=nav-text>类和对象</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%8F%8D%E5%B0%84%E5%B7%A5%E5%85%B7><span class=nav-number>3.1.</span> <span class=nav-text>反射工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%B1%BB%E5%B7%A5%E5%85%B7><span class=nav-number>3.2.</span> <span class=nav-text>类工具</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E6%96%B9%E6%B3%95><span class=nav-number>3.2.1.</span> <span class=nav-text>获取方法</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E5%AD%97%E6%AE%B5><span class=nav-number>3.2.2.</span> <span class=nav-text>获取字段</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95><span class=nav-number>3.2.3.</span> <span class=nav-text>调用方法</span></a></ol></ol><li class="nav-item nav-level-1"><a class=nav-link href=#%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7><span class=nav-number>4.</span> <span class=nav-text>系统工具</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%B2%98%E8%B4%B4%E6%9D%BF%E5%B7%A5%E5%85%B7><span class=nav-number>4.1.</span> <span class=nav-text>粘贴板工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E8%BF%90%E8%A1%8C%E6%97%B6%E5%B7%A5%E5%85%B7><span class=nav-number>4.2.</span> <span class=nav-text>运行时工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%B3%BB%E7%BB%9F%E5%B1%9E%E6%80%A7%E5%B7%A5%E5%85%B7><span class=nav-number>4.3.</span> <span class=nav-text>系统属性工具</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#%E6%96%87%E4%BB%B6%E7%9B%B8%E5%85%B3><span class=nav-number>5.</span> <span class=nav-text>文件相关</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%96%87%E4%BB%B6IO%E5%B7%A5%E5%85%B7><span class=nav-number>5.1.</span> <span class=nav-text>文件IO工具</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#IOUtil><span class=nav-number>5.1.1.</span> <span class=nav-text>IOUtil</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#FileUtil><span class=nav-number>5.1.2.</span> <span class=nav-text>FileUtil</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#WatchMonitor><span class=nav-number>5.1.3.</span> <span class=nav-text>WatchMonitor</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#ClassPathResource><span class=nav-number>5.1.4.</span> <span class=nav-text>ClassPathResource</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%9B%BE%E7%89%87%E5%B7%A5%E5%85%B7><span class=nav-number>5.2.</span> <span class=nav-text>图片工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#CSV%E5%B7%A5%E5%85%B7><span class=nav-number>5.3.</span> <span class=nav-text>CSV工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%9B%BE%E5%BD%A2%E9%AA%8C%E8%AF%81%E7%A0%81%E5%B7%A5%E5%85%B7><span class=nav-number>5.4.</span> <span class=nav-text>图形验证码工具</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#%E7%AC%AC%E4%B8%89%E6%96%B9%E7%9B%B8%E5%85%B3><span class=nav-number>6.</span> <span class=nav-text>第三方相关</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E9%82%AE%E4%BB%B6%E5%B7%A5%E5%85%B7><span class=nav-number>6.1.</span> <span class=nav-text>邮件工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E4%BA%8C%E7%BB%B4%E7%A0%81%E5%B7%A5%E5%85%B7><span class=nav-number>6.2.</span> <span class=nav-text>二维码工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#FTP%E5%B7%A5%E5%85%B7><span class=nav-number>6.3.</span> <span class=nav-text>FTP工具</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#%E5%85%B6%E4%BB%96-1><span class=nav-number>7.</span> <span class=nav-text>其他</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7><span class=nav-number>7.1.</span> <span class=nav-text>网络工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7><span class=nav-number>7.2.</span> <span class=nav-text>压缩工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%AD%A3%E5%88%99%E5%B7%A5%E5%85%B7><span class=nav-number>7.3.</span> <span class=nav-text>正则工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%A0%A1%E9%AA%8C%E5%B7%A5%E5%85%B7><span class=nav-number>7.4.</span> <span class=nav-text>校验工具</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E8%BA%AB%E4%BB%BD%E8%AF%81%E5%B7%A5%E5%85%B7><span class=nav-number>7.5.</span> <span class=nav-text>身份证工具</span></a></ol></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><img alt="王方钢 / Kenny Wang" class=site-author-image itemprop=image src=/uploads/kwang.jpg><p class=site-author-name itemprop=name>王方钢 / Kenny Wang<div class=site-description itemprop=description></div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>176</span> <span class=site-state-item-name>日志</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>19</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>61</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub → https://github.com/wfg2513148" href=https://github.com/wfg2513148 target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="E-Mail → mailto:wfgdlut@gmail.com" href=mailto:wfgdlut@gmail.com target=_blank><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span><span class=links-of-author-item> <a rel="noopener me" title="Twitter → https://x.com/wfgdlut" href=https://x.com/wfgdlut target=_blank><i class="fab fa-twitter fa-fw"></i>Twitter</a> </span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=zh-CN><link href=https://wangfanggang.com/Java/java_hutool/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=/uploads/kwang.jpg itemprop=image> <meta content="王方钢 / Kenny Wang" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content=钢钢更新 itemprop=name> <meta itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="Java学习笔记 - Hutool | 钢钢更新" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>Java学习笔记 - Hutool</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2019-05-21 23:37:35" datetime=2019-05-21T23:37:35+00:00>2019-05-21</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2019-12-31 01:21:44" datetime=2019-12-31T01:21:44+00:00 itemprop=dateModified>2019-12-31</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Java/ itemprop=url rel=index><span itemprop=name>Java</span></a> </span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>17k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>1:02</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><img src=https://ws1.sinaimg.cn/mw690/006By2pOgy1g39d58p17rj31840tae83.jpg></p><span id=more></span><h1 id=编码工具><a class=headerlink href=#编码工具 title=编码工具></a>编码工具</h1><h2 id=16进制工具><a class=headerlink href=#16进制工具 title=16进制工具></a>16进制工具</h2><p><code>TestHex.java</code><p><img src=http://stepimagewm.how2j.cn/8882.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line>  </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.awt.Color;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.HexUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line>  </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestHex</span> {</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("判断是否是十六进制")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line> </span><br><span class=line>        <span class=type>String</span> <span class=variable>s1</span> <span class=operator>=</span> <span class=string>"12"</span>;</span><br><span class=line>        <span class=type>boolean</span> <span class=variable>b1</span> <span class=operator>=</span> HexUtil.isHexNumber(s1);</span><br><span class=line>        <span class=type>String</span> <span class=variable>s2</span> <span class=operator>=</span> <span class=string>"0x12"</span>;</span><br><span class=line>        <span class=type>boolean</span> <span class=variable>b2</span> <span class=operator>=</span> HexUtil.isHexNumber(s2);</span><br><span class=line>         </span><br><span class=line>        p2(<span class=string>"字符串"</span>,s1, <span class=string>"是否十六机制"</span>,b1);</span><br><span class=line>        p2(<span class=string>"字符串"</span>,s2, <span class=string>"是否十六机制"</span>,b2);</span><br><span class=line>          </span><br><span class=line>    }</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("字符串和十六进制互相转换")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span> {</span><br><span class=line>         </span><br><span class=line>        <span class=type>String</span> <span class=variable>s1</span> <span class=operator>=</span> <span class=string>"how2j.cn - java教程"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>s2</span> <span class=operator>=</span> HexUtil.encodeHexStr(s1);</span><br><span class=line>        <span class=type>String</span> <span class=variable>s3</span> <span class=operator>=</span> HexUtil.decodeHexStr(s2);</span><br><span class=line>         </span><br><span class=line>        p2(<span class=string>"原数据"</span>,s1, <span class=string>"十六机制编码"</span>,s2);</span><br><span class=line>        p2(<span class=string>"十六进制"</span>,s2, <span class=string>"十六机制解码"</span>,s3);</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("颜色转换")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test3</span><span class=params>()</span> {</span><br><span class=line>         </span><br><span class=line>        <span class=type>Color</span> <span class=variable>color1</span> <span class=operator>=</span> Color.red;</span><br><span class=line>        <span class=type>String</span> <span class=variable>s1</span> <span class=operator>=</span> HexUtil.encodeColor(color1);</span><br><span class=line>        <span class=type>String</span> <span class=variable>s2</span> <span class=operator>=</span> <span class=string>"#112233"</span>;</span><br><span class=line>        <span class=type>Color</span> <span class=variable>color2</span> <span class=operator>=</span> HexUtil.decodeColor(s2);</span><br><span class=line>        p2(<span class=string>"颜色对象1"</span>,color1, <span class=string>"字符串"</span>,s1);</span><br><span class=line>        p2(<span class=string>"字符串"</span>,s2, <span class=string>"颜色对象2"</span>,color2);</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>; </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>,msg);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>              </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span>ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span>(<span class=literal>null</span>!=annotation) {</span><br><span class=line>                String comment= annotation.value();</span><br><span class=line>                <span class=keyword>if</span>(!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>,comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line>                  </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1=StrUtil.padEnd(type1,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2=StrUtil.padEnd(type2,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>,type1,value1);</span><br><span class=line>  </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>      </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span>(methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=meta>@Target({METHOD,TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>         String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=转义工具><a class=headerlink href=#转义工具 title=转义工具></a>转义工具</h2><p><code>TestEscape.java</code><p><img src=http://stepimagewm.how2j.cn/8885.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line>  </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.EscapeUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line>  </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestEscape</span> {</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("转义与反转义")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>s1</span> <span class=operator>=</span> <span class=string>"&lt;script>location.href='http://how2j.cn';&lt;/script>"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>s2</span> <span class=operator>=</span> EscapeUtil.escapeHtml4(s1);</span><br><span class=line>        <span class=type>String</span> <span class=variable>s3</span> <span class=operator>=</span> EscapeUtil.unescapeHtml4(s2);</span><br><span class=line>         </span><br><span class=line>        p2(<span class=string>"原数据"</span>,s1, <span class=string>"转义后"</span>,s2);</span><br><span class=line>        p2(<span class=string>"转义后"</span>,s2, <span class=string>"原数据"</span>,s3);</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>; </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>,msg);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>              </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span>ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span>(<span class=literal>null</span>!=annotation) {</span><br><span class=line>                String comment= annotation.value();</span><br><span class=line>                <span class=keyword>if</span>(!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>,comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line>                  </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1=StrUtil.padEnd(type1,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2=StrUtil.padEnd(type2,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>,type1,value1);</span><br><span class=line>  </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>      </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span>(methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=meta>@Target({METHOD,TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>         String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=Hash工具><a class=headerlink href=#Hash工具 title=Hash工具></a>Hash工具</h2><p><code>TestHash.java</code><p><img src=http://stepimagewm.how2j.cn/8888.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line>  </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.HashUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line>  </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestHash</span> {</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("各种各样的hash算法")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>s</span> <span class=operator>=</span> <span class=string>"how2j.cn- java教程"</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>number</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash1</span> <span class=operator>=</span> HashUtil.additiveHash(s, Integer.MAX_VALUE);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash2</span> <span class=operator>=</span> HashUtil.rotatingHash(s, Integer.MAX_VALUE);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash3</span> <span class=operator>=</span> HashUtil.oneByOneHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash4</span> <span class=operator>=</span> HashUtil.bernstein(s);</span><br><span class=line><span class=comment>//      long hash5 = HashUtil.universal(s); 怎么调用？站长不会调用。。。颜面~~~</span></span><br><span class=line><span class=comment>//      long hash6 = HashUtil.zobrist(s);</span></span><br><span class=line>        <span class=type>long</span> <span class=variable>hash7</span> <span class=operator>=</span> HashUtil.fnvHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash8</span> <span class=operator>=</span> HashUtil.intHash(number);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash9</span> <span class=operator>=</span> HashUtil.rsHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash10</span> <span class=operator>=</span> HashUtil.jsHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash11</span> <span class=operator>=</span> HashUtil.pjwHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash12</span> <span class=operator>=</span> HashUtil.elfHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash13</span> <span class=operator>=</span> HashUtil.bkdrHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash14</span> <span class=operator>=</span> HashUtil.sdbmHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash15</span> <span class=operator>=</span> HashUtil.djbHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash16</span> <span class=operator>=</span> HashUtil.dekHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash17</span> <span class=operator>=</span> HashUtil.apHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash18</span> <span class=operator>=</span> HashUtil.tianlHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash19</span> <span class=operator>=</span> HashUtil.javaDefaultHash(s);</span><br><span class=line>        <span class=type>long</span> <span class=variable>hash20</span> <span class=operator>=</span> HashUtil.mixHash(s);     </span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"加法算法对应的哈希值"</span>, hash1);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"旋转算法对应的哈希值"</span>, hash2);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"一次一个算法对应的哈希值"</span>, hash3);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"Bernstein's算法对应的哈希值"</span>, hash4);</span><br><span class=line><span class=comment>//      p2("原数据",s, " Universal 算法对应的哈希值", hash5);</span></span><br><span class=line><span class=comment>//      p2("原数据",s, " Zobrist 算法对应的哈希值", hash6);</span></span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>" 改进的32位FNV 算法对应的哈希值"</span>, hash7);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"Thomas Wang的整数算法对应的哈希值"</span>, hash8);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"RS算法对应的哈希值"</span>, hash9);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"JS算法对应的哈希值"</span>, hash10);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"PJ算法对应的哈希值"</span>, hash11);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"ELF算法对应的哈希值"</span>, hash12);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"BKDR算法对应的哈希值"</span>, hash13);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"SDBM算法对应的哈希值"</span>, hash14);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"DJB算法对应的哈希值"</span>, hash15);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"DEK算法对应的哈希值"</span>, hash16);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"AP算法对应的哈希值"</span>, hash17);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"TianL算法对应的哈希值"</span>, hash18);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"JAVA自己带算法对应的哈希值"</span>, hash19);</span><br><span class=line>        p2(<span class=string>"原数据"</span>,s, <span class=string>"混合算法对应的哈希值"</span>, hash20);</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>; </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>,msg);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>              </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span>ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span>(<span class=literal>null</span>!=annotation) {</span><br><span class=line>                String comment= annotation.value();</span><br><span class=line>                <span class=keyword>if</span>(!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>,comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line>                  </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1=StrUtil.padEnd(type1,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2=StrUtil.padEnd(type2,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>,type1,value1);</span><br><span class=line>  </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>      </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span>(methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=meta>@Target({METHOD,TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>         String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=URL工具><a class=headerlink href=#URL工具 title=URL工具></a>URL工具</h2><p><code>TestURL.java</code><p><img src=http://stepimagewm.how2j.cn/8897.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.URLUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestURL</span> {</span><br><span class=line>     </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("URLUtil使用举例")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>url1</span> <span class=operator>=</span> <span class=string>"how2j.cn"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>url2</span> <span class=operator>=</span> <span class=string>"http://how2j.cn/k/tmall_springboot/tmall_springboot-1799/1799.html"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>urla</span> <span class=operator>=</span>URLUtil.formatUrl(url1);</span><br><span class=line>        <span class=type>String</span> <span class=variable>urlb</span> <span class=operator>=</span> URLUtil.encode(url2);</span><br><span class=line>        <span class=type>String</span> <span class=variable>urlc</span> <span class=operator>=</span> URLUtil.decode(urlb);</span><br><span class=line>        <span class=type>String</span> <span class=variable>urld</span> <span class=operator>=</span> URLUtil.getPath(url2);</span><br><span class=line>         </span><br><span class=line>        p1(<span class=string>"原数据"</span>,url1, <span class=string>"格式化之后"</span>,urla);</span><br><span class=line>        p1(<span class=string>"原数据"</span>,url2, <span class=string>"编码数据"</span>,urlb);</span><br><span class=line>        p1(<span class=string>"编码数据"</span>,urlb, <span class=string>"解码数据"</span>,urlc);</span><br><span class=line>        p1(<span class=string>"原数据"</span>,url2, <span class=string>"对应路径路径"</span>,urld);</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>; </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>,msg);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>              </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span>ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span>(<span class=literal>null</span>!=annotation) {</span><br><span class=line>                String comment= annotation.value();</span><br><span class=line>                <span class=keyword>if</span>(!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>,comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line>                  </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1=StrUtil.padEnd(type1,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2=StrUtil.padEnd(type2,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>,type1,value1);</span><br><span class=line>  </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>      </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span>(methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=meta>@Target({METHOD,TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>         String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=Base32-64工具><a class=headerlink href=#Base32-64工具 title=Base32-64工具></a>Base32-64工具</h2><p><code>TestIdBase32_64.java</code><p><img src=http://stepimagewm.how2j.cn/8949.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.codec.Base32;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.codec.Base64;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestIdBase32_64</span> {</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("base-32-64转换")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>charset</span> <span class=operator>=</span> <span class=string>"utf-8"</span>;</span><br><span class=line> </span><br><span class=line>        <span class=type>String</span> <span class=variable>content</span> <span class=operator>=</span> <span class=string>"how2j.cn - java教程"</span>;</span><br><span class=line>         </span><br><span class=line>        p3(<span class=string>"原字符串"</span>,content);</span><br><span class=line>         </span><br><span class=line>        String code32= Base32.encode(content, charset);</span><br><span class=line>        content = Base32.decodeStr(code32,charset);</span><br><span class=line> </span><br><span class=line>        p3(<span class=string>"32位编码后"</span>,code32);</span><br><span class=line>        p3(<span class=string>"32位解码"</span>,content);</span><br><span class=line> </span><br><span class=line>        String code64= Base64.encode(content, charset);</span><br><span class=line>        content = Base64.decodeStr(code64,charset);</span><br><span class=line>        p3(<span class=string>"64位编码后"</span>,code64);</span><br><span class=line>        p3(<span class=string>"64位解码"</span>,content);</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line> </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line> </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line> </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Target({ METHOD, TYPE })</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=Unicode工具><a class=headerlink href=#Unicode工具 title=Unicode工具></a>Unicode工具</h2><p><code>TestUnicode.java</code><p><img src=http://stepimagewm.how2j.cn/8955.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.text.UnicodeUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestUnicode</span> {</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("unicode转换")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>charset</span> <span class=operator>=</span> <span class=string>"utf-8"</span>;</span><br><span class=line> </span><br><span class=line>        <span class=type>String</span> <span class=variable>content</span> <span class=operator>=</span> <span class=string>"how2j.cn - java教程"</span>;</span><br><span class=line>         </span><br><span class=line>        p3(<span class=string>"原字符串"</span>,content);</span><br><span class=line>         </span><br><span class=line>        String unicode= UnicodeUtil.toUnicode(content);</span><br><span class=line>        content = UnicodeUtil.toString(unicode);</span><br><span class=line> </span><br><span class=line>        p3(<span class=string>"获取unicode"</span>,unicode);</span><br><span class=line>        p3(<span class=string>"转会原字符串"</span>,content);</span><br><span class=line> </span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line> </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line> </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line> </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Target({ METHOD, TYPE })</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h1 id=常用辅助类工具><a class=headerlink href=#常用辅助类工具 title=常用辅助类工具></a>常用辅助类工具</h1><h2 id=转换工具><a class=headerlink href=#转换工具 title=转换工具></a>转换工具</h2><p><code>TestConverter.java</code><p><img src=http://stepimagewm.how2j.cn/8843.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line><span class=keyword>import</span> java.util.List;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.CharsetUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestConverter</span> {</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("转换为字符串")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>int</span> <span class=variable>a</span> <span class=operator>=</span> <span class=number>1</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>aStr</span> <span class=operator>=</span> Convert.toStr(a);</span><br><span class=line></span><br><span class=line>        <span class=type>int</span>[] b = {<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>, <span class=number>4</span>, <span class=number>5</span>};</span><br><span class=line>        <span class=type>String</span> <span class=variable>bStr</span> <span class=operator>=</span> Convert.toStr(b);</span><br><span class=line></span><br><span class=line>        <span class=type>Object</span> <span class=variable>c</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>cStr</span> <span class=operator>=</span> Convert.toStr(c, <span class=string>"空字符串(默认值)"</span>);</span><br><span class=line></span><br><span class=line>        p(<span class=string>"整数"</span>, a, <span class=string>"字符串"</span>, aStr);</span><br><span class=line>        p(<span class=string>"long数组"</span>, b, <span class=string>"字符串"</span>, bStr);</span><br><span class=line>        p(<span class=string>"空对象"</span>, c, <span class=string>"字符串"</span>, cStr);</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("数组类型互相转化")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span> {</span><br><span class=line>        String[] a = {<span class=string>"1"</span>, <span class=string>"2"</span>, <span class=string>"3"</span>, <span class=string>"4"</span>};</span><br><span class=line>        Integer[] b = Convert.toIntArray(a);</span><br><span class=line>        p(<span class=string>"字符串数组"</span>, Convert.toStr(a), <span class=string>"Integer数组"</span>, Convert.toStr(b));</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("数组和集合互换")</span></span><br><span class=line></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test3</span><span class=params>()</span> {</span><br><span class=line></span><br><span class=line>        String[] a = {<span class=string>"1"</span>, <span class=string>"2"</span>, <span class=string>"3"</span>, <span class=string>"4"</span>};</span><br><span class=line></span><br><span class=line>        List&lt;?> l = Convert.toList(a);</span><br><span class=line></span><br><span class=line>        String[] b = Convert.toStrArray(l);</span><br><span class=line>        p(<span class=string>"字符串数组"</span>, a, <span class=string>"集合"</span>, l);</span><br><span class=line>        p(<span class=string>"集合"</span>, l, <span class=string>"字符串数组"</span>, b);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("半角全角互相转换")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test4</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>a</span> <span class=operator>=</span> <span class=string>"123456789"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>b</span> <span class=operator>=</span> Convert.toSBC(a);</span><br><span class=line>        <span class=type>String</span> <span class=variable>c</span> <span class=operator>=</span> Convert.toDBC(b);</span><br><span class=line>        p(<span class=string>"半角"</span>, a, <span class=string>"全角"</span>, b);</span><br><span class=line>        p(<span class=string>"全角"</span>, b, <span class=string>"半角"</span>, c);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("Unicode和字符串转换")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test6</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>a</span> <span class=operator>=</span> <span class=string>"how2j的Hutool教程"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>unicode</span> <span class=operator>=</span> Convert.strToUnicode(a);</span><br><span class=line>        <span class=type>String</span> <span class=variable>b</span> <span class=operator>=</span> Convert.unicodeToStr(unicode);</span><br><span class=line></span><br><span class=line>        p(<span class=string>"字符串"</span>, a, <span class=string>"unicode"</span>, unicode);</span><br><span class=line>        p(<span class=string>"unicode"</span>, unicode, <span class=string>"字符串"</span>, b);</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("不同编码之间的转换")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test7</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>a</span> <span class=operator>=</span> <span class=string>"how2j的Hutool教程"</span>;</span><br><span class=line>        <span class=comment>//转换后result为乱码</span></span><br><span class=line>        <span class=type>String</span> <span class=variable>b</span> <span class=operator>=</span> Convert.convertCharset(a, CharsetUtil.UTF_8, CharsetUtil.ISO_8859_1);</span><br><span class=line>        <span class=type>String</span> <span class=variable>c</span> <span class=operator>=</span> Convert.convertCharset(b, CharsetUtil.ISO_8859_1, <span class=string>"UTF-8"</span>);</span><br><span class=line></span><br><span class=line>        p(<span class=string>"UTF-8"</span>, a, <span class=string>"ISO-8859-1"</span>, b);</span><br><span class=line>        p(<span class=string>"ISO-8859-1"</span>, b, <span class=string>"UTF-8"</span>, c);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("数字转换为金额")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test8</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>double</span> <span class=variable>a</span> <span class=operator>=</span> <span class=number>1234567123456.12</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>b</span> <span class=operator>=</span> Convert.digitToChinese(a);</span><br><span class=line>        p(<span class=string>"数字"</span>, a, <span class=string>"钞票金额"</span>, b);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("原始类和包装类转换")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test9</span><span class=params>()</span> {</span><br><span class=line>        Class&lt;?> wrapClass = Integer.class;</span><br><span class=line></span><br><span class=line>        Class&lt;?> unWraped = Convert.unWrap(wrapClass);</span><br><span class=line></span><br><span class=line>        Class&lt;?> primitiveClass = <span class=type>long</span>.class;</span><br><span class=line></span><br><span class=line>        Class&lt;?> wraped = Convert.wrap(primitiveClass);</span><br><span class=line>        p(<span class=string>"包装类型"</span>, wrapClass, <span class=string>"原始类型"</span>, unWraped);</span><br><span class=line>        p(<span class=string>"原始类型"</span>, primitiveClass, <span class=string>"wraped"</span>, wraped);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> e.getStackTrace()[<span class=number>1</span>].getMethodName();</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t被转换为----->%n\t%s :\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=日期工具><a class=headerlink href=#日期工具 title=日期工具></a>日期工具</h2><p><code>TestDate.java</code><p><img src=http://stepimagewm.how2j.cn/8847.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br><span class=line>184</span><br><span class=line>185</span><br><span class=line>186</span><br><span class=line>187</span><br><span class=line>188</span><br><span class=line>189</span><br><span class=line>190</span><br><span class=line>191</span><br><span class=line>192</span><br><span class=line>193</span><br><span class=line>194</span><br><span class=line>195</span><br><span class=line>196</span><br><span class=line>197</span><br><span class=line>198</span><br><span class=line>199</span><br><span class=line>200</span><br><span class=line>201</span><br><span class=line>202</span><br><span class=line>203</span><br><span class=line>204</span><br><span class=line>205</span><br><span class=line>206</span><br><span class=line>207</span><br><span class=line>208</span><br><span class=line>209</span><br><span class=line>210</span><br><span class=line>211</span><br><span class=line>212</span><br><span class=line>213</span><br><span class=line>214</span><br><span class=line>215</span><br><span class=line>216</span><br><span class=line>217</span><br><span class=line>218</span><br><span class=line>219</span><br><span class=line>220</span><br><span class=line>221</span><br><span class=line>222</span><br><span class=line>223</span><br><span class=line>224</span><br><span class=line>225</span><br><span class=line>226</span><br><span class=line>227</span><br><span class=line>228</span><br><span class=line>229</span><br><span class=line>230</span><br><span class=line>231</span><br><span class=line>232</span><br><span class=line>233</span><br><span class=line>234</span><br><span class=line>235</span><br><span class=line>236</span><br><span class=line>237</span><br><span class=line>238</span><br><span class=line>239</span><br><span class=line>240</span><br><span class=line>241</span><br><span class=line>242</span><br><span class=line>243</span><br><span class=line>244</span><br><span class=line>245</span><br><span class=line>246</span><br><span class=line>247</span><br><span class=line>248</span><br><span class=line>249</span><br><span class=line>250</span><br><span class=line>251</span><br><span class=line>252</span><br><span class=line>253</span><br><span class=line>254</span><br><span class=line>255</span><br><span class=line>256</span><br><span class=line>257</span><br><span class=line>258</span><br><span class=line>259</span><br><span class=line>260</span><br><span class=line>261</span><br><span class=line>262</span><br><span class=line>263</span><br><span class=line>264</span><br><span class=line>265</span><br><span class=line>266</span><br><span class=line>267</span><br><span class=line>268</span><br><span class=line>269</span><br><span class=line>270</span><br><span class=line>271</span><br><span class=line>272</span><br><span class=line>273</span><br><span class=line>274</span><br><span class=line>275</span><br><span class=line>276</span><br><span class=line>277</span><br><span class=line>278</span><br><span class=line>279</span><br><span class=line>280</span><br><span class=line>281</span><br><span class=line>282</span><br><span class=line>283</span><br><span class=line>284</span><br><span class=line>285</span><br><span class=line>286</span><br><span class=line>287</span><br><span class=line>288</span><br><span class=line>289</span><br><span class=line>290</span><br><span class=line>291</span><br><span class=line>292</span><br><span class=line>293</span><br><span class=line>294</span><br><span class=line>295</span><br><span class=line>296</span><br><span class=line>297</span><br><span class=line>298</span><br><span class=line>299</span><br><span class=line>300</span><br><span class=line>301</span><br><span class=line>302</span><br><span class=line>303</span><br><span class=line>304</span><br><span class=line>305</span><br><span class=line>306</span><br><span class=line>307</span><br><span class=line>308</span><br><span class=line>309</span><br><span class=line>310</span><br><span class=line>311</span><br><span class=line>312</span><br><span class=line>313</span><br><span class=line>314</span><br><span class=line>315</span><br><span class=line>316</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line><span class=keyword>import</span> java.util.Date;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.date.BetweenFormater.Level;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.date.DateField;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.date.DateUnit;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.date.DateUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.date.TimeInterval;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestDate</span> {</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("字符串转日期")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test0</span><span class=params>()</span> {</span><br><span class=line>        printDefaultFormat();</span><br><span class=line>        Date d;</span><br><span class=line>        <span class=type>String</span> <span class=variable>str3</span> <span class=operator>=</span> <span class=string>"12:12:12"</span>;</span><br><span class=line>        d = DateUtil.parse(str3);</span><br><span class=line>        p1(<span class=string>"字符串"</span>, str3, <span class=string>"日期格式"</span>, d);</span><br><span class=line></span><br><span class=line>        <span class=type>String</span> <span class=variable>str1</span> <span class=operator>=</span> <span class=string>"2012-12-12"</span>;</span><br><span class=line>        d = DateUtil.parse(str1);</span><br><span class=line>        p1(<span class=string>"字符串"</span>, str1, <span class=string>"日期格式"</span>, d);</span><br><span class=line></span><br><span class=line>        <span class=type>String</span> <span class=variable>str4</span> <span class=operator>=</span> <span class=string>"2012-12-12 12:12"</span>;</span><br><span class=line>        d = DateUtil.parse(str4);</span><br><span class=line>        p1(<span class=string>"字符串"</span>, str4, <span class=string>"日期格式"</span>, d);</span><br><span class=line></span><br><span class=line>        <span class=type>String</span> <span class=variable>str2</span> <span class=operator>=</span> <span class=string>"2012-12-12 12:12:12"</span>;</span><br><span class=line>        d = DateUtil.parse(str2);</span><br><span class=line>        p1(<span class=string>"字符串"</span>, str2, <span class=string>"日期格式"</span>, d);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("日期转字符串")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>Date</span> <span class=variable>d</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">Date</span>();</span><br><span class=line></span><br><span class=line>        <span class=comment>//结果 2017/03/01</span></span><br><span class=line>        <span class=type>String</span> <span class=variable>format</span> <span class=operator>=</span> DateUtil.format(d, <span class=string>"yyyy/MM/dd"</span>);</span><br><span class=line></span><br><span class=line>        <span class=comment>//常用格式的格式化，结果：2017-03-01</span></span><br><span class=line>        <span class=type>String</span> <span class=variable>formatDate</span> <span class=operator>=</span> DateUtil.formatDate(d);</span><br><span class=line></span><br><span class=line>        <span class=comment>//结果：2017-03-01 00:00:00</span></span><br><span class=line>        <span class=type>String</span> <span class=variable>formatDateTime</span> <span class=operator>=</span> DateUtil.formatDateTime(d);</span><br><span class=line></span><br><span class=line>        <span class=comment>//结果：00:00:00</span></span><br><span class=line>        <span class=type>String</span> <span class=variable>formatTime</span> <span class=operator>=</span> DateUtil.formatTime(d);</span><br><span class=line></span><br><span class=line>        p1(<span class=string>"日期格式"</span>, d, <span class=string>"自定义格式的字符串"</span>, format);</span><br><span class=line>        p1(<span class=string>"日期格式"</span>, d, <span class=string>"只是日期格式"</span>, formatDate);</span><br><span class=line>        p1(<span class=string>"日期格式"</span>, d, <span class=string>"日期和时间格式"</span>, formatDateTime);</span><br><span class=line>        p1(<span class=string>"日期格式"</span>, d, <span class=string>"只是时间格式"</span>, formatTime);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("获取部分信息")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>Date</span> <span class=variable>d</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">Date</span>();</span><br><span class=line>        <span class=comment>//获得年的部分</span></span><br><span class=line>        <span class=type>int</span> <span class=variable>year</span> <span class=operator>=</span> DateUtil.year(d);</span><br><span class=line>        <span class=comment>//获得月份，从0开始计数</span></span><br><span class=line>        <span class=type>int</span> <span class=variable>month</span> <span class=operator>=</span> DateUtil.month(d);</span><br><span class=line>        <span class=comment>//获得月份枚举</span></span><br><span class=line>        <span class=type>Enum</span> <span class=variable>months</span> <span class=operator>=</span> DateUtil.monthEnum(d);</span><br><span class=line></span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(d), <span class=string>"年份"</span>, year);</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(d), <span class=string>"月份"</span>, month);</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(d), <span class=string>"月份枚举信息"</span>, months);</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("开始和结束时间")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test3</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>Date</span> <span class=variable>date</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">Date</span>();</span><br><span class=line></span><br><span class=line>        <span class=comment>//一天的开始，结果：2017-03-01 00:00:00</span></span><br><span class=line>        <span class=type>Date</span> <span class=variable>beginOfDay</span> <span class=operator>=</span> DateUtil.beginOfDay(date);</span><br><span class=line></span><br><span class=line>        <span class=comment>//一天的结束，结果：2017-03-01 23:59:59</span></span><br><span class=line>        <span class=type>Date</span> <span class=variable>endOfDay</span> <span class=operator>=</span> DateUtil.endOfDay(date);</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(date), <span class=string>"开始时间"</span>, beginOfDay);</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(date), <span class=string>"结束时间"</span>, endOfDay);</span><br><span class=line>        c(<span class=string>"这个在查询数据库时，根据日期查一个范围内的数据就很有用"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("日期时间偏移")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test4</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>Date</span> <span class=variable>date</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">Date</span>();</span><br><span class=line></span><br><span class=line>        <span class=type>Date</span> <span class=variable>d1</span> <span class=operator>=</span> DateUtil.offset(date, DateField.DAY_OF_MONTH, <span class=number>2</span>);</span><br><span class=line></span><br><span class=line>        <span class=type>Date</span> <span class=variable>d2</span> <span class=operator>=</span> DateUtil.offsetDay(date, <span class=number>3</span>);</span><br><span class=line></span><br><span class=line>        <span class=type>Date</span> <span class=variable>d3</span> <span class=operator>=</span> DateUtil.offsetHour(date, -<span class=number>3</span>);</span><br><span class=line></span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(date), <span class=string>"两天之后的日期"</span>, d1);</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(date), <span class=string>"三天之后的日期"</span>, d2);</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(date), <span class=string>"三小时之前的日期"</span>, d3);</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("偏移简化用法")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test5</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>Date</span> <span class=variable>date</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">Date</span>();</span><br><span class=line>        <span class=type>Date</span> <span class=variable>d1</span> <span class=operator>=</span> DateUtil.yesterday();</span><br><span class=line>        <span class=type>Date</span> <span class=variable>d2</span> <span class=operator>=</span> DateUtil.tomorrow();</span><br><span class=line>        <span class=type>Date</span> <span class=variable>d3</span> <span class=operator>=</span> DateUtil.lastWeek();</span><br><span class=line>        <span class=type>Date</span> <span class=variable>d4</span> <span class=operator>=</span> DateUtil.nextWeek();</span><br><span class=line>        <span class=type>Date</span> <span class=variable>d5</span> <span class=operator>=</span> DateUtil.lastMonth();</span><br><span class=line>        <span class=type>Date</span> <span class=variable>d6</span> <span class=operator>=</span> DateUtil.nextMonth();</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(date), <span class=string>"昨天"</span>, d1);</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(date), <span class=string>"明天"</span>, d2);</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(date), <span class=string>"上周"</span>, d3);</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(date), <span class=string>"下周"</span>, d4);</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(date), <span class=string>"上个月"</span>, d5);</span><br><span class=line>        p2(<span class=string>"当前日期"</span>, DateUtil.formatDateTime(date), <span class=string>"下个月"</span>, d6);</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("日期时间差")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test6</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>Date</span> <span class=variable>date1</span> <span class=operator>=</span> DateUtil.parse(<span class=string>"2012-12-12 12:12:12"</span>);</span><br><span class=line>        <span class=type>Date</span> <span class=variable>date2</span> <span class=operator>=</span> DateUtil.parse(<span class=string>"2013-13-13 13:13:13"</span>);</span><br><span class=line></span><br><span class=line>        <span class=type>long</span> <span class=variable>b1</span> <span class=operator>=</span> DateUtil.between(date1, date2, DateUnit.MS);</span><br><span class=line>        <span class=type>long</span> <span class=variable>b2</span> <span class=operator>=</span> DateUtil.between(date1, date2, DateUnit.SECOND);</span><br><span class=line>        <span class=type>long</span> <span class=variable>b3</span> <span class=operator>=</span> DateUtil.between(date1, date2, DateUnit.MINUTE);</span><br><span class=line>        <span class=type>long</span> <span class=variable>b4</span> <span class=operator>=</span> DateUtil.between(date1, date2, DateUnit.HOUR);</span><br><span class=line>        <span class=type>long</span> <span class=variable>b5</span> <span class=operator>=</span> DateUtil.between(date1, date2, DateUnit.DAY);</span><br><span class=line>        <span class=type>long</span> <span class=variable>b6</span> <span class=operator>=</span> DateUtil.between(date1, date2, DateUnit.WEEK);</span><br><span class=line></span><br><span class=line>        p2(<span class=string>"当前如下两个日期"</span>, date1 + <span class=string>" "</span> + date2, <span class=string>"相差毫秒"</span>, b1);</span><br><span class=line>        p2(<span class=string>"当前如下两个日期"</span>, date1 + <span class=string>" "</span> + date2, <span class=string>"相差秒"</span>, b2);</span><br><span class=line>        p2(<span class=string>"当前如下两个日期"</span>, date1 + <span class=string>" "</span> + date2, <span class=string>"相差分"</span>, b3);</span><br><span class=line>        p2(<span class=string>"当前如下两个日期"</span>, date1 + <span class=string>" "</span> + date2, <span class=string>"相差小时"</span>, b4);</span><br><span class=line>        p2(<span class=string>"当前如下两个日期"</span>, date1 + <span class=string>" "</span> + date2, <span class=string>"相差天"</span>, b5);</span><br><span class=line>        p2(<span class=string>"当前如下两个日期"</span>, date1 + <span class=string>" "</span> + date2, <span class=string>"相差星期"</span>, b6);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("格式化时间差")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test7</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>long</span> <span class=variable>between</span> <span class=operator>=</span> System.currentTimeMillis();</span><br><span class=line></span><br><span class=line>        <span class=type>String</span> <span class=variable>s0</span> <span class=operator>=</span> DateUtil.formatBetween(between, Level.MILLSECOND);</span><br><span class=line>        <span class=type>String</span> <span class=variable>s1</span> <span class=operator>=</span> DateUtil.formatBetween(between, Level.SECOND);</span><br><span class=line>        <span class=type>String</span> <span class=variable>s2</span> <span class=operator>=</span> DateUtil.formatBetween(between, Level.MINUTE);</span><br><span class=line>        <span class=type>String</span> <span class=variable>s3</span> <span class=operator>=</span> DateUtil.formatBetween(between, Level.HOUR);</span><br><span class=line>        <span class=type>String</span> <span class=variable>s4</span> <span class=operator>=</span> DateUtil.formatBetween(between, Level.DAY);</span><br><span class=line>        p2(<span class=string>"毫秒数"</span>, between, <span class=string>"对应时间，精度到毫秒"</span>, s0);</span><br><span class=line>        p2(<span class=string>"毫秒数"</span>, between, <span class=string>"对应时间，精度到秒"</span>, s1);</span><br><span class=line>        p2(<span class=string>"毫秒数"</span>, between, <span class=string>"对应时间，精度到秒分钟"</span>, s2);</span><br><span class=line>        p2(<span class=string>"毫秒数"</span>, between, <span class=string>"对应时间，精度到秒小时"</span>, s3);</span><br><span class=line>        p2(<span class=string>"毫秒数"</span>, between, <span class=string>"对应时间，精度到秒天"</span>, s4);</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("性能统计")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test8</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>int</span> <span class=variable>loopcount</span> <span class=operator>=</span> <span class=number>100</span>;</span><br><span class=line>        <span class=type>TimeInterval</span> <span class=variable>timer</span> <span class=operator>=</span> DateUtil.timer();</span><br><span class=line>        forloop(loopcount);</span><br><span class=line>        <span class=type>long</span> <span class=variable>interval1</span> <span class=operator>=</span> timer.interval();</span><br><span class=line>        forloop(loopcount);</span><br><span class=line>        <span class=type>long</span> <span class=variable>interval2</span> <span class=operator>=</span> timer.intervalRestart();</span><br><span class=line>        forloop(loopcount);</span><br><span class=line>        <span class=type>long</span> <span class=variable>interval3</span> <span class=operator>=</span> timer.interval();</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"性能统计，总共花费了 (毫秒数)"</span>, interval1);</span><br><span class=line>        p3(<span class=string>"性能统计，总共花费了 (毫秒数),并重置"</span>, interval2);</span><br><span class=line>        p3(<span class=string>"性能统计，总共花费了 (毫秒数)"</span>, interval3);</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("其他")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test9</span><span class=params>()</span> {</span><br><span class=line></span><br><span class=line>        <span class=type>String</span> <span class=variable>birthDay</span> <span class=operator>=</span> <span class=string>"1949-10-01"</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>age</span> <span class=operator>=</span> DateUtil.ageOfNow(birthDay);</span><br><span class=line></span><br><span class=line>        <span class=type>int</span> <span class=variable>year</span> <span class=operator>=</span> <span class=number>2012</span>;</span><br><span class=line>        <span class=type>boolean</span> <span class=variable>isLeap</span> <span class=operator>=</span> DateUtil.isLeapYear(year);</span><br><span class=line></span><br><span class=line>        <span class=type>String</span> <span class=variable>now</span> <span class=operator>=</span> DateUtil.now();</span><br><span class=line>        <span class=type>String</span> <span class=variable>today</span> <span class=operator>=</span> DateUtil.today();</span><br><span class=line></span><br><span class=line>        p2(<span class=string>"生日"</span>, birthDay, <span class=string>"年龄"</span>, age);</span><br><span class=line>        p2(<span class=string>"年份"</span>, year, <span class=string>"是否闰年"</span>, isLeap);</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"现在"</span>, now);</span><br><span class=line>        p3(<span class=string>"今天"</span>, today);</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">forloop</span><span class=params>(<span class=type>int</span> total)</span> {</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i &lt; total; i++) {</span><br><span class=line>            <span class=keyword>try</span> {</span><br><span class=line>                Thread.sleep(<span class=number>1</span>);</span><br><span class=line>            } <span class=keyword>catch</span> (InterruptedException e) {</span><br><span class=line>                <span class=comment>// TODO Auto-generated catch block</span></span><br><span class=line>                e.printStackTrace();</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">printDefaultFormat</span><span class=params>()</span> {</span><br><span class=line>        System.out.println(<span class=string>"DateUtil默认会对如下格式进行识别："</span>);</span><br><span class=line>        System.out.println();</span><br><span class=line></span><br><span class=line>        System.out.println(<span class=string>"\tyyyy-MM-dd HH:mm:ss"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tyyyy/MM/dd HH:mm:ss"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tyyyy.MM.dd HH:mm:ss"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tyyyy年MM月dd日 HH时mm分ss秒"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tyyyy-MM-dd"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tyyyy/MM/dd"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tyyyy.MM.dd"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tHH:mm:ss"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tHH时mm分ss秒"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tyyyy-MM-dd HH:mm"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tyyyy-MM-dd HH:mm:ss.SSS"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tyyyyMMddHHmmss"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tyyyyMMddHHmmssSSS"</span>);</span><br><span class=line>        System.out.println(<span class=string>"\tyyyyMMdd"</span>);</span><br><span class=line>        System.out.println();</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t被转换为----->%n\t%s:\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=字符串工具-StrUtil><a title="字符串工具 - StrUtil" class=headerlink href=#字符串工具-StrUtil></a>字符串工具 - StrUtil</h2><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> <span class=keyword>static</span> cn.hutool.core.util.StrUtil.*;</span><br></pre></table></figure><h3 id=与空判断相关的><a class=headerlink href=#与空判断相关的 title=与空判断相关的></a>与空判断相关的</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isBlank</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isBlankIfStr</span><span class=params>(Object obj)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isNotBlank</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">hasBlank</span><span class=params>(CharSequence... strs)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isAllBlank</span><span class=params>(CharSequence... strs)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isEmpty</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isEmptyIfStr</span><span class=params>(Object obj)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isNotEmpty</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">nullToEmpty</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">nullToDefault</span><span class=params>(CharSequence str, String defaultStr)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">emptyToDefault</span><span class=params>(CharSequence str, String defaultStr)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">blankToDefault</span><span class=params>(CharSequence str, String defaultStr)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">emptyToNull</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">hasEmpty</span><span class=params>(CharSequence... strs)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isAllEmpty</span><span class=params>(CharSequence... strs)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isNullOrUndefined</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isEmptyOrUndefined</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isBlankOrUndefined</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">cleanBlank</span><span class=params>(CharSequence str)</span></span><br></pre></table></figure><h3 id=头尾处理><a class=headerlink href=#头尾处理 title=头尾处理></a>头尾处理</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">trim</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">trim</span><span class=params>(String[] strs)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">trimToEmpty</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">trimToNull</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">trimStart</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">trimEnd</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">trim</span><span class=params>(CharSequence str, <span class=type>int</span> mode)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">strip</span><span class=params>(CharSequence str, CharSequence prefixOrSuffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">strip</span><span class=params>(CharSequence str, CharSequence prefix, CharSequence suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">stripIgnoreCase</span><span class=params>(CharSequence str, CharSequence prefixOrSuffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">stripIgnoreCase</span><span class=params>(CharSequence str, CharSequence prefix, CharSequence suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">addPrefixIfNot</span><span class=params>(CharSequence str, CharSequence prefix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">addSuffixIfNot</span><span class=params>(CharSequence str, CharSequence suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isSurround</span><span class=params>(CharSequence str, CharSequence prefix, CharSequence suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isSurround</span><span class=params>(CharSequence str, <span class=type>char</span> prefix, <span class=type>char</span> suffix)</span></span><br></pre></table></figure><h3 id=包含与否><a class=headerlink href=#包含与否 title=包含与否></a>包含与否</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">startWith</span><span class=params>(CharSequence str, <span class=type>char</span> c)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">startWith</span><span class=params>(CharSequence str, CharSequence prefix, <span class=type>boolean</span> isIgnoreCase)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">startWith</span><span class=params>(CharSequence str, CharSequence prefix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">startWithIgnoreCase</span><span class=params>(CharSequence str, CharSequence prefix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">startWithAny</span><span class=params>(CharSequence str, CharSequence... prefixes)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">endWith</span><span class=params>(CharSequence str, <span class=type>char</span> c)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">endWith</span><span class=params>(CharSequence str, CharSequence suffix, <span class=type>boolean</span> isIgnoreCase)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">endWith</span><span class=params>(CharSequence str, CharSequence suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">endWithIgnoreCase</span><span class=params>(CharSequence str, CharSequence suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">endWithAny</span><span class=params>(CharSequence str, CharSequence... suffixes)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">contains</span><span class=params>(CharSequence str, <span class=type>char</span> searchChar)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">containsAny</span><span class=params>(CharSequence str, CharSequence... testStrs)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">containsAny</span><span class=params>(CharSequence str, <span class=type>char</span>... testChars)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">containsBlank</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">getContainsStr</span><span class=params>(CharSequence str, CharSequence... testStrs)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">containsIgnoreCase</span><span class=params>(CharSequence str, CharSequence testStr)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">containsAnyIgnoreCase</span><span class=params>(CharSequence str, CharSequence... testStrs)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">getContainsStrIgnoreCase</span><span class=params>(CharSequence str, CharSequence... testStrs)</span></span><br></pre></table></figure><h3 id=setter-gettter-处理><a title="setter gettter 处理" class=headerlink href=#setter-gettter-处理></a>setter gettter 处理</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">getGeneralField</span><span class=params>(CharSequence getOrSetMethodName)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">genSetter</span><span class=params>(CharSequence fieldName)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">genGetter</span><span class=params>(CharSequence fieldName)</span></span><br></pre></table></figure><h3 id=删除><a class=headerlink href=#删除 title=删除></a>删除</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">removeAll</span><span class=params>(CharSequence str, CharSequence strToRemove)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">removeAll</span><span class=params>(CharSequence str, <span class=type>char</span>... chars)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">removeAllLineBreaks</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">removePreAndLowerFirst</span><span class=params>(CharSequence str, <span class=type>int</span> preLength)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">removePreAndLowerFirst</span><span class=params>(CharSequence str, CharSequence prefix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">removePrefix</span><span class=params>(CharSequence str, CharSequence prefix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">removePrefixIgnoreCase</span><span class=params>(CharSequence str, CharSequence prefix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">removeSuffix</span><span class=params>(CharSequence str, CharSequence suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">removeSufAndLowerFirst</span><span class=params>(CharSequence str, CharSequence suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">removeSuffixIgnoreCase</span><span class=params>(CharSequence str, CharSequence suffix)</span></span><br></pre></table></figure><h3 id=大小写><a class=headerlink href=#大小写 title=大小写></a>大小写</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">upperFirstAndAddPre</span><span class=params>(CharSequence str, String preString)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">upperFirst</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">lowerFirst</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isUpperCase</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isLowerCase</span><span class=params>(CharSequence str)</span></span><br></pre></table></figure><h3 id=分割><a class=headerlink href=#分割 title=分割></a>分割</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String[] splitToArray(CharSequence str, <span class=type>char</span> separator)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>long</span>[] splitToLong(CharSequence str, <span class=type>char</span> separator)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>long</span>[] splitToLong(CharSequence str, CharSequence separator)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span>[] splitToInt(CharSequence str, <span class=type>char</span> separator)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span>[] splitToInt(CharSequence str, CharSequence separator)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;String> <span class="title function_">split</span><span class=params>(CharSequence str, <span class=type>char</span> separator)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String[] splitToArray(CharSequence str, <span class=type>char</span> separator, <span class=type>int</span> limit)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;String> <span class="title function_">split</span><span class=params>(CharSequence str, <span class=type>char</span> separator, <span class=type>int</span> limit)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;String> <span class="title function_">splitTrim</span><span class=params>(CharSequence str, <span class=type>char</span> separator)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;String> <span class="title function_">splitTrim</span><span class=params>(CharSequence str, CharSequence separator)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;String> <span class="title function_">splitTrim</span><span class=params>(CharSequence str, <span class=type>char</span> separator, <span class=type>int</span> limit)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;String> <span class="title function_">splitTrim</span><span class=params>(CharSequence str, CharSequence separator, <span class=type>int</span> limit)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;String> <span class="title function_">split</span><span class=params>(CharSequence str, <span class=type>char</span> separator, <span class=type>boolean</span> isTrim, <span class=type>boolean</span> ignoreEmpty)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;String> <span class="title function_">split</span><span class=params>(CharSequence str, <span class=type>char</span> separator, <span class=type>int</span> limit, <span class=type>boolean</span> isTrim, <span class=type>boolean</span> ignoreEmpty)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;String> <span class="title function_">split</span><span class=params>(CharSequence str, CharSequence separator, <span class=type>int</span> limit, <span class=type>boolean</span> isTrim, <span class=type>boolean</span> ignoreEmpty)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String[] split(CharSequence str, CharSequence separator)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String[] split(CharSequence str, <span class=type>int</span> len)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String[] cut(CharSequence str, <span class=type>int</span> partLength)</span><br></pre></table></figure><h3 id=截取><a class=headerlink href=#截取 title=截取></a>截取</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">sub</span><span class=params>(CharSequence str, <span class=type>int</span> fromIndex, <span class=type>int</span> toIndex)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">subPreGbk</span><span class=params>(CharSequence str, <span class=type>int</span> len, CharSequence suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">maxLength</span><span class=params>(CharSequence string, <span class=type>int</span> length)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">subPre</span><span class=params>(CharSequence string, <span class=type>int</span> toIndex)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">subSuf</span><span class=params>(CharSequence string, <span class=type>int</span> fromIndex)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">subSufByLength</span><span class=params>(CharSequence string, <span class=type>int</span> length)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">subWithLength</span><span class=params>(String input, <span class=type>int</span> fromIndex, <span class=type>int</span> length)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">subBefore</span><span class=params>(CharSequence string, CharSequence separator, <span class=type>boolean</span> isLastSeparator)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">subBefore</span><span class=params>(CharSequence string, <span class=type>char</span> separator, <span class=type>boolean</span> isLastSeparator)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">subAfter</span><span class=params>(CharSequence string, CharSequence separator, <span class=type>boolean</span> isLastSeparator)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">subAfter</span><span class=params>(CharSequence string, <span class=type>char</span> separator, <span class=type>boolean</span> isLastSeparator)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">subBetween</span><span class=params>(CharSequence str, CharSequence before, CharSequence after)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">subBetween</span><span class=params>(CharSequence str, CharSequence beforeAndAfter)</span></span><br></pre></table></figure><h3 id=创建字符串><a class=headerlink href=#创建字符串 title=创建字符串></a>创建字符串</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">repeat</span><span class=params>(<span class=type>char</span> c, <span class=type>int</span> count)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">repeat</span><span class=params>(CharSequence str, <span class=type>int</span> count)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">repeatAndJoin</span><span class=params>(CharSequence str, <span class=type>int</span> count, CharSequence conjunction)</span></span><br></pre></table></figure><h3 id=是否相等><a class=headerlink href=#是否相等 title=是否相等></a>是否相等</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">equals</span><span class=params>(CharSequence str1, CharSequence str2)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">equalsIgnoreCase</span><span class=params>(CharSequence str1, CharSequence str2)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">equals</span><span class=params>(CharSequence str1, CharSequence str2, <span class=type>boolean</span> ignoreCase)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isSubEquals</span><span class=params>(CharSequence str1, <span class=type>int</span> start1, CharSequence str2, <span class=type>int</span> start2, <span class=type>int</span> length, <span class=type>boolean</span> ignoreCase)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isAllCharMatch</span><span class=params>(CharSequence value, Matcher&lt;Character> matcher)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">equalsCharAt</span><span class=params>(CharSequence str, <span class=type>int</span> position, <span class=type>char</span> c)</span></span><br></pre></table></figure><h3 id=格式化><a class=headerlink href=#格式化 title=格式化></a>格式化</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">format</span><span class=params>(CharSequence template, Object... params)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">indexedFormat</span><span class=params>(CharSequence pattern, Object... arguments)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">format</span><span class=params>(CharSequence template, Map&lt;?, ?> map)</span></span><br></pre></table></figure><h3 id=获取字节><a class=headerlink href=#获取字节 title=获取字节></a>获取字节</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>byte</span>[] utf8Bytes(CharSequence str)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>byte</span>[] bytes(CharSequence str)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>byte</span>[] bytes(CharSequence str, String charset)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>byte</span>[] bytes(CharSequence str, Charset charset)</span><br></pre></table></figure><h3 id=转换为字符串><a class=headerlink href=#转换为字符串 title=转换为字符串></a>转换为字符串</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">utf8Str</span><span class=params>(Object obj)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">str</span><span class=params>(Object obj, String charsetName)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">str</span><span class=params>(Object obj, Charset charset)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">str</span><span class=params>(<span class=type>byte</span>[] bytes, String charset)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">str</span><span class=params>(<span class=type>byte</span>[] data, Charset charset)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">str</span><span class=params>(Byte[] bytes, String charset)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">str</span><span class=params>(Byte[] data, Charset charset)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">str</span><span class=params>(ByteBuffer data, String charset)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">str</span><span class=params>(ByteBuffer data, Charset charset)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">str</span><span class=params>(CharSequence cs)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">toString</span><span class=params>(Object obj)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">join</span><span class=params>(CharSequence conjunction, Object... objs)</span></span><br></pre></table></figure><h3 id=格式转换><a class=headerlink href=#格式转换 title=格式转换></a>格式转换</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">toUnderlineCase</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">toSymbolCase</span><span class=params>(CharSequence str, <span class=type>char</span> symbol)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">toCamelCase</span><span class=params>(CharSequence name)</span></span><br></pre></table></figure><h3 id=包裹><a class=headerlink href=#包裹 title=包裹></a>包裹</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">wrap</span><span class=params>(CharSequence str, CharSequence prefixAndSuffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">wrap</span><span class=params>(CharSequence str, CharSequence prefix, CharSequence suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String[] wrapAll(CharSequence prefixAndSuffix, CharSequence... strs)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String[] wrapAll(CharSequence prefix, CharSequence suffix, CharSequence... strs)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">wrapIfMissing</span><span class=params>(CharSequence str, CharSequence prefix, CharSequence suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String[] wrapAllIfMissing(CharSequence prefixAndSuffix, CharSequence... strs)</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String[] wrapAllIfMissing(CharSequence prefix, CharSequence suffix, CharSequence... strs)</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">unWrap</span><span class=params>(CharSequence str, String prefix, String suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">unWrap</span><span class=params>(CharSequence str, <span class=type>char</span> prefix, <span class=type>char</span> suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">unWrap</span><span class=params>(CharSequence str, <span class=type>char</span> prefixAndSuffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isWrap</span><span class=params>(CharSequence str, String prefix, String suffix)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isWrap</span><span class=params>(CharSequence str, String wrapper)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isWrap</span><span class=params>(CharSequence str, <span class=type>char</span> wrapper)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">isWrap</span><span class=params>(CharSequence str, <span class=type>char</span> prefixChar, <span class=type>char</span> suffixChar)</span></span><br></pre></table></figure><h3 id=填充><a class=headerlink href=#填充 title=填充></a>填充</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">padPre</span><span class=params>(CharSequence str, <span class=type>int</span> minLength, <span class=type>char</span> padChar)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">padEnd</span><span class=params>(CharSequence str, <span class=type>int</span> minLength, <span class=type>char</span> padChar)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> StringBuilder <span class="title function_">builder</span><span class=params>()</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">fillBefore</span><span class=params>(String str, <span class=type>char</span> filledChar, <span class=type>int</span> len)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">fillAfter</span><span class=params>(String str, <span class=type>char</span> filledChar, <span class=type>int</span> len)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">fill</span><span class=params>(String str, <span class=type>char</span> filledChar, <span class=type>int</span> len, <span class=type>boolean</span> isPre)</span></span><br></pre></table></figure><h3 id=获取其他对象><a class=headerlink href=#获取其他对象 title=获取其他对象></a>获取其他对象</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> StrBuilder <span class="title function_">strBuilder</span><span class=params>()</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> StringBuilder <span class="title function_">builder</span><span class=params>(<span class=type>int</span> capacity)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> StrBuilder <span class="title function_">strBuilder</span><span class=params>(<span class=type>int</span> capacity)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> StringBuilder <span class="title function_">builder</span><span class=params>(CharSequence... strs)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> StrBuilder <span class="title function_">strBuilder</span><span class=params>(CharSequence... strs)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> StringReader <span class="title function_">getReader</span><span class=params>(CharSequence str)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> StringWriter <span class="title function_">getWriter</span><span class=params>()</span></span><br></pre></table></figure><h3 id=出现次数><a class=headerlink href=#出现次数 title=出现次数></a>出现次数</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">count</span><span class=params>(CharSequence content, CharSequence strForSearch)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">count</span><span class=params>(CharSequence content, <span class=type>char</span> charForSearch)</span></span><br></pre></table></figure><h3 id=摘要和隐藏><a class=headerlink href=#摘要和隐藏 title=摘要和隐藏></a>摘要和隐藏</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">brief</span><span class=params>(CharSequence str, <span class=type>int</span> maxLength)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">hide</span><span class=params>(CharSequence str, <span class=type>int</span> startInclude, <span class=type>int</span> endExclude)</span></span><br></pre></table></figure><h3 id=比较><a class=headerlink href=#比较 title=比较></a>比较</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">compare</span><span class=params>(<span class=keyword>final</span> CharSequence str1, <span class=keyword>final</span> CharSequence str2, <span class=keyword>final</span> <span class=type>boolean</span> nullIsLess)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">compareIgnoreCase</span><span class=params>(CharSequence str1, CharSequence str2, <span class=type>boolean</span> nullIsLess)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">compareVersion</span><span class=params>(CharSequence version1, CharSequence version2)</span></span><br></pre></table></figure><h3 id=获取索引位置><a class=headerlink href=#获取索引位置 title=获取索引位置></a>获取索引位置</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">indexOf</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=type>char</span> searchChar)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">indexOf</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=type>char</span> searchChar, <span class=type>int</span> start)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">indexOf</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=type>char</span> searchChar, <span class=type>int</span> start, <span class=type>int</span> end)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">indexOfIgnoreCase</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=keyword>final</span> CharSequence searchStr)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">indexOfIgnoreCase</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=keyword>final</span> CharSequence searchStr, <span class=type>int</span> fromIndex)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">indexOf</span><span class=params>(<span class=keyword>final</span> CharSequence str, CharSequence searchStr, <span class=type>int</span> fromIndex, <span class=type>boolean</span> ignoreCase)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">lastIndexOfIgnoreCase</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=keyword>final</span> CharSequence searchStr)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">lastIndexOfIgnoreCase</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=keyword>final</span> CharSequence searchStr, <span class=type>int</span> fromIndex)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">lastIndexOf</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=keyword>final</span> CharSequence searchStr, <span class=type>int</span> fromIndex, <span class=type>boolean</span> ignoreCase)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">ordinalIndexOf</span><span class=params>(String str, String searchStr, <span class=type>int</span> ordinal)</span></span><br></pre></table></figure><h3 id=追加><a class=headerlink href=#追加 title=追加></a>追加</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">appendIfMissing</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=keyword>final</span> CharSequence suffix, <span class=keyword>final</span> CharSequence... suffixes)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">appendIfMissingIgnoreCase</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=keyword>final</span> CharSequence suffix, <span class=keyword>final</span> CharSequence... suffixes)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">appendIfMissing</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=keyword>final</span> CharSequence suffix, <span class=keyword>final</span> <span class=type>boolean</span> ignoreCase, <span class=keyword>final</span> CharSequence... suffixes)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">prependIfMissing</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=keyword>final</span> CharSequence prefix, <span class=keyword>final</span> CharSequence... prefixes)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">prependIfMissingIgnoreCase</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=keyword>final</span> CharSequence prefix, <span class=keyword>final</span> CharSequence... prefixes)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">prependIfMissing</span><span class=params>(<span class=keyword>final</span> CharSequence str, <span class=keyword>final</span> CharSequence prefix, <span class=keyword>final</span> <span class=type>boolean</span> ignoreCase, <span class=keyword>final</span> CharSequence... prefixes)</span></span><br></pre></table></figure><h3 id=替换><a class=headerlink href=#替换 title=替换></a>替换</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">replaceIgnoreCase</span><span class=params>(CharSequence str, CharSequence searchStr, CharSequence replacement)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">replace</span><span class=params>(CharSequence str, CharSequence searchStr, CharSequence replacement)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">replace</span><span class=params>(CharSequence str, CharSequence searchStr, CharSequence replacement, <span class=type>boolean</span> ignoreCase)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">replace</span><span class=params>(CharSequence str, <span class=type>int</span> fromIndex, CharSequence searchStr, CharSequence replacement, <span class=type>boolean</span> ignoreCase)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">replace</span><span class=params>(CharSequence str, <span class=type>int</span> startInclude, <span class=type>int</span> endExclude, <span class=type>char</span> replacedChar)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">replace</span><span class=params>(CharSequence str, Pattern pattern, Func1&lt;java.util.regex.Matcher, String> replaceFun)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">replace</span><span class=params>(CharSequence str, String regex, Func1&lt;java.util.regex.Matcher, String> replaceFun)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">replaceChars</span><span class=params>(CharSequence str, String chars, CharSequence replacedStr)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">replaceChars</span><span class=params>(CharSequence str, <span class=type>char</span>[] chars, CharSequence replacedStr)</span></span><br></pre></table></figure><h3 id=相似度><a class=headerlink href=#相似度 title=相似度></a>相似度</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>double</span> <span class="title function_">similar</span><span class=params>(String str1, String str2)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">similar</span><span class=params>(String str1, String str2, <span class=type>int</span> scale)</span></span><br></pre></table></figure><h3 id=其他><a class=headerlink href=#其他 title=其他></a>其他</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre><td class=code><pre><span class=line><span class=comment>//总长度</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">totalLength</span><span class=params>(CharSequence... strs)</span></span><br><span class=line></span><br><span class=line><span class=comment>//移动</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">move</span><span class=params>(CharSequence str, <span class=type>int</span> startInclude, <span class=type>int</span> endExclude, <span class=type>int</span> moveLength)</span></span><br><span class=line></span><br><span class=line><span class=comment>//uuid</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">uuid</span><span class=params>()</span></span><br><span class=line></span><br><span class=line><span class=comment>//连接</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">concat</span><span class=params>(<span class=type>boolean</span> isNullToEmpty, CharSequence... strs)</span></span><br><span class=line></span><br><span class=line><span class=comment>//反转</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> String <span class="title function_">reverse</span><span class=params>(String str)</span></span><br></pre></table></figure><h2 id=数字工具><a class=headerlink href=#数字工具 title=数字工具></a>数字工具</h2><p><code>TestNumber.java</code><p><img src=http://stepimagewm.how2j.cn/8921.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br><span class=line>184</span><br><span class=line>185</span><br><span class=line>186</span><br><span class=line>187</span><br><span class=line>188</span><br><span class=line>189</span><br><span class=line>190</span><br><span class=line>191</span><br><span class=line>192</span><br><span class=line>193</span><br><span class=line>194</span><br><span class=line>195</span><br><span class=line>196</span><br><span class=line>197</span><br><span class=line>198</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.NumberUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestNumber</span> {</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("精确计算")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span>{</span><br><span class=line>        <span class=type>double</span> <span class=variable>result1</span> <span class=operator>=</span> (<span class=number>1.2</span> - <span class=number>0.4</span>);</span><br><span class=line>        p3(<span class=string>"浮点数计算 1.2 - 0.4 无法得到精确结果"</span>,result1);</span><br><span class=line>        <span class=type>double</span> <span class=variable>result2</span> <span class=operator>=</span> NumberUtil.sub(<span class=number>1.2</span>, <span class=number>0.4</span>);</span><br><span class=line>        p3(<span class=string>"浮点数计算 NumberUtil.sub(1.2,0.4) 就能得到精确结果"</span>,result2);</span><br><span class=line>    }</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("四舍五入")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span>{</span><br><span class=line>        <span class=type>double</span> <span class=variable>a</span> <span class=operator>=</span> <span class=number>100.123</span>;</span><br><span class=line>        <span class=type>double</span> <span class=variable>b</span> <span class=operator>=</span> <span class=number>100.125</span>;</span><br><span class=line>         </span><br><span class=line>        <span class=type>double</span> result1= NumberUtil.round(a, <span class=number>2</span>).doubleValue();</span><br><span class=line>        <span class=type>double</span> result2= NumberUtil.round(b, <span class=number>2</span>).doubleValue();</span><br><span class=line>         </span><br><span class=line>        p1(<span class=string>"浮点数"</span>, a, <span class=string>"四舍五入之后"</span>, result1);</span><br><span class=line>        p1(<span class=string>"浮点数"</span>, b, <span class=string>"四舍五入之后"</span>, result2);</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("数字格式化")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test3</span><span class=params>()</span>{</span><br><span class=line>         </span><br><span class=line><span class=comment>//      0 -> 取一位整数</span></span><br><span class=line><span class=comment>//      0.00 -> 取一位整数和两位小数</span></span><br><span class=line><span class=comment>//      00.000 -> 取两位整数和三位小数</span></span><br><span class=line><span class=comment>//      # -> 取所有整数部分</span></span><br><span class=line><span class=comment>//      #.##% -> 以百分比方式计数，并取两位小数</span></span><br><span class=line><span class=comment>//      #.#####E0 -> 显示为科学计数法，并取五位小数</span></span><br><span class=line><span class=comment>//      ,### -> 每三位以逗号进行分隔，例如：299,792,458</span></span><br><span class=line><span class=comment>//      光速大小为每秒,###米 -> 将格式嵌入文本</span></span><br><span class=line>         </span><br><span class=line>        p3(<span class=string>"对π进行格式化，π的值是"</span>,Math.PI);</span><br><span class=line>        <span class=type>double</span> pi= Math.PI;</span><br><span class=line>        <span class=type>String</span> <span class=variable>format</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>str</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line>        format= <span class=string>"0"</span>;</span><br><span class=line>        str = NumberUtil.decimalFormat(format,pi);</span><br><span class=line>        p2(<span class=string>"格式"</span>,format,<span class=string>"格式化后得到"</span>, str);</span><br><span class=line> </span><br><span class=line>        format= <span class=string>"0.00"</span>;</span><br><span class=line>        str = NumberUtil.decimalFormat(format,pi);</span><br><span class=line>        p2(<span class=string>"格式"</span>,format,<span class=string>"格式化后得到"</span>, str);</span><br><span class=line> </span><br><span class=line>        format= <span class=string>"00.000"</span>;</span><br><span class=line>        str = NumberUtil.decimalFormat(format,pi);</span><br><span class=line>        p2(<span class=string>"格式"</span>,format,<span class=string>"格式化后得到"</span>, str);</span><br><span class=line> </span><br><span class=line>        format= <span class=string>"#"</span>;</span><br><span class=line>        str = NumberUtil.decimalFormat(format,pi);</span><br><span class=line>        p2(<span class=string>"格式"</span>,format,<span class=string>"格式化后得到"</span>, str);</span><br><span class=line> </span><br><span class=line>        format= <span class=string>"#.##"</span>;</span><br><span class=line>        str = NumberUtil.decimalFormat(format,pi);</span><br><span class=line>        p2(<span class=string>"格式"</span>,format,<span class=string>"格式化后得到"</span>, str);</span><br><span class=line> </span><br><span class=line>        format= <span class=string>"#.##%"</span>;</span><br><span class=line>        str = NumberUtil.decimalFormat(format,pi);</span><br><span class=line>        p2(<span class=string>"格式"</span>,format,<span class=string>"格式化后得到"</span>, str);</span><br><span class=line>         </span><br><span class=line>        format= <span class=string>"#.####E0"</span>;</span><br><span class=line>        str = NumberUtil.decimalFormat(format,pi);</span><br><span class=line>        p2(<span class=string>"格式"</span>,format,<span class=string>"格式化后得到"</span>, str);</span><br><span class=line> </span><br><span class=line>        format= <span class=string>",###"</span>;</span><br><span class=line>        str = NumberUtil.decimalFormat(format,pi*<span class=number>10000</span>);</span><br><span class=line>        p2(<span class=string>"格式"</span>,format,<span class=string>"x1000 再格式化后得到"</span>, str);</span><br><span class=line> </span><br><span class=line>        format= <span class=string>",####"</span>;</span><br><span class=line>        str = NumberUtil.decimalFormat(format,pi*<span class=number>10000</span>);</span><br><span class=line>        p2(<span class=string>"格式"</span>,format,<span class=string>"x1000 再格式化后得到"</span>, str);</span><br><span class=line> </span><br><span class=line>        format= <span class=string>"π的大小是#.##########，请课后记忆"</span>;</span><br><span class=line>        str = NumberUtil.decimalFormat(format,pi);</span><br><span class=line>        p2(<span class=string>"格式"</span>,format,<span class=string>"格式化后得到"</span>, str);</span><br><span class=line>          </span><br><span class=line>    }</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("数字判断")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test4</span><span class=params>()</span>{</span><br><span class=line>        <span class=type>String</span> <span class=variable>s1</span> <span class=operator>=</span> <span class=string>"3.1415926"</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>n</span> <span class=operator>=</span> <span class=number>11</span>;</span><br><span class=line>        p2(<span class=string>"字符串"</span>,s1, <span class=string>"是否数字"</span>,NumberUtil.isNumber(s1));</span><br><span class=line>        p2(<span class=string>"字符串"</span>,s1, <span class=string>"是否整数(这个有问题)"</span>,NumberUtil.isInteger(s1));</span><br><span class=line>        p2(<span class=string>"字符串"</span>,s1, <span class=string>"是否浮点数"</span>,NumberUtil.isDouble(s1));</span><br><span class=line>        p2(<span class=string>"整数"</span>,n, <span class=string>"是否质数"</span>,NumberUtil.isPrimes(n));</span><br><span class=line>    }</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("随机数")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test5</span><span class=params>()</span>{</span><br><span class=line>        <span class=type>int</span> random[]=NumberUtil.generateRandomNumber(<span class=number>1</span>,<span class=number>1000</span>,<span class=number>10</span>);</span><br><span class=line>         </span><br><span class=line>        p3(<span class=string>"最小是1，最大是1000，总长度是10的不重复随机数组"</span>,Convert.toStr(random));</span><br><span class=line>    }</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("整数列表")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test6</span><span class=params>()</span>{</span><br><span class=line>        <span class=type>int</span> numbers[] = NumberUtil.range(<span class=number>0</span>, <span class=number>100</span>, <span class=number>9</span>);</span><br><span class=line>        p3(<span class=string>"最小是0，最大是100，步长是9的数组"</span>,Convert.toStr(numbers));</span><br><span class=line>    }</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("其他相关")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test7</span><span class=params>()</span>{</span><br><span class=line>         </span><br><span class=line>        p3(<span class=string>"计算3的阶乘"</span>, NumberUtil.factorial(<span class=number>3</span>));</span><br><span class=line>        p3(<span class=string>"计算9的平方根"</span>, NumberUtil.sqrt(<span class=number>9</span>));</span><br><span class=line>        p3(<span class=string>"计算9和6的最大公约数"</span>, NumberUtil.divisor(<span class=number>9</span>,<span class=number>6</span>));</span><br><span class=line>        p3(<span class=string>"计算9和6的最小公倍数"</span>, NumberUtil.multiple(<span class=number>9</span>,<span class=number>6</span>));</span><br><span class=line>        p3(<span class=string>"获得数字9对应的二进制字符串"</span>, NumberUtil.getBinaryStr(<span class=number>9</span>));</span><br><span class=line>        p3(<span class=string>"获取123456789对应金额"</span>, NumberUtil.decimalFormatMoney(<span class=number>123456789</span>));</span><br><span class=line>    }</span><br><span class=line>     </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>; </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>,msg);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>              </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span>ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span>(<span class=literal>null</span>!=annotation) {</span><br><span class=line>                String comment= annotation.value();</span><br><span class=line>                <span class=keyword>if</span>(!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>,comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line>                  </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1=StrUtil.padEnd(type1,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2=StrUtil.padEnd(type2,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>,type1,value1);</span><br><span class=line>  </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>      </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span>(methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=meta>@Target({METHOD,TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>         String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=数组工具><a class=headerlink href=#数组工具 title=数组工具></a>数组工具</h2><p><code>TestArray.java</code><br><img src=http://stepimagewm.how2j.cn/8924.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br><span class=line>184</span><br><span class=line>185</span><br><span class=line>186</span><br><span class=line>187</span><br><span class=line>188</span><br><span class=line>189</span><br><span class=line>190</span><br><span class=line>191</span><br><span class=line>192</span><br><span class=line>193</span><br><span class=line>194</span><br><span class=line>195</span><br><span class=line>196</span><br><span class=line>197</span><br><span class=line>198</span><br><span class=line>199</span><br><span class=line>200</span><br><span class=line>201</span><br><span class=line>202</span><br><span class=line>203</span><br><span class=line>204</span><br><span class=line>205</span><br><span class=line>206</span><br><span class=line>207</span><br><span class=line>208</span><br><span class=line>209</span><br><span class=line>210</span><br><span class=line>211</span><br><span class=line>212</span><br><span class=line>213</span><br><span class=line>214</span><br><span class=line>215</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line><span class=keyword>import</span> java.util.Map;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.lang.Filter;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ArrayUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestArray</span> {</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("为空判断")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>int</span>[] a = <span class=literal>null</span>;</span><br><span class=line>        <span class=type>int</span>[] b = <span class=keyword>new</span> <span class="title class_">int</span>[<span class=number>5</span>];</span><br><span class=line>        <span class=type>int</span>[] c = <span class=keyword>new</span> <span class="title class_">int</span>[]{<span class=number>10</span>, <span class=number>11</span>, <span class=number>12</span>};</span><br><span class=line></span><br><span class=line>        p1(<span class=string>"数组"</span>, Convert.toStr(a), <span class=string>"是否为空"</span>, ArrayUtil.isEmpty(a));</span><br><span class=line>        p1(<span class=string>"数组"</span>, Convert.toStr(b), <span class=string>"是否为空"</span>, ArrayUtil.isEmpty(b));</span><br><span class=line>        p1(<span class=string>"数组"</span>, Convert.toStr(c), <span class=string>"是否为空"</span>, ArrayUtil.isEmpty(c));</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("调整数组大小")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span> {</span><br><span class=line>        Integer[] a = <span class=keyword>new</span> <span class="title class_">Integer</span>[]{<span class=number>10</span>, <span class=number>11</span>, <span class=number>12</span>};</span><br><span class=line>        Integer[] b = ArrayUtil.resize(a, <span class=number>5</span>);</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"调整大小前的数组"</span>, Convert.toStr(a));</span><br><span class=line>        p3(<span class=string>"调整大小后的数组"</span>, Convert.toStr(b));</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("合并数组")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test3</span><span class=params>()</span> {</span><br><span class=line>        Integer[] a = {<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>};</span><br><span class=line>        Integer[] b = {<span class=number>10</span>, <span class=number>11</span>, <span class=number>12</span>};</span><br><span class=line>        Integer[] c = ArrayUtil.addAll(a, b);</span><br><span class=line></span><br><span class=line>        p2(<span class=string>"合并前的两个数组 "</span>, Convert.toStr(a) + <span class=string>" , "</span> + Convert.toStr(b), <span class=string>"合并后的数组是"</span>, Convert.toStr(c));</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("克隆")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test4</span><span class=params>()</span> {</span><br><span class=line>        Integer[] a = {<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>};</span><br><span class=line>        Integer b[] = ArrayUtil.clone(a);</span><br><span class=line></span><br><span class=line>        p2(<span class=string>"原数组"</span>, Convert.toStr(a), <span class=string>"克隆的数组"</span>, Convert.toStr(b));</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("生成有序数组")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test5</span><span class=params>()</span> {</span><br><span class=line>        p3(<span class=string>"生成开始是0，结束是100，步长是9的有序数组"</span>, Convert.toStr(ArrayUtil.range(<span class=number>0</span>, <span class=number>100</span>, <span class=number>9</span>)));</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("过滤")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test6</span><span class=params>()</span> {</span><br><span class=line>        Integer[] a = {<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>, <span class=number>4</span>, <span class=number>5</span>, <span class=number>6</span>, <span class=number>7</span>, <span class=number>8</span>, <span class=number>9</span>};</span><br><span class=line>        Integer[] b = ArrayUtil.filter(a, <span class=keyword>new</span> <span class="title class_">Filter</span>&lt;Integer>() {</span><br><span class=line></span><br><span class=line>            <span class=meta>@Override</span></span><br><span class=line>            <span class=keyword>public</span> <span class=type>boolean</span> <span class="title function_">accept</span><span class=params>(Integer t)</span> {</span><br><span class=line>                <span class=keyword>if</span> (<span class=number>0</span> == t % <span class=number>3</span>)</span><br><span class=line>                    <span class=keyword>return</span> <span class=literal>true</span>;</span><br><span class=line>                <span class=keyword>return</span> <span class=literal>false</span>;</span><br><span class=line>            }</span><br><span class=line></span><br><span class=line>        });</span><br><span class=line></span><br><span class=line>        p2(<span class=string>"原数组"</span>, Convert.toStr(a), <span class=string>"3的倍数过滤之后"</span>, Convert.toStr(b));</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("转换为map")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test7</span><span class=params>()</span> {</span><br><span class=line>        Integer a[] = {<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>};</span><br><span class=line>        String c[] = {<span class=string>"a"</span>, <span class=string>"b"</span>, <span class=string>"c"</span>};</span><br><span class=line>        Map&lt;Integer, String> m = ArrayUtil.zip(a, c);</span><br><span class=line></span><br><span class=line>        p2(<span class=string>"两个数组"</span>, Convert.toStr(a) + <span class=string>" , "</span> + Convert.toStr(c), <span class=string>"转换为 Map "</span>, m);</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("是否包含某元素")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test8</span><span class=params>()</span> {</span><br><span class=line>        Integer a[] = {<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>};</span><br><span class=line></span><br><span class=line>        p1(<span class=string>"数组"</span>, Convert.toStr(a), <span class=string>"是否包含元素3"</span>, ArrayUtil.contains(a, <span class=number>3</span>));</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("装箱拆箱")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test9</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>int</span> a[] = {<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>};</span><br><span class=line>        Integer b[] = ArrayUtil.wrap(a);</span><br><span class=line>        <span class=type>int</span> c[] = ArrayUtil.unWrap(b);</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"数组基本类型的装箱拆箱"</span>, <span class=string>"ArrayUtil.wrap | ArrayUtil.unWrap"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("转换为字符串")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">testa</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>int</span> a[] = {<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>};</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"数组转换为默认字符串"</span>, ArrayUtil.toString(a));</span><br><span class=line>        p3(<span class=string>"数组转换为自定义分隔符的字符串"</span>, ArrayUtil.join(a, <span class=string>"-"</span>));</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("拆分")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">testb</span><span class=params>()</span> {</span><br><span class=line></span><br><span class=line>        <span class=type>byte</span>[] a = {<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>, <span class=number>4</span>, <span class=number>5</span>, <span class=number>6</span>, <span class=number>7</span>, <span class=number>8</span>, <span class=number>9</span>};</span><br><span class=line></span><br><span class=line>        <span class=type>byte</span>[][] b = ArrayUtil.split(a, <span class=number>2</span>);</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"数组被拆成2为长度的等份"</span>, Convert.toStr(a));</span><br><span class=line></span><br><span class=line>        <span class=keyword>for</span> (<span class=type>byte</span>[] bs : b) {</span><br><span class=line>            p3(<span class=string>"拆分后的数组："</span>, Convert.toStr(bs));</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t被转换为----->%n\t%s:\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=随机工具><a class=headerlink href=#随机工具 title=随机工具></a>随机工具</h2><p><code>TestRandom.java</code><br><img src=http://stepimagewm.how2j.cn/8928.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line><span class=keyword>import</span> java.util.ArrayList;</span><br><span class=line><span class=keyword>import</span> java.util.List;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.RandomUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestRandom</span> {</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("各种各样的随机数")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        List&lt;Integer> ls = <span class=keyword>new</span> <span class="title class_">ArrayList</span>&lt;>();</span><br><span class=line>        ls.add(<span class=number>1</span>);</span><br><span class=line>        ls.add(<span class=number>2</span>);</span><br><span class=line>        ls.add(<span class=number>3</span>);</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"随机获取一个整数"</span>, RandomUtil.randomInt(<span class=number>1</span>, <span class=number>1000</span>));</span><br><span class=line>        p3(<span class=string>"随机获取一个字节数组"</span>, Convert.toStr(RandomUtil.randomBytes(<span class=number>3</span>)));</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"随机获取一个集合里的某个元素"</span>, RandomUtil.randomEle(ls));</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"随机获取一个字符串"</span>, RandomUtil.randomString(<span class=number>10</span>));</span><br><span class=line>        p3(<span class=string>"随机获取一个大写字符串"</span>, RandomUtil.randomStringUpper(<span class=number>10</span>));</span><br><span class=line>        p3(<span class=string>"随机获取一个数字字符串"</span>, RandomUtil.randomNumbers(<span class=number>10</span>));</span><br><span class=line>        p3(<span class=string>"随机获取一个UUID"</span>, RandomUtil.randomUUID());</span><br><span class=line>        p3(<span class=string>"随机获取一个简化的UUID"</span>, RandomUtil.simpleUUID());</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t被转换为----->%n\t%s:\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=比较器工具><a class=headerlink href=#比较器工具 title=比较器工具></a>比较器工具</h2><p><code>TestComparator.java</code><br><img src=http://stepimagewm.how2j.cn/8958.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.collection.CollectionUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.comparator.PinyinComparator;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.comparator.PropertyComparator;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.RandomUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.*;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line><span class=keyword>import</span> java.util.ArrayList;</span><br><span class=line><span class=keyword>import</span> java.util.Collections;</span><br><span class=line><span class=keyword>import</span> java.util.List;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestComparator</span> {</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("属性比较器")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        List&lt;Hero> heros = <span class=keyword>new</span> <span class="title class_">ArrayList</span>&lt;>();</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i &lt; <span class=number>5</span>; i++) {</span><br><span class=line>            heros.add(<span class=keyword>new</span> <span class="title class_">Hero</span>(<span class=string>"hero "</span> + i, RandomUtil.randomInt(<span class=number>100</span>)));</span><br><span class=line>        }</span><br><span class=line>        System.out.println(<span class=string>"未排序的集合:"</span>);</span><br><span class=line>        System.out.println(CollectionUtil.join(heros, <span class=string>"\r\n"</span>));</span><br><span class=line></span><br><span class=line>        Collections.sort(heros, <span class=keyword>new</span> <span class="title class_">PropertyComparator</span>&lt;>(<span class=string>"hp"</span>));</span><br><span class=line>        System.out.println(<span class=string>"根据属性 hp 排序之后："</span>);</span><br><span class=line>        System.out.println(CollectionUtil.join(heros, <span class=string>"\r\n"</span>));</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("拼音比较器")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span> {</span><br><span class=line>        List&lt;String> names = <span class=keyword>new</span> <span class="title class_">ArrayList</span>&lt;>();</span><br><span class=line>        names.add(<span class=string>"令狐冲"</span>);</span><br><span class=line>        names.add(<span class=string>"陈家洛"</span>);</span><br><span class=line>        names.add(<span class=string>"石破天"</span>);</span><br><span class=line>        names.add(<span class=string>"胡一刀"</span>);</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"未排序的集合"</span>, CollectionUtil.join(names, <span class=string>" , "</span>));</span><br><span class=line></span><br><span class=line>        Collections.sort(names, <span class=keyword>new</span> <span class="title class_">PinyinComparator</span>());</span><br><span class=line>        p3(<span class=string>"根据拼音排序的集合"</span>, CollectionUtil.join(names, <span class=string>" , "</span>));</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>class</span> <span class="title class_">Hero</span> {</span><br><span class=line>        String name;</span><br><span class=line>        <span class=type>int</span> hp;</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class="title function_">Hero</span><span class=params>(String name, <span class=type>int</span> hp)</span> {</span><br><span class=line>            <span class=built_in>super</span>();</span><br><span class=line>            <span class=built_in>this</span>.name = name;</span><br><span class=line>            <span class=built_in>this</span>.hp = hp;</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> String <span class="title function_">getName</span><span class=params>()</span> {</span><br><span class=line>            <span class=keyword>return</span> name;</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">setName</span><span class=params>(String name)</span> {</span><br><span class=line>            <span class=built_in>this</span>.name = name;</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class=type>int</span> <span class="title function_">getHp</span><span class=params>()</span> {</span><br><span class=line>            <span class=keyword>return</span> hp;</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">setHp</span><span class=params>(<span class=type>int</span> hp)</span> {</span><br><span class=line>            <span class=built_in>this</span>.hp = hp;</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=meta>@Override</span></span><br><span class=line>        <span class=keyword>public</span> String <span class="title function_">toString</span><span class=params>()</span> {</span><br><span class=line>            <span class=keyword>return</span> <span class=string>"Hero [name="</span> + name + <span class=string>", hp="</span> + hp + <span class=string>"]"</span>;</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t被转换为----->%n\t%s:\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=多线程工具><a class=headerlink href=#多线程工具 title=多线程工具></a>多线程工具</h2><p><code>TestThread.java</code><p><img src=http://stepimagewm.how2j.cn/8961.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line><span class=keyword>import</span> java.util.concurrent.ExecutionException;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.thread.ThreadUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ArrayUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestThread</span> {</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("多线程工具")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> <span class=keyword>throws</span> InterruptedException, ExecutionException {</span><br><span class=line>        p3(<span class=string>"所有线程"</span>, ArrayUtil.join(ThreadUtil.getThreads(), <span class=string>"\r\n\t\t\t\t"</span>));</span><br><span class=line>        p3(<span class=string>"获取主线程"</span>, ThreadUtil.getMainThread());</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"不用捕捉异常的sleep"</span>, <span class=string>"ThreadUtil.sleep(2000);"</span>);</span><br><span class=line>        ThreadUtil.sleep(<span class=number>2000</span>);</span><br><span class=line></span><br><span class=line></span><br><span class=line>        p3(<span class=string>"很方便的通过线程池执行任务"</span>, <span class=string>""</span>);</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i &lt; <span class=number>10</span>; i++) {</span><br><span class=line>            <span class=type>Runnable</span> <span class=variable>r</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">Runnable</span>() {</span><br><span class=line>                <span class=meta>@Override</span></span><br><span class=line>                <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">run</span><span class=params>()</span> {</span><br><span class=line>                    System.out.println(<span class=string>"\t\t当前线程是："</span> + Thread.currentThread());</span><br><span class=line>                }</span><br><span class=line>            };</span><br><span class=line>            ThreadUtil.execute(r);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line></span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t被转换为----->%n\t%s:\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=缓存工具><a class=headerlink href=#缓存工具 title=缓存工具></a>缓存工具</h2><p><code>TestCache.java</code><p><img src=http://stepimagewm.how2j.cn/8964.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br><span class=line>184</span><br><span class=line>185</span><br><span class=line>186</span><br><span class=line>187</span><br><span class=line>188</span><br><span class=line>189</span><br><span class=line>190</span><br><span class=line>191</span><br><span class=line>192</span><br><span class=line>193</span><br><span class=line>194</span><br><span class=line>195</span><br><span class=line>196</span><br><span class=line>197</span><br><span class=line>198</span><br><span class=line>199</span><br><span class=line>200</span><br><span class=line>201</span><br><span class=line>202</span><br><span class=line>203</span><br><span class=line>204</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.cache.Cache;</span><br><span class=line><span class=keyword>import</span> cn.hutool.cache.CacheUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.cache.file.LFUFileCache;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.collection.CollectionUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.thread.ThreadUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestCache</span> {</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("缓存工具")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test0</span><span class=params>()</span> {</span><br><span class=line>        p4(<span class=string>"hutool的缓存，在处理缓存满了或者到期的时候，有如下几种策略："</span>);</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"FIFOCache"</span>, <span class=string>"first in first out , 先入先出，一旦缓存满了，先放进去的，先被清空"</span>);</span><br><span class=line>        p3(<span class=string>"LFUCache"</span>, <span class=string>"least frequently used, 一旦缓存满了，用得最少的，先被清空 (命中低的数据被清空)"</span>);</span><br><span class=line>        p3(<span class=string>"LRUCache"</span>, <span class=string>"least recently used, 一旦缓存满了，最久没用的，先被清空 (旧数据被清空)"</span>);</span><br><span class=line>        p3(<span class=string>"TimedCache"</span>, <span class=string>"一旦时间到了，被清空 (考虑时效性)"</span>);</span><br><span class=line>        p3(<span class=string>"WeakCache"</span>, <span class=string>"一旦内存满了，要垃圾回收了，优先被清空 (内存占用重要性)"</span>);</span><br><span class=line>        p3(<span class=string>"FileCach"</span>, <span class=string>"把文件对象作为缓存，减少IO访问频率"</span>);</span><br><span class=line></span><br><span class=line><span class=comment>//      LFUCache</span></span><br><span class=line><span class=comment>//      LRUCache least recently used</span></span><br><span class=line><span class=comment>//      TimedCache</span></span><br><span class=line><span class=comment>//      WeakCache</span></span><br><span class=line><span class=comment>//      FileCach</span></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("FIFO 示例")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        p4(<span class=string>"初始化缓存大小是 2"</span>);</span><br><span class=line>        p4(<span class=string>"接着向里面挨个放入1，2，3，导致缓存变满"</span>);</span><br><span class=line>        Cache&lt;String, Integer> cache = CacheUtil.newFIFOCache(<span class=number>2</span>);</span><br><span class=line>        cache.put(<span class=string>"key1"</span>, <span class=number>1</span>);</span><br><span class=line>        cache.put(<span class=string>"key2"</span>, <span class=number>2</span>);</span><br><span class=line>        cache.put(<span class=string>"key3"</span>, <span class=number>3</span>);</span><br><span class=line>        p3(<span class=string>"遍历缓存中的数据"</span>, CollectionUtil.join(cache, <span class=string>","</span>));</span><br><span class=line>        p4(<span class=string>"如预料一般，最早放入的最先被清空"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("LFUCache 示例")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span> {</span><br><span class=line>        p4(<span class=string>"初始化缓存大小是 2"</span>);</span><br><span class=line>        p4(<span class=string>"接着向里面挨个放入1，2，3，导致缓存变满"</span>);</span><br><span class=line>        Cache&lt;String, Integer> cache = CacheUtil.newLFUCache(<span class=number>2</span>);</span><br><span class=line>        cache.put(<span class=string>"key1"</span>, <span class=number>1</span>);</span><br><span class=line>        cache.put(<span class=string>"key2"</span>, <span class=number>2</span>);</span><br><span class=line>        p4(<span class=string>"中途故意使用一次 key1"</span>);</span><br><span class=line>        cache.get(<span class=string>"key1"</span>);</span><br><span class=line>        cache.put(<span class=string>"key3"</span>, <span class=number>3</span>);</span><br><span class=line>        p3(<span class=string>"遍历缓存中的数据"</span>, CollectionUtil.join(cache, <span class=string>","</span>));</span><br><span class=line>        p4(<span class=string>"如预料一般，使用频率最低的 2 的被清空"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("LFUCache 示例")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test3</span><span class=params>()</span> {</span><br><span class=line>        p4(<span class=string>"初始化缓存大小是 2"</span>);</span><br><span class=line>        p4(<span class=string>"接着向里面挨个放入1，2，3，导致缓存变满"</span>);</span><br><span class=line>        Cache&lt;String, Integer> cache = CacheUtil.newLRUCache(<span class=number>2</span>);</span><br><span class=line>        cache.put(<span class=string>"key1"</span>, <span class=number>1</span>);</span><br><span class=line>        cache.put(<span class=string>"key2"</span>, <span class=number>2</span>);</span><br><span class=line>        p4(<span class=string>"中途故意使用一次 key1"</span>);</span><br><span class=line>        cache.get(<span class=string>"key1"</span>);</span><br><span class=line>        cache.put(<span class=string>"key3"</span>, <span class=number>3</span>);</span><br><span class=line>        p3(<span class=string>"遍历缓存中的数据"</span>, CollectionUtil.join(cache, <span class=string>","</span>));</span><br><span class=line>        p4(<span class=string>"如预料一般，最久没有被使用的  2 的被清空"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("TimedCache 示例")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test4</span><span class=params>()</span> {</span><br><span class=line>        p4(<span class=string>"初始化缓存大小是 2"</span>);</span><br><span class=line>        p4(<span class=string>"接着向里面挨个放入1，2， 分别放设置存放时间为1秒和5秒"</span>);</span><br><span class=line>        Cache&lt;String, Integer> cache = CacheUtil.newTimedCache(Integer.MAX_VALUE);</span><br><span class=line>        cache.put(<span class=string>"key1"</span>, <span class=number>1</span>, <span class=number>1000</span>);</span><br><span class=line>        cache.put(<span class=string>"key2"</span>, <span class=number>2</span>, <span class=number>5000</span>);</span><br><span class=line>        p4(<span class=string>"休息3秒"</span>);</span><br><span class=line>        ThreadUtil.sleep(<span class=number>3000</span>);</span><br><span class=line>        p3(<span class=string>"遍历缓存中的数据"</span>, CollectionUtil.join(cache, <span class=string>","</span>));</span><br><span class=line>        p4(<span class=string>"如预料一般， 经过3秒后，1被清空了，2还在"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("WeakCache 示例")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test5</span><span class=params>()</span> {</span><br><span class=line>        p4(<span class=string>"WeekCache表示当垃圾回收发生的时候，不会阻挡回收器把它回收走。"</span>);</span><br><span class=line></span><br><span class=line>        p4(<span class=string>"请注意看描述：\"不会阻挡\", 就是说，垃圾回收真正要对它下手了，是可以下手的。"</span>);</span><br><span class=line>        p4(<span class=string>"但是垃圾回收发生的时候，不一定会回收所有垃圾和 week引用。"</span>);</span><br><span class=line>        p4(<span class=string>"正因为如此，不易观察到现象，而且不稳定，所以就不做演示了，免得误导"</span>);</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("FileCache 示例")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test6</span><span class=params>()</span> {</span><br><span class=line>        p4(<span class=string>"FileCache 也分 LFU, LRU 等，只是调用方式有所区别，并没有被放到 CacheUtil里，找了好一会儿才找到。。。，"</span>);</span><br><span class=line>        <span class=comment>//参数1：容量，能容纳的byte数</span></span><br><span class=line>        <span class=comment>//参数2：最大文件大小，byte数，决定能缓存至少多少文件，大于这个值不被缓存直接读取</span></span><br><span class=line>        <span class=comment>//参数3：超时。毫秒</span></span><br><span class=line></span><br><span class=line>        <span class=type>long</span> <span class=variable>capacity</span> <span class=operator>=</span> <span class=number>1024</span> * <span class=number>1024</span> * <span class=number>500</span>; <span class=comment>//最多500m, 太大了，内存吃不消，缓存就没法实施了</span></span><br><span class=line>        <span class=type>long</span> <span class=variable>maxFileSize</span> <span class=operator>=</span> <span class=number>1024</span> * <span class=number>1024</span> * <span class=number>10</span>; <span class=comment>//最大10m, 文件小于这个就缓存，太大了也不缓存</span></span><br><span class=line>        <span class=type>long</span> <span class=variable>timeout</span> <span class=operator>=</span> <span class=number>1000</span> * <span class=number>60</span> * <span class=number>60</span> * <span class=number>24</span>; <span class=comment>//缓存一天，超过这个就自动从缓存里移除了</span></span><br><span class=line></span><br><span class=line>        <span class=type>LFUFileCache</span> <span class=variable>cache</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">LFUFileCache</span>(<span class=number>1024</span> * <span class=number>1024</span> * <span class=number>500</span>, <span class=number>500</span>, <span class=number>2000</span>);</span><br><span class=line>        <span class=comment>//使用办法：</span></span><br><span class=line>        <span class=comment>//byte[] bytes = cache.getFileBytes("e:/project/hutool/img/logo.png");</span></span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p4</span><span class=params>(Object value)</span> {</span><br><span class=line>        p(<span class=literal>null</span>, value, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format4"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t被转换为----->%n\t%s:\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format4"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s%n%n"</span>, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=定时器工具><a class=headerlink href=#定时器工具 title=定时器工具></a>定时器工具</h2><p><img src=http://stepimagewm.how2j.cn/8967.png><h3 id=HutoolCronTask><a class=headerlink href=#HutoolCronTask title=HutoolCronTask></a>HutoolCronTask</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.date.DateUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">HutoolCronTask</span> <span class=keyword>implements</span> <span class="title class_">Runnable</span>{</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Override</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">run</span><span class=params>()</span> {</span><br><span class=line>        System.out.println(DateUtil.now() + <span class=string>" this is HutoolCronTask"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>}</span><br></pre></table></figure><h3 id=cron-settings><a class=headerlink href=#cron-settings title=cron.settings></a>cron.settings</h3><p>配置文件，<code>cron.settings</code>, 要放在 <code>/resources/config</code> 目录下。<p><img src=http://stepimagewm.how2j.cn/8969.png><figure class="highlight yaml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>[<span class=string>cn.how2j</span>]</span><br><span class=line>  <span class=string>HutoolCronTask.run</span> <span class=string>=</span> <span class=string>*/2</span> <span class=string>*</span> <span class=string>*</span> <span class=string>*</span> <span class=string>*</span> <span class=string>?</span></span><br><span class=line>  </span><br></pre></table></figure><h3 id=TestCron><a class=headerlink href=#TestCron title=TestCron></a>TestCron</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.cron.CronUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestCron</span> {</span><br><span class=line> </span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">main</span><span class=params>(String[] args)</span> {</span><br><span class=line>        CronUtil.setMatchSecond(<span class=literal>true</span>);</span><br><span class=line>        CronUtil.start();</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h3 id=用代码添加任务><a class=headerlink href=#用代码添加任务 title=用代码添加任务></a>用代码添加任务</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.date.DateUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.cron.CronUtil;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestCron</span> {</span><br><span class=line></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">main</span><span class=params>(String[] args)</span> {</span><br><span class=line>        CronUtil.setMatchSecond(<span class=literal>true</span>);</span><br><span class=line>        CronUtil.start();</span><br><span class=line></span><br><span class=line>        CronUtil.schedule(<span class=string>"*/2 * * * * ?"</span>, <span class=keyword>new</span> <span class="title class_">Runnable</span>() {</span><br><span class=line></span><br><span class=line>            <span class=meta>@Override</span></span><br><span class=line>            <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">run</span><span class=params>()</span> {</span><br><span class=line>                System.out.println(DateUtil.now() + <span class=string>" 执行新任务"</span>);</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        });</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h1 id=类和对象><a class=headerlink href=#类和对象 title=类和对象></a>类和对象</h1><h2 id=反射工具><a class=headerlink href=#反射工具 title=反射工具></a>反射工具</h2><p><img src=http://stepimagewm.how2j.cn/8899.png><p><code>TestReflection.java</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.*;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestReflection</span> {</span><br><span class=line></span><br><span class=line>    <span class=keyword>class</span> <span class="title class_">Hero</span> {</span><br><span class=line>        String name;</span><br><span class=line>        <span class=type>int</span> hp;</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> String <span class="title function_">getName</span><span class=params>()</span> {</span><br><span class=line>            <span class=keyword>return</span> name;</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">setName</span><span class=params>(String name)</span> {</span><br><span class=line>            <span class=built_in>this</span>.name = name;</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class=type>int</span> <span class="title function_">getHp</span><span class=params>()</span> {</span><br><span class=line>            <span class=keyword>return</span> hp;</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">setHp</span><span class=params>(<span class=type>int</span> hp)</span> {</span><br><span class=line>            <span class=built_in>this</span>.hp = hp;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("设置属性")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>Hero</span> <span class=variable>h</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">Hero</span>();</span><br><span class=line>        ReflectUtil.setFieldValue(h, <span class=string>"name"</span>, <span class=string>"盖伦"</span>);</span><br><span class=line>        p3(<span class=string>"对象通过反射设置name属性后的值"</span>, h.getName());</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("调用方法")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>Hero</span> <span class=variable>h</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">Hero</span>();</span><br><span class=line>        ReflectUtil.invoke(h, <span class=string>"setName"</span>, <span class=string>"盖伦"</span>);</span><br><span class=line>        p3(<span class=string>"对象通过反射设置调用setName属性后的值"</span>, h.getName());</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=类工具><a class=headerlink href=#类工具 title=类工具></a>类工具</h2><p><img src=http://stepimagewm.how2j.cn/8905.png><h3 id=获取方法><a class=headerlink href=#获取方法 title=获取方法></a>获取方法</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> Set&lt;String> <span class="title function_">getPublicMethodNames</span><span class=params>(Class&lt;?> clazz)</span> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> Method[] getPublicMethods(Class&lt;?> clazz) </span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;Method> <span class="title function_">getPublicMethods</span><span class=params>(Class&lt;?> clazz, Filter&lt;Method> filter)</span> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;Method> <span class="title function_">getPublicMethods</span><span class=params>(Class&lt;?> clazz, Method... excludeMethods)</span> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> List&lt;Method> <span class="title function_">getPublicMethods</span><span class=params>(Class&lt;?> clazz, String... excludeMethodNames)</span> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> Method <span class="title function_">getPublicMethod</span><span class=params>(Class&lt;?> clazz, String methodName, Class&lt;?>... paramTypes)</span> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> Set&lt;String> <span class="title function_">getDeclaredMethodNames</span><span class=params>(Class&lt;?> clazz)</span> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> Method[] getDeclaredMethods(Class&lt;?> clazz) </span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> Method <span class="title function_">getDeclaredMethodOfObj</span><span class=params>(Object obj, String methodName, Object... args)</span> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> Method <span class="title function_">getDeclaredMethod</span><span class=params>(Class&lt;?> clazz, String methodName, Class&lt;?>... parameterTypes)</span> </span><br></pre></table></figure><h3 id=获取字段><a class=headerlink href=#获取字段 title=获取字段></a>获取字段</h3><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> Field <span class="title function_">getDeclaredField</span><span class=params>(Class&lt;?> clazz, String fieldName)</span> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> Field[] getDeclaredFields(Class&lt;?> clazz) </span><br></pre></table></figure><h3 id=调用方法><a class=headerlink href=#调用方法 title=调用方法></a>调用方法</h3><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>public static &lt;T> T invoke(String classNameDotMethodName, Object[] args) </span><br><span class=line>public static &lt;T> T invoke(String classNameWithMethodName, boolean isSingleton, Object... args) </span><br><span class=line>public static &lt;T> T invoke(String className, String methodName, Object[] args) </span><br><span class=line>public static &lt;T> T invoke(String className, String methodName, boolean isSingleton, Object[] args) </span><br></pre></table></figure><h1 id=系统工具><a class=headerlink href=#系统工具 title=系统工具></a>系统工具</h1><h2 id=粘贴板工具><a class=headerlink href=#粘贴板工具 title=粘贴板工具></a>粘贴板工具</h2><p><img src=http://stepimagewm.how2j.cn/8902.png><p><code>TestClipboard</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.swing.ClipboardUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestClipboard</span> {</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("粘贴版")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>s1</span> <span class=operator>=</span> <span class=string>"how2j.cn- java教程"</span>;</span><br><span class=line>        ClipboardUtil.setStr(s1);</span><br><span class=line></span><br><span class=line>        <span class=type>String</span> <span class=variable>s2</span> <span class=operator>=</span> ClipboardUtil.getStr();</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"把如下数据通过ClipboardUtil 保存到粘贴板里"</span>, s1);</span><br><span class=line></span><br><span class=line>        p3(<span class=string>"通过ClipboardUtil 从粘贴板里取数据"</span>, s2);</span><br><span class=line></span><br><span class=line>        <span class=comment>//注意此文件是否真的存在</span></span><br><span class=line>        <span class=type>String</span> <span class=variable>imagePath</span> <span class=operator>=</span> <span class=string>"d:/temp.png"</span>;</span><br><span class=line><span class=comment>//      Image img =ImageUtil.read(imagePath);</span></span><br><span class=line><span class=comment>//      ClipboardUtil.setImage(img);</span></span><br><span class=line><span class=comment>//      img = ClipboardUtil.getImage();</span></span><br><span class=line>        p3(<span class=string>"向粘贴板复制图片的用法："</span>, <span class=string>"ClipboardUtil.setImage(img)"</span>);</span><br><span class=line>        p3(<span class=string>"从粘贴板获取图片的用法："</span>, <span class=string>"ClipboardUtil.getImage()"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=运行时工具><a class=headerlink href=#运行时工具 title=运行时工具></a>运行时工具</h2><p><img src=http://stepimagewm.how2j.cn/8908.png><p><code>TestRuntime</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.RuntimeUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.*;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestRuntime</span> {</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("RuntimeUtil使用举例")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>s</span> <span class=operator>=</span> RuntimeUtil.execForStr(<span class=string>"netstat -n"</span>);</span><br><span class=line></span><br><span class=line>        System.out.println(s);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=系统属性工具><a class=headerlink href=#系统属性工具 title=系统属性工具></a>系统属性工具</h2><p><img src=http://stepimagewm.how2j.cn/8985.png><p><code>TestSystem</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.system.SystemUtil;</span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.*;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestSystem</span> {</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("系统属性工具")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        p5(<span class=string>"java虚拟机规范"</span>, StrUtil.trim(SystemUtil.getJvmSpecInfo().toString()));</span><br><span class=line>        p5(<span class=string>"当前虚拟机信息"</span>, StrUtil.trim(SystemUtil.getJvmInfo().toString()));</span><br><span class=line>        p5(<span class=string>"java规范"</span>, StrUtil.trim(SystemUtil.getJavaSpecInfo().toString()));</span><br><span class=line>        p5(<span class=string>"当前java信息"</span>, StrUtil.trim(SystemUtil.getJavaInfo().toString()));</span><br><span class=line>        p5(<span class=string>"java运行时信息"</span>, StrUtil.trim(SystemUtil.getJavaRuntimeInfo().toString()));</span><br><span class=line>        p5(<span class=string>"操作系统信息"</span>, StrUtil.trim(SystemUtil.getOsInfo().toString()));</span><br><span class=line>        p5(<span class=string>"用户信息"</span>, StrUtil.trim(SystemUtil.getUserInfo().toString()));</span><br><span class=line>        p5(<span class=string>"主机信息"</span>, StrUtil.trim(SystemUtil.getHostInfo().toString()));</span><br><span class=line>        p5(<span class=string>"内存信息"</span>, StrUtil.trim(SystemUtil.getRuntimeInfo().toString()));</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p5</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format5"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p4</span><span class=params>(Object value)</span> {</span><br><span class=line>        p(<span class=literal>null</span>, value, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format4"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format4"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s%n%n"</span>, value1);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format5"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"---------%s-------:%n%s %n%n"</span>, type1, value1);</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h1 id=文件相关><a class=headerlink href=#文件相关 title=文件相关></a>文件相关</h1><h2 id=文件IO工具><a class=headerlink href=#文件IO工具 title=文件IO工具></a>文件IO工具</h2><ul><li>Hutool 里的文件IO工具有好几个<li>IOUtil ：操作流的<li>FileUtil ：操作文件的<li>FileTypeUtil： 被包含在FileUtil里了<li>FileReader，FileWriter：这两个基本上都在FileUtil里用了<li>WatchMonitor： 用来监控文件变化， 这个比较有意思，可以看看自己c盘，平时文件都有什么变化。<li>ClassPathResource 是class 路径下资源的获取</ul><h3 id=IOUtil><a class=headerlink href=#IOUtil title=IOUtil></a>IOUtil</h3><blockquote><p>把输入流的数据复制到输出流中</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=type>long</span> <span class="title function_">copy</span><span class=params>(InputStream in, OutputStream out)</span></span><br></pre></table></figure><blockquote><p>读取输入流的内容为字符串</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>String <span class="title function_">read</span><span class=params>(InputStream in, String charsetName)</span></span><br></pre></table></figure><blockquote><p>把数据写出到输出流中</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=keyword>void</span> <span class="title function_">writeUtf8</span><span class=params>(OutputStream out, <span class=type>boolean</span> isCloseOut, Object... contents)</span></span><br></pre></table></figure><h3 id=FileUtil><a class=headerlink href=#FileUtil title=FileUtil></a>FileUtil</h3><blockquote><p>是否是windows系统 (通过分隔符进行判断)</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=type>boolean</span> isWindows</span><br></pre></table></figure><blockquote><p>追加数据</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>File <span class="title function_">appendString</span><span class=params>(String content, File file, String charset)</span></span><br></pre></table></figure><blockquote><p>遍历当前目录及其子目录</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>List&lt;File> <span class="title function_">loopFiles</span><span class=params>(String path)</span></span><br></pre></table></figure><blockquote><p>目录及其子目录所有文件的大小总和</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=type>long</span> <span class="title function_">size</span><span class=params>(File file)</span></span><br></pre></table></figure><blockquote><p>创建文件，会自动创建父文件夹。 方法名故意用linux下的命令名</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>File <span class="title function_">touch</span><span class=params>(String fullFilePath)</span></span><br></pre></table></figure><blockquote><p>删除文件或者目录（这个很危险，会自动删除当前目录以及子目录，慎用）</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=type>boolean</span> <span class="title function_">del</span><span class=params>(String fullFileOrDirPath)</span></span><br></pre></table></figure><blockquote><p>同上</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">clean</span><span class=params>(String dirPath)</span> </span><br></pre></table></figure><blockquote><p>复制文件或者目录</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>File <span class="title function_">copyFile</span><span class=params>(String src, String dest, StandardCopyOption... options)</span></span><br></pre></table></figure><blockquote><p>判断俩文件内容是否一样</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=type>boolean</span> <span class="title function_">contentEquals</span><span class=params>(File file1, File file2)</span></span><br></pre></table></figure><blockquote><p>获取后缀名，不带.</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>String <span class="title function_">extName</span><span class=params>(String fileName)</span></span><br></pre></table></figure><blockquote><p>根据文件头部信息获取文件类型</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>String <span class="title function_">getType</span><span class=params>(File file)</span></span><br></pre></table></figure><blockquote><p>读取内容为字符串</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>readString(String path, String charsetName)</span><br></pre></table></figure><blockquote><p>读取内容为集合</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>List&lt;String> <span class="title function_">readLines</span><span class=params>(String path, String charset)</span></span><br></pre></table></figure><blockquote><p>把字符串写入到文件</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>File <span class="title function_">writeString</span><span class=params>(String content, String path, String charset)</span></span><br></pre></table></figure><blockquote><p>把集合写入到文件</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>File <span class="title function_">writeLines</span><span class=params>(Collection&lt;T> list, File file, String charset)</span></span><br></pre></table></figure><blockquote><p>转换文件编码，第一个参数必须和文件本身编码保持一致，否则就会出错。比如一个文件是GBK的，但是在UTF默认编码的环境下看到都是乱码，就可以通过这个转换一下</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>File <span class="title function_">convertCharset</span><span class=params>(File file, Charset srcCharset, Charset destCharset)</span></span><br></pre></table></figure><blockquote><p>指定换行符，有些文件从Linux搞来的，在window下换行会混乱，可以用这个进行转换</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>convertLineSeparator(File file, Charset charset, LineSeparator lineSeparator)</span><br></pre></table></figure><blockquote><p>获取CRC32校验码</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=type>long</span> <span class="title function_">checksumCRC32</span><span class=params>(File file)</span></span><br></pre></table></figure><blockquote><p>获取Web项目下的web root路径</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>File <span class="title function_">getWebRoot</span><span class=params>()</span> </span><br></pre></table></figure><blockquote><p>根据文件后缀名 (不一定是真实格式)，获取其mimetype</blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>String <span class="title function_">getMimeType</span><span class=params>(String filePath)</span></span><br></pre></table></figure><h3 id=WatchMonitor><a class=headerlink href=#WatchMonitor title=WatchMonitor></a>WatchMonitor</h3><blockquote><p>这是监控 F:/game 目录下所有文件的增删改。<br>站长启动了 “They Are Billions”, 就观察到了这么一些文件变化，哈哈~</blockquote><p><img src=http://stepimagewm.how2j.cn/8853.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.io.File;</span><br><span class=line><span class=keyword>import</span> java.nio.file.Path;</span><br><span class=line><span class=keyword>import</span> java.nio.file.WatchEvent;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.io.FileUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.io.watch.WatchMonitor;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.io.watch.Watcher;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.lang.Console;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestWatchMonitor</span> {</span><br><span class=line></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">main</span><span class=params>(String[] args)</span> {</span><br><span class=line>        <span class=type>File</span> <span class=variable>file</span> <span class=operator>=</span> FileUtil.file(<span class=string>"F:/game"</span>);</span><br><span class=line>        <span class=comment>//这里只监听文件或目录的修改事件</span></span><br><span class=line>        <span class=type>WatchMonitor</span> <span class=variable>watchMonitor</span> <span class=operator>=</span> WatchMonitor.create(file, WatchMonitor.EVENTS_ALL);</span><br><span class=line>        watchMonitor.setWatcher(<span class=keyword>new</span> <span class="title class_">Watcher</span>() {</span><br><span class=line>            <span class=meta>@Override</span></span><br><span class=line>            <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">onCreate</span><span class=params>(WatchEvent&lt;?> event, Path currentPath)</span> {</span><br><span class=line>                <span class=type>Object</span> <span class=variable>obj</span> <span class=operator>=</span> event.context();</span><br><span class=line>                Console.log(<span class=string>"创建：{}-> {}"</span>, currentPath, obj);</span><br><span class=line>            }</span><br><span class=line></span><br><span class=line>            <span class=meta>@Override</span></span><br><span class=line>            <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">onModify</span><span class=params>(WatchEvent&lt;?> event, Path currentPath)</span> {</span><br><span class=line>                <span class=type>Object</span> <span class=variable>obj</span> <span class=operator>=</span> event.context();</span><br><span class=line>                Console.log(<span class=string>"修改：{}-> {}"</span>, currentPath, obj);</span><br><span class=line>            }</span><br><span class=line></span><br><span class=line>            <span class=meta>@Override</span></span><br><span class=line>            <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">onDelete</span><span class=params>(WatchEvent&lt;?> event, Path currentPath)</span> {</span><br><span class=line>                <span class=type>Object</span> <span class=variable>obj</span> <span class=operator>=</span> event.context();</span><br><span class=line>                Console.log(<span class=string>"删除：{}-> {}"</span>, currentPath, obj);</span><br><span class=line>            }</span><br><span class=line></span><br><span class=line>            <span class=meta>@Override</span></span><br><span class=line>            <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">onOverflow</span><span class=params>(WatchEvent&lt;?> event, Path currentPath)</span> {</span><br><span class=line>                <span class=type>Object</span> <span class=variable>obj</span> <span class=operator>=</span> event.context();</span><br><span class=line>                Console.log(<span class=string>"Overflow：{}-> {}"</span>, currentPath, obj);</span><br><span class=line>            }</span><br><span class=line>        });</span><br><span class=line></span><br><span class=line>        <span class=comment>//设置监听目录的最大深入，目录层级大于制定层级的变更将不被监听，默认只监听当前层级目录</span></span><br><span class=line>        watchMonitor.setMaxDepth(Integer.MAX_VALUE);</span><br><span class=line>        <span class=comment>//启动监听</span></span><br><span class=line>        watchMonitor.start();</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h3 id=ClassPathResource><a class=headerlink href=#ClassPathResource title=ClassPathResource></a>ClassPathResource</h3><blockquote><p>ClassPathResource 是专门用来读取classpath 里的数据的，很方便。<br>如代码所所示，读取 hutoool jar 包里的：META-INF/MANIFEST.MF 文件并打印出来了。。。</blockquote><blockquote><p>如果不是用ClassPathResource ，要做还略麻烦的呢</blockquote><p><img src=http://stepimagewm.how2j.cn/8854.png><p><code>TestFile.java</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.io.resource.ClassPathResource;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestFile</span> {</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>ClassPathResource</span> <span class=variable>resource</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">ClassPathResource</span>(<span class=string>"META-INF/MANIFEST.MF"</span>);</span><br><span class=line>        System.out.println(resource.readUtf8Str());</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=图片工具><a class=headerlink href=#图片工具 title=图片工具></a>图片工具</h2><ul><li>缩放 scale<li>切割 cut<li>切片 slice<li>类型转换 convert<li>灰度 gray<li>添加文字水印 pressText<li>添加图片水印 pressImage<li>旋转 rotate<li>水平翻转 flip<li>图片变成BASE-64字符串 toBase64<li>创建字体 createFont<li>根据文字创建图片 createImage<li>读取图片 read<li>随机颜色 randomColor</ul><h2 id=CSV工具><a class=headerlink href=#CSV工具 title=CSV工具></a>CSV工具</h2><p><img src=http://stepimagewm.how2j.cn/8952.png><p><code>TestCVS.java</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.io.FileUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.text.csv.*;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.CharsetUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.lang.annotation.*;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line><span class=keyword>import</span> java.util.List;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestCVS</span> {</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("读写CVS")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line></span><br><span class=line>        <span class=comment>//写数据</span></span><br><span class=line>        <span class=type>CsvWriter</span> <span class=variable>writer</span> <span class=operator>=</span> CsvUtil.getWriter(<span class=string>"test.csv"</span>, CharsetUtil.CHARSET_UTF_8);</span><br><span class=line>        writer.write(</span><br><span class=line>                <span class=keyword>new</span> <span class="title class_">String</span>[]{<span class=string>"a1"</span>, <span class=string>"b1"</span>, <span class=string>"c1"</span>},</span><br><span class=line>                <span class=keyword>new</span> <span class="title class_">String</span>[]{<span class=string>"a2"</span>, <span class=string>"b2"</span>, <span class=string>"c2"</span>},</span><br><span class=line>                <span class=keyword>new</span> <span class="title class_">String</span>[]{<span class=string>"a3"</span>, <span class=string>"b3"</span>, <span class=string>"c3"</span>}</span><br><span class=line>        );</span><br><span class=line>        <span class=comment>//读数据</span></span><br><span class=line></span><br><span class=line>        <span class=type>CsvReader</span> <span class=variable>reader</span> <span class=operator>=</span> CsvUtil.getReader();</span><br><span class=line>        <span class=comment>//从文件中读取CSV数据</span></span><br><span class=line>        <span class=type>CsvData</span> <span class=variable>data</span> <span class=operator>=</span> reader.read(FileUtil.file(<span class=string>"test.csv"</span>));</span><br><span class=line>        List&lt;CsvRow> rows = data.getRows();</span><br><span class=line>        <span class=comment>//遍历行</span></span><br><span class=line>        <span class=keyword>for</span> (CsvRow csvRow : rows) {</span><br><span class=line>            <span class=comment>//getRawList返回一个List列表，列表的每一项为CSV中的一个单元格（既逗号分隔部分）</span></span><br><span class=line>            System.out.println(csvRow.getRawList());</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t被转换为----->%n\t%s:\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=图形验证码工具><a class=headerlink href=#图形验证码工具 title=图形验证码工具></a>图形验证码工具</h2><p><img src=http://stepimagewm.how2j.cn/8988.png><p><img src=http://stepimagewm.how2j.cn/8990.png><p><code>TestCaptcha.java</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.io.OutputStream;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> cn.hutool.captcha.CaptchaUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.captcha.CircleCaptcha;</span><br><span class=line><span class=keyword>import</span> cn.hutool.captcha.LineCaptcha;</span><br><span class=line><span class=keyword>import</span> cn.hutool.captcha.ShearCaptcha;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.io.IoUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestCaptcha</span> {</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("创建 线段干扰的验证码")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>int</span> <span class=variable>width</span> <span class=operator>=</span> <span class=number>200</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>height</span> <span class=operator>=</span> <span class=number>100</span>;</span><br><span class=line>        <span class=type>LineCaptcha</span> <span class=variable>captcha</span> <span class=operator>=</span> CaptchaUtil.createLineCaptcha(width, height);</span><br><span class=line>        p3(<span class=string>"当前的验证码是"</span>, captcha.getCode());</span><br><span class=line>        <span class=type>String</span> <span class=variable>path</span> <span class=operator>=</span> <span class=string>"d:/captcha1.png"</span>;</span><br><span class=line>        captcha.write(path);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("创建 圆圈干扰的验证码")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>int</span> <span class=variable>width</span> <span class=operator>=</span> <span class=number>200</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>height</span> <span class=operator>=</span> <span class=number>100</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>codeCount</span> <span class=operator>=</span> <span class=number>5</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>circleCount</span> <span class=operator>=</span> <span class=number>40</span>;</span><br><span class=line>        <span class=type>CircleCaptcha</span> <span class=variable>captcha</span> <span class=operator>=</span> CaptchaUtil.createCircleCaptcha(width, height, codeCount, circleCount);</span><br><span class=line>        p3(<span class=string>"当前的验证码是"</span>, captcha.getCode());</span><br><span class=line>        <span class=type>String</span> <span class=variable>path</span> <span class=operator>=</span> <span class=string>"d:/captcha2.png"</span>;</span><br><span class=line>        captcha.write(path);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("创建 扭曲线干扰的验证码")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test3</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>int</span> <span class=variable>width</span> <span class=operator>=</span> <span class=number>200</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>height</span> <span class=operator>=</span> <span class=number>100</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>codeCount</span> <span class=operator>=</span> <span class=number>5</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>thickness</span> <span class=operator>=</span> <span class=number>2</span>;</span><br><span class=line>        <span class=type>ShearCaptcha</span> <span class=variable>captcha</span> <span class=operator>=</span> CaptchaUtil.createShearCaptcha(width, height, codeCount, thickness);</span><br><span class=line>        p3(<span class=string>"当前的验证码是"</span>, captcha.getCode());</span><br><span class=line>        <span class=type>String</span> <span class=variable>path</span> <span class=operator>=</span> <span class=string>"d:/captcha3.png"</span>;</span><br><span class=line>        captcha.write(path);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("web 页面输出")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test4</span><span class=params>()</span> {</span><br><span class=line>        <span class=comment>//junit 毕竟不是servlet 容器，拿不到 response对象， 这里是伪代码</span></span><br><span class=line>        <span class=type>int</span> <span class=variable>width</span> <span class=operator>=</span> <span class=number>200</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>height</span> <span class=operator>=</span> <span class=number>100</span>;</span><br><span class=line>        <span class=type>LineCaptcha</span> <span class=variable>captcha</span> <span class=operator>=</span> CaptchaUtil.createLineCaptcha(width, height);</span><br><span class=line>        <span class=type>OutputStream</span> <span class=variable>out</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line><span class=comment>//      out = HttpServletResponse.getOutputStream();</span></span><br><span class=line><span class=comment>//      captcha.write(out);</span></span><br><span class=line>        IoUtil.close(out);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line></span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t被转换为----->%n\t%s:\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=meta>@Target({METHOD, TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h1 id=第三方相关><a class=headerlink href=#第三方相关 title=第三方相关></a>第三方相关</h1><h2 id=邮件工具><a class=headerlink href=#邮件工具 title=邮件工具></a>邮件工具</h2><p><img src=http://stepimagewm.how2j.cn/8973.png><blockquote><p><code>TestMail.java</code></blockquote><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Before;</span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.date.DateUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.io.FileUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.extra.mail.MailAccount;</span><br><span class=line><span class=keyword>import</span> cn.hutool.extra.mail.MailUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestMail</span> {</span><br><span class=line>    <span class=keyword>private</span> MailAccount account;</span><br><span class=line>     </span><br><span class=line>    <span class=meta>@Before</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">prepareMailAccount</span><span class=params>()</span> {</span><br><span class=line>        account = <span class=keyword>new</span> <span class="title class_">MailAccount</span>();</span><br><span class=line>        account.setHost(<span class=string>"smtp.163.com"</span>);</span><br><span class=line>        account.setPort(<span class=number>25</span>);</span><br><span class=line>        account.setAuth(<span class=literal>true</span>);</span><br><span class=line>        account.setFrom(<span class=string>"test@163.com"</span>); <span class=comment>//假邮箱，请自己申请真实邮箱</span></span><br><span class=line>        account.setUser(<span class=string>"test@163.com"</span>); <span class=comment>//假邮箱，请自己申请真实邮箱</span></span><br><span class=line>        account.setPass(<span class=string>"testpassword"</span>); <span class=comment>//假密码，请自己申请真实邮箱</span></span><br><span class=line>    }</span><br><span class=line>     </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("发送普通文本")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span>{</span><br><span class=line>        <span class=comment>//因为账号密码不对，所以不能正确发送</span></span><br><span class=line>        <span class=comment>//MailUtil.send(account,"test@163.com", "hutool 测试邮件" + DateUtil.now(), "测试内容", false);</span></span><br><span class=line>    }</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("发送html邮件")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span>{</span><br><span class=line>        <span class=comment>//因为账号密码不对，所以不能正确发送</span></span><br><span class=line>        <span class=comment>//MailUtil.send(account,"test@163.com", "hutool 测试邮件" + DateUtil.now(), "&lt;p>测试内容&lt;/p>", true);</span></span><br><span class=line>    }</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("发送带附件的邮件")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test3</span><span class=params>()</span>{</span><br><span class=line>         </span><br><span class=line>        <span class=comment>//因为账号密码不对，所以不能正确发送</span></span><br><span class=line>        MailUtil.send(account,<span class=string>"test@163.com"</span>, <span class=string>"hutool 测试邮件"</span> + DateUtil.now(), <span class=string>"&lt;p>测试内容&lt;/p>"</span>, <span class=literal>true</span>, FileUtil.file(<span class=string>"d:/test.txt"</span>));</span><br><span class=line>    }</span><br><span class=line>     </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>; </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>,msg);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>              </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span>ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span>(<span class=literal>null</span>!=annotation) {</span><br><span class=line>                String comment= annotation.value();</span><br><span class=line>                <span class=keyword>if</span>(!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>,comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line>                  </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1=StrUtil.padEnd(type1,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2=StrUtil.padEnd(type2,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>,type1,value1);</span><br><span class=line>  </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>      </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span>(methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=meta>@Target({METHOD,TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>         String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><blockquote><p><code>pom.xml</code><br>从现在开始，都是需要第三方包 才能使用的 hutool 功能了。</blockquote><figure class="highlight xml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>project</span> <span class=attr>xmlns</span>=<span class=string>"http://maven.apache.org/POM/4.0.0"</span> <span class=attr>xmlns:xsi</span>=<span class=string>"http://www.w3.org/2001/XMLSchema-instance"</span> <span class=attr>xsi:schemaLocation</span>=<span class=string>"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>modelVersion</span>></span>4.0.0<span class=tag>&lt;/<span class=name>modelVersion</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>groupId</span>></span>cn.how2j<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>artifactId</span>></span>hutool<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>version</span>></span>0.0.1-SNAPSHOT<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>name</span>></span>hutool<span class=tag>&lt;/<span class=name>name</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>description</span>></span>hutool<span class=tag>&lt;/<span class=name>description</span>></span></span><br><span class=line>    <span class=tag>&lt;<span class=name>dependencies</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>groupId</span>></span>cn.hutool<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>hutool-all<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>4.3.1<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>groupId</span>></span>junit<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>junit<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>4.3.1<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>scope</span>></span>test<span class=tag>&lt;/<span class=name>scope</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>groupId</span>></span>javax.mail<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>mail<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>1.4.7<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span></span><br><span class=line>    <span class=tag>&lt;/<span class=name>dependencies</span>></span></span><br><span class=line><span class=tag>&lt;/<span class=name>project</span>></span></span><br></pre></table></figure><blockquote><p><code>qq邮箱</code></blockquote><blockquote><p>关于qq邮箱如果要使用，密码要使用授权码。 授权码的获取手段：<br><a href="https://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256" rel=noopener target=_blank>https://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256</a></blockquote><h2 id=二维码工具><a class=headerlink href=#二维码工具 title=二维码工具></a>二维码工具</h2><p><img src=http://stepimagewm.how2j.cn/8977.png><blockquote><p><code>pom.xml</code></blockquote><figure class="highlight xml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>project</span> <span class=attr>xmlns</span>=<span class=string>"http://maven.apache.org/POM/4.0.0"</span> <span class=attr>xmlns:xsi</span>=<span class=string>"http://www.w3.org/2001/XMLSchema-instance"</span> <span class=attr>xsi:schemaLocation</span>=<span class=string>"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>modelVersion</span>></span>4.0.0<span class=tag>&lt;/<span class=name>modelVersion</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>groupId</span>></span>cn.how2j<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>artifactId</span>></span>hutool<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>version</span>></span>0.0.1-SNAPSHOT<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>name</span>></span>hutool<span class=tag>&lt;/<span class=name>name</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>description</span>></span>hutool<span class=tag>&lt;/<span class=name>description</span>></span></span><br><span class=line>    <span class=tag>&lt;<span class=name>dependencies</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>groupId</span>></span>cn.hutool<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>hutool-all<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>4.3.1<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>groupId</span>></span>junit<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>junit<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>4.3.1<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>scope</span>></span>test<span class=tag>&lt;/<span class=name>scope</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>groupId</span>></span>javax.mail<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>mail<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>1.4.7<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>groupId</span>></span>com.google.zxing<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>core<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>3.3.1<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span>    </span><br><span class=line>    <span class=tag>&lt;/<span class=name>dependencies</span>></span></span><br><span class=line><span class=tag>&lt;/<span class=name>project</span>></span></span><br></pre></table></figure><blockquote><p><code>TestQR.java</code></blockquote><p><img src=http://stepimagewm.how2j.cn/8980.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.io.FileUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.extra.qrcode.QrCodeUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestQR</span> {</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("生成二维码图片和解析图片")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span>{</span><br><span class=line>        <span class=type>String</span> <span class=variable>string</span> <span class=operator>=</span> <span class=string>"http://how2j.cn"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>path</span> <span class=operator>=</span> <span class=string>"d:/qrcode.jpg"</span>;</span><br><span class=line>        QrCodeUtil.generate(string, <span class=number>300</span>, <span class=number>300</span>, FileUtil.file(path));</span><br><span class=line> </span><br><span class=line>        p1(<span class=string>"字符串"</span>,string,<span class=string>"二维码图片"</span>,path);</span><br><span class=line>         </span><br><span class=line>        string =  QrCodeUtil.decode(FileUtil.file(path));</span><br><span class=line>        p1(<span class=string>"二维码图片"</span>,path,<span class=string>"二维码图片"</span>,string);</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line>     </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>; </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>,msg);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>              </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span>ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span>(<span class=literal>null</span>!=annotation) {</span><br><span class=line>                String comment= annotation.value();</span><br><span class=line>                <span class=keyword>if</span>(!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>,comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line>                  </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1=StrUtil.padEnd(type1,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2=StrUtil.padEnd(type2,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>,type1,value1);</span><br><span class=line>  </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>      </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span>(methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=meta>@Target({METHOD,TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>         String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=FTP工具><a class=headerlink href=#FTP工具 title=FTP工具></a>FTP工具</h2><p><img src=http://stepimagewm.how2j.cn/8981.png><blockquote><p><code>pom.xml</code></blockquote><figure class="highlight xml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>project</span> <span class=attr>xmlns</span>=<span class=string>"http://maven.apache.org/POM/4.0.0"</span> <span class=attr>xmlns:xsi</span>=<span class=string>"http://www.w3.org/2001/XMLSchema-instance"</span> <span class=attr>xsi:schemaLocation</span>=<span class=string>"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>modelVersion</span>></span>4.0.0<span class=tag>&lt;/<span class=name>modelVersion</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>groupId</span>></span>cn.how2j<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>artifactId</span>></span>hutool<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>version</span>></span>0.0.1-SNAPSHOT<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>name</span>></span>hutool<span class=tag>&lt;/<span class=name>name</span>></span></span><br><span class=line>  <span class=tag>&lt;<span class=name>description</span>></span>hutool<span class=tag>&lt;/<span class=name>description</span>></span></span><br><span class=line>    <span class=tag>&lt;<span class=name>dependencies</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>groupId</span>></span>cn.hutool<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>hutool-all<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>4.3.1<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>groupId</span>></span>junit<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>junit<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>4.3.1<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>scope</span>></span>test<span class=tag>&lt;/<span class=name>scope</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>groupId</span>></span>javax.mail<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>mail<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>1.4.7<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span></span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>groupId</span>></span>com.google.zxing<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>core<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>3.3.1<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span>    </span><br><span class=line>        <span class=tag>&lt;<span class=name>dependency</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>groupId</span>></span>commons-net<span class=tag>&lt;/<span class=name>groupId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>artifactId</span>></span>commons-net<span class=tag>&lt;/<span class=name>artifactId</span>></span></span><br><span class=line>            <span class=tag>&lt;<span class=name>version</span>></span>3.6<span class=tag>&lt;/<span class=name>version</span>></span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>dependency</span>></span>    </span><br><span class=line>    <span class=tag>&lt;/<span class=name>dependencies</span>></span></span><br><span class=line><span class=tag>&lt;/<span class=name>project</span>></span></span><br></pre></table></figure><blockquote><p><code>TestFtp.java</code></blockquote><p><img src=http://stepimagewm.how2j.cn/8984.png><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.io.IOException;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.io.FileUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.extra.ftp.Ftp;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestFTP</span> {</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("上传下载")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span>{</span><br><span class=line>         </span><br><span class=line>        <span class=type>String</span> <span class=variable>localFile4Upload</span> <span class=operator>=</span> <span class=string>"d:/test.jpg"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>localFile4Download</span> <span class=operator>=</span> <span class=string>"d:/test2.jpg"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>remoteFolder</span> <span class=operator>=</span> <span class=string>"/"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>remoteFile</span> <span class=operator>=</span> <span class=string>"test.jpg"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>ftpServer</span> <span class=operator>=</span> <span class=string>"28.212.18.5"</span>; <span class=comment>//这是无效的ip地址，请使用自己有效的ftp服务器ip地址</span></span><br><span class=line>        <span class=type>String</span> <span class=variable>name</span> <span class=operator>=</span> <span class=string>"ftpuser"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>password</span> <span class=operator>=</span> <span class=string>"password123"</span>;</span><br><span class=line>         </span><br><span class=line>        <span class=type>Ftp</span> <span class=variable>ftp</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">Ftp</span>(ftpServer,<span class=number>21</span>,name,password);</span><br><span class=line>        <span class=type>boolean</span> success= ftp.upload(remoteFolder,remoteFile, FileUtil.file(localFile4Upload));</span><br><span class=line>        p3(<span class=string>"上传是否成功"</span>,success);</span><br><span class=line>         </span><br><span class=line>        ftp.download(remoteFolder, remoteFile, FileUtil.file(localFile4Download));</span><br><span class=line>         </span><br><span class=line>        p3(<span class=string>"用于上传的文件大小"</span>, FileUtil.file(localFile4Upload).length());</span><br><span class=line>        p3(<span class=string>"下载下来之后的文件大小"</span>, FileUtil.file(localFile4Download).length());</span><br><span class=line> </span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            ftp.close();</span><br><span class=line>        } <span class=keyword>catch</span> (IOException e) {</span><br><span class=line>            <span class=comment>// TODO Auto-generated catch block</span></span><br><span class=line>            e.printStackTrace();</span><br><span class=line>        }</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line>     </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>; </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>,msg);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>              </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span>ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span>(<span class=literal>null</span>!=annotation) {</span><br><span class=line>                String comment= annotation.value();</span><br><span class=line>                <span class=keyword>if</span>(!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>,comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line>                  </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1=StrUtil.padEnd(type1,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2=StrUtil.padEnd(type2,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>,type1,value1);</span><br><span class=line>  </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>      </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span>(methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=meta>@Target({METHOD,TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>         String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h1 id=其他-1><a class=headerlink href=#其他-1 title=其他></a>其他</h1><h2 id=网络工具><a class=headerlink href=#网络工具 title=网络工具></a>网络工具</h2><p><img src=http://stepimagewm.how2j.cn/8933.png><p><code>TestNet.java</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.collection.CollectionUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.NetUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestNet</span> {</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("ipv4 和 long 互换")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span>{</span><br><span class=line>        <span class=type>String</span> <span class=variable>ip</span> <span class=operator>=</span> <span class=string>"220.181.57.216"</span>;</span><br><span class=line>        <span class=type>long</span> <span class=variable>value</span> <span class=operator>=</span> <span class=number>0L</span>;</span><br><span class=line>         </span><br><span class=line>        value = NetUtil.ipv4ToLong(ip);</span><br><span class=line>        ip = NetUtil.longToIpv4(value);</span><br><span class=line>        p2(<span class=string>"ip地址"</span>,ip, <span class=string>"对应的long"</span>, value);</span><br><span class=line>        p2(<span class=string>"long值 "</span>,value, <span class=string>"对应的ip"</span>, ip);</span><br><span class=line>         </span><br><span class=line>    }  </span><br><span class=line>     </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("判断端口和地址")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span>{</span><br><span class=line>        <span class=type>int</span> <span class=variable>port1</span> <span class=operator>=</span><span class=number>80</span>;</span><br><span class=line>        <span class=type>int</span> <span class=variable>port2</span> <span class=operator>=</span><span class=number>68000</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>ip1</span> <span class=operator>=</span> <span class=string>"220.181.57.216"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>ip2</span> <span class=operator>=</span> <span class=string>"192.168.0.8"</span>;</span><br><span class=line>        p2(<span class=string>"端口号"</span>,port1,  <span class=string>"是否已经被占用"</span>,!NetUtil.isUsableLocalPort(port1));</span><br><span class=line>        p2(<span class=string>"端口号"</span>,port2,  <span class=string>"是否一个有效的端口号"</span>,NetUtil.isValidPort(port2));</span><br><span class=line>        p2(<span class=string>"ip地址"</span>,ip1,  <span class=string>"是否是个内网地址"</span>,NetUtil.isInnerIP(ip1));</span><br><span class=line>        p2(<span class=string>"ip地址"</span>,ip2,  <span class=string>"是否是个内网地址"</span>,NetUtil.isInnerIP(ip2));</span><br><span class=line>    }  </span><br><span class=line>     </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("其他相关操作")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test3</span><span class=params>()</span>{</span><br><span class=line>         </span><br><span class=line>        <span class=type>String</span> <span class=variable>ip</span> <span class=operator>=</span> <span class=string>"220.181.57.216"</span>;</span><br><span class=line>        <span class=type>String</span> <span class=variable>host</span> <span class=operator>=</span> <span class=string>"baidu.com"</span>;</span><br><span class=line>         </span><br><span class=line>        p2(<span class=string>"原ip"</span>,ip,<span class=string>"隐藏最后一位"</span>,NetUtil.hideIpPart(ip));</span><br><span class=line>        p2(<span class=string>"域名"</span>,host,<span class=string>"对应的ip地址"</span>,NetUtil.getIpByHost(host));</span><br><span class=line>        p3(<span class=string>"本机ip地址"</span>,NetUtil.localIpv4s());</span><br><span class=line>        p3(<span class=string>"本机mac地址"</span>,NetUtil.getLocalMacAddress());</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line>     </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>; </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>,msg);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>              </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span>ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span>(<span class=literal>null</span>!=annotation) {</span><br><span class=line>                String comment= annotation.value();</span><br><span class=line>                <span class=keyword>if</span>(!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>,comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line>                  </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1=StrUtil.padEnd(type1,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2=StrUtil.padEnd(type2,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>,type1,value1);</span><br><span class=line>  </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>      </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span>(methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=meta>@Target({METHOD,TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>         String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=压缩工具><a class=headerlink href=#压缩工具 title=压缩工具></a>压缩工具</h2><p><img src=http://stepimagewm.how2j.cn/8936.png><p><code>TestZip.java</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line><span class=keyword>import</span> java.util.ArrayList;</span><br><span class=line><span class=keyword>import</span> java.util.List;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ZipUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestZip</span> {</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("压缩字符串")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span>{</span><br><span class=line>        <span class=type>String</span> <span class=variable>str</span> <span class=operator>=</span> <span class=string>"hello!!!!!!!!!!!!!!!"</span>;</span><br><span class=line>        <span class=type>byte</span>[] bs= ZipUtil.zlib(str, <span class=string>"utf-8"</span>, <span class=number>4</span>);</span><br><span class=line>        <span class=type>String</span> <span class=variable>str2</span> <span class=operator>=</span> ZipUtil.unZlib(bs, <span class=string>"utf-8"</span>);</span><br><span class=line>         </span><br><span class=line>        p3(<span class=string>"源字符串"</span>,str);</span><br><span class=line>        p3(<span class=string>"长度是"</span>,str.length());</span><br><span class=line>        p3(<span class=string>"zlib压缩后，长度是"</span>,bs.length);</span><br><span class=line>        p3(<span class=string>"unzip后得到"</span>,str2);</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("压缩文件")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test2</span><span class=params>()</span>{</span><br><span class=line>        System.out.println(<span class=string>"\t因为是压缩文件，不好演示,主要就是使用 zip和unzip方法，很好用，都挨个试试就知道了"</span>);</span><br><span class=line>    }</span><br><span class=line>     </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>; </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>,msg);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>              </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span>ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span>(<span class=literal>null</span>!=annotation) {</span><br><span class=line>                String comment= annotation.value();</span><br><span class=line>                <span class=keyword>if</span>(!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>,comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line>                  </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1=StrUtil.padEnd(type1,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2=StrUtil.padEnd(type2,padLength,Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>,type1,value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span>(<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>,type1,value1);</span><br><span class=line>  </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>      </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span>(methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line>  </span><br><span class=line>    <span class=meta>@Target({METHOD,TYPE})</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>         String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=正则工具><a class=headerlink href=#正则工具 title=正则工具></a>正则工具</h2><p><img src=http://stepimagewm.how2j.cn/8939.png><p><code>TestRegex.java</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line><span class=keyword>import</span> java.util.regex.Matcher;</span><br><span class=line><span class=keyword>import</span> java.util.regex.Pattern;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestRegex</span> {</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("正则表达式")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>content</span> <span class=operator>=</span> <span class=string>"But just as he who called you is holy, so be holy in all you do; for it is written: “Be holy, because I am holy"</span>;</span><br><span class=line> </span><br><span class=line>        p3(<span class=string>"字符串"</span>,content);</span><br><span class=line>        <span class=type>String</span> <span class=variable>regex</span> <span class=operator>=</span> <span class=string>"\\w{5}"</span>;</span><br><span class=line>        p3(regex + <span class=string>" 表："</span>,<span class=string>"连续5个字母或者数字"</span>);</span><br><span class=line>         </span><br><span class=line>        <span class=type>Object</span> <span class=variable>result</span> <span class=operator>=</span> ReUtil.get(regex, content, <span class=number>0</span>);</span><br><span class=line>        p2(<span class=string>"正则表达式"</span>,regex,<span class=string>"get 返回值"</span>, result);</span><br><span class=line>         </span><br><span class=line>        result = ReUtil.contains(regex, content);</span><br><span class=line>        p2(<span class=string>"正则表达式"</span>,regex,<span class=string>"contain 返回值"</span>, result);</span><br><span class=line>         </span><br><span class=line>        result = ReUtil.count(regex, content);</span><br><span class=line>        p2(<span class=string>"正则表达式"</span>,regex,<span class=string>"count 返回值"</span>, result);</span><br><span class=line>         </span><br><span class=line>        result = ReUtil.delAll(regex, content);</span><br><span class=line>        p2(<span class=string>"正则表达式"</span>,regex,<span class=string>"delAll 返回值"</span>, result);</span><br><span class=line>         </span><br><span class=line>        result = ReUtil.delFirst(regex, content);</span><br><span class=line>        p2(<span class=string>"正则表达式"</span>,regex,<span class=string>"delFirst 返回值"</span>, result);</span><br><span class=line>         </span><br><span class=line>        result = ReUtil.delPre(regex, content);</span><br><span class=line>        p2(<span class=string>"正则表达式"</span>,regex,<span class=string>"delPre 返回值"</span>, result);</span><br><span class=line>         </span><br><span class=line>        result = ReUtil.findAll(regex, content,<span class=number>0</span>);</span><br><span class=line>        p2(<span class=string>"正则表达式"</span>,regex,<span class=string>"findAll 返回值"</span>, result);</span><br><span class=line> </span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line> </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line> </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line> </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Target({ METHOD, TYPE })</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=校验工具><a class=headerlink href=#校验工具 title=校验工具></a>校验工具</h2><p><img src=http://stepimagewm.how2j.cn/8942.png><p><code>TestValidator.java</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.lang.Validator;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestValidator</span> {</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("校验器")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>email</span> <span class=operator>=</span><span class=string>"123@qq.com"</span>;</span><br><span class=line>        <span class=type>boolean</span> <span class=variable>valid</span> <span class=operator>=</span>Validator.isEmail(email);</span><br><span class=line>         </span><br><span class=line>        p2(<span class=string>"邮件地址"</span>,email,<span class=string>" 是否合法 "</span>,valid);</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line> </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line> </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line> </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Target({ METHOD, TYPE })</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><blockquote><p>归纳<br>Validator 把一些常用的校验工具准备好了，提供给大家直接使用。<br>用法都很简单，这里站长稍做整理，归纳了一下。</blockquote><ul><li>为空判断<br> isNull<br> isEmpty<li>字母，数字和下划线<br> isGeneral<li>至少多长的<br> isGeneral(String value, int min)<li>给定范围的<br> isGeneral(String value, int min, int max)<li>数字<br> isNumber<li>给定范围的数字<br> isBetween(Number value, Number min, Number max)<li>纯字母<br> isLetter<li>大小写<br> isUpperCase<br> isLowerCase<li>ip4<br> isIpv4<li>金额<br> isMoney<li>邮件<br> isEmail<li>手机号码<br> isMobile<li>18位身份证<br> isCitizenId<li>邮编<br> isZipCode<li>出生年月日<br> isBirthday<li>URL<br> isUrl<li>汉字<br> isChinese<li>汉字，字母，数字和下划线<br> isGeneralWithChinese<li>mac地址<br> isMac<li>中国车牌<br> isPlateNumber<li>uuid<br> isUUID</ul><h2 id=身份证工具><a class=headerlink href=#身份证工具 title=身份证工具></a>身份证工具</h2><p><img src=http://stepimagewm.how2j.cn/8946.png><p><code>TestIdCard.java</code><figure class="highlight java"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> cn.how2j.test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class=line><span class=keyword>import</span> <span class=keyword>static</span> java.lang.annotation.ElementType.TYPE;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Documented;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Inherited;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Retention;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=line><span class=keyword>import</span> java.lang.annotation.Target;</span><br><span class=line><span class=keyword>import</span> java.lang.reflect.Method;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> org.junit.Test;</span><br><span class=line> </span><br><span class=line><span class=keyword>import</span> cn.hutool.core.convert.Convert;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.lang.Validator;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.IdcardUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.ReflectUtil;</span><br><span class=line><span class=keyword>import</span> cn.hutool.core.util.StrUtil;</span><br><span class=line> </span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">TestIdCard</span> {</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Test</span></span><br><span class=line>    <span class=meta>@Comment("身份证校验器")</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">test1</span><span class=params>()</span> {</span><br><span class=line>        <span class=type>String</span> <span class=variable>id15</span> <span class=operator>=</span> <span class=string>"510108871125243"</span>;</span><br><span class=line>        p3(<span class=string>"15位身份证号码"</span>,id15);</span><br><span class=line>        p3(<span class=string>"判断是否有效"</span>,IdcardUtil.isValidCard(id15));</span><br><span class=line>        p3(<span class=string>"转换为18位身份证号码"</span>,IdcardUtil.convert15To18(id15));</span><br><span class=line> </span><br><span class=line>        p3(<span class=string>"获取生日"</span>,IdcardUtil.getBirthByIdCard(id15));</span><br><span class=line>        p3(<span class=string>"获取年龄"</span>,IdcardUtil.getAgeByIdCard(id15));</span><br><span class=line>        p3(<span class=string>"获取出生年"</span>,IdcardUtil.getYearByIdCard(id15));</span><br><span class=line>        p3(<span class=string>"获取出生月"</span>,IdcardUtil.getMonthByIdCard(id15));</span><br><span class=line>        p3(<span class=string>"获取出生天"</span>,IdcardUtil.getDayByIdCard(id15));</span><br><span class=line>        p3(<span class=string>"获取性别"</span>,IdcardUtil.getGenderByIdCard(id15));</span><br><span class=line>        p3(<span class=string>"获取省份"</span>,IdcardUtil.getProvinceByIdCard(id15));</span><br><span class=line>         </span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=type>String</span> <span class=variable>preComment</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">c</span><span class=params>(String msg)</span> {</span><br><span class=line>        System.out.printf(<span class=string>"\t备注：%s%n"</span>, msg);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p1</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format1"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p2</span><span class=params>(String type1, Object value1, String type2, Object value2)</span> {</span><br><span class=line>        p(type1, value1, type2, value2, <span class=string>"format2"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p3</span><span class=params>(String type1, Object value1)</span> {</span><br><span class=line>        p(type1, value1, <span class=string>""</span>, <span class=string>""</span>, <span class=string>"format3"</span>);</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>void</span> <span class="title function_">p</span><span class=params>(String type1, Object value1, String type2, Object value2, String format)</span> {</span><br><span class=line>        <span class=keyword>try</span> {</span><br><span class=line>            <span class=keyword>throw</span> <span class=keyword>new</span> <span class="title class_">Exception</span>();</span><br><span class=line>        } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line> </span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> getTestMethodName(e.getStackTrace());</span><br><span class=line>            <span class=type>Method</span> <span class=variable>m</span> <span class=operator>=</span> ReflectUtil.getMethod(<span class=built_in>this</span>.getClass(), methodName);</span><br><span class=line>            <span class=type>Comment</span> <span class=variable>annotation</span> <span class=operator>=</span> m.getAnnotation(Comment.class);</span><br><span class=line>            <span class=keyword>if</span> (<span class=literal>null</span> != annotation) {</span><br><span class=line>                <span class=type>String</span> <span class=variable>comment</span> <span class=operator>=</span> annotation.value();</span><br><span class=line>                <span class=keyword>if</span> (!comment.equals(preComment)) {</span><br><span class=line>                    System.out.printf(<span class=string>"%n%s 例子： %n%n"</span>, comment);</span><br><span class=line>                    preComment = comment;</span><br><span class=line>                }</span><br><span class=line> </span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>padLength</span> <span class=operator>=</span> <span class=number>12</span>;</span><br><span class=line>        type1 = StrUtil.padEnd(type1, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        type2 = StrUtil.padEnd(type2, padLength, Convert.toSBC(<span class=string>" "</span>).charAt(<span class=number>0</span>));</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format1"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s的:\t\"%s\" %n\t被转换为----->%n\t%s的 :\t\"%s\" %n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format2"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t基于 %s:\t\"%s\" %n\t获取 %s:\t\"%s\"%n%n"</span>, type1, value1, type2, value2);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (<span class=string>"format3"</span>.equals(format)) {</span><br><span class=line>            System.out.printf(<span class=string>"\t%s:\t\"%s\" %n\t%n"</span>, type1, value1);</span><br><span class=line> </span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=keyword>private</span> String <span class="title function_">getTestMethodName</span><span class=params>(StackTraceElement[] stackTrace)</span> {</span><br><span class=line>        <span class=keyword>for</span> (StackTraceElement se : stackTrace) {</span><br><span class=line>            <span class=type>String</span> <span class=variable>methodName</span> <span class=operator>=</span> se.getMethodName();</span><br><span class=line>            <span class=keyword>if</span> (methodName.startsWith(<span class=string>"test"</span>))</span><br><span class=line>                <span class=keyword>return</span> methodName;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>null</span>;</span><br><span class=line>    }</span><br><span class=line> </span><br><span class=line>    <span class=meta>@Target({ METHOD, TYPE })</span></span><br><span class=line>    <span class=meta>@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=line>    <span class=meta>@Inherited</span></span><br><span class=line>    <span class=meta>@Documented</span></span><br><span class=line>    <span class=keyword>public</span> <span class=meta>@interface</span> Comment {</span><br><span class=line>        String <span class="title function_">value</span><span class=params>()</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure></div><footer class=post-footer><div class=post-tags><a href=/tags/Java/ rel=tag># Java</a><a href=/tags/Hutool/ rel=tag># Hutool</a></div><div class="social-like a2a_kit a2a_kit_size_32 a2a_default_style"><a class=a2a_dd href=https://www.addtoany.com/share rel=noopener target=_blank></a><a class=a2a_button_facebook></a><a class=a2a_button_twitter></a><a class=a2a_button_wechat></a></div><div class=post-nav><div class=post-nav-item><a title="Java 学习笔记 - 钢钢更新" href=/Java/java_note/ rel=prev> <i class="fa fa-angle-left"></i> Java 学习笔记 - 钢钢更新 </a></div><div class=post-nav-item><a title="Oracle APEX 活跃博文整理 | 2019.06.06" href=/Oracle/Oracle-APEX/apex-update-20190606/ rel=next> Oracle APEX 活跃博文整理 | 2019.06.06 <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© 2017 – <span itemprop=copyrightYear>2025</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>王方钢 / Kenny Wang</span></div><div class=wordcount><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-chart-line"></i> </span> <span title=站点总字数>326k</span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-coffee"></i> </span> <span title=站点阅读时长>19:46</span> </span></div><div class=powered-by>由 <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/muse/ rel=noopener target=_blank>NexT.Muse</a> 强力驱动</div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label=返回顶部 class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript>